function jO(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const u=Object.getOwnPropertyDescriptor(i,o);u&&Object.defineProperty(e,o,u.get?u:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function FO(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vk={exports:{}},Gh={},mk={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rl=Symbol.for("react.element"),UO=Symbol.for("react.portal"),VO=Symbol.for("react.fragment"),$O=Symbol.for("react.strict_mode"),BO=Symbol.for("react.profiler"),zO=Symbol.for("react.provider"),qO=Symbol.for("react.context"),KO=Symbol.for("react.forward_ref"),HO=Symbol.for("react.suspense"),WO=Symbol.for("react.memo"),GO=Symbol.for("react.lazy"),xS=Symbol.iterator;function QO(e){return e===null||typeof e!="object"?null:(e=xS&&e[xS]||e["@@iterator"],typeof e=="function"?e:null)}var gk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yk=Object.assign,wk={};function Su(e,t,n){this.props=e,this.context=t,this.refs=wk,this.updater=n||gk}Su.prototype.isReactComponent={};Su.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Su.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ek(){}Ek.prototype=Su.prototype;function Ly(e,t,n){this.props=e,this.context=t,this.refs=wk,this.updater=n||gk}var My=Ly.prototype=new Ek;My.constructor=Ly;yk(My,Su.prototype);My.isPureReactComponent=!0;var AS=Array.isArray,Ik=Object.prototype.hasOwnProperty,jy={current:null},Sk={key:!0,ref:!0,__self:!0,__source:!0};function Tk(e,t,n){var i,o={},u=null,a=null;if(t!=null)for(i in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(u=""+t.key),t)Ik.call(t,i)&&!Sk.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var f=Array(c),d=0;d<c;d++)f[d]=arguments[d+2];o.children=f}if(e&&e.defaultProps)for(i in c=e.defaultProps,c)o[i]===void 0&&(o[i]=c[i]);return{$$typeof:Rl,type:e,key:u,ref:a,props:o,_owner:jy.current}}function XO(e,t){return{$$typeof:Rl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rl}function YO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var DS=/\/+/g;function Em(e,t){return typeof e=="object"&&e!==null&&e.key!=null?YO(""+e.key):t.toString(36)}function Af(e,t,n,i,o){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(u){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Rl:case UO:a=!0}}if(a)return a=e,o=o(a),e=i===""?"."+Em(a,0):i,AS(o)?(n="",e!=null&&(n=e.replace(DS,"$&/")+"/"),Af(o,t,n,"",function(d){return d})):o!=null&&(Fy(o)&&(o=XO(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(DS,"$&/")+"/")+e)),t.push(o)),1;if(a=0,i=i===""?".":i+":",AS(e))for(var c=0;c<e.length;c++){u=e[c];var f=i+Em(u,c);a+=Af(u,t,n,f,o)}else if(f=QO(e),typeof f=="function")for(e=f.call(e),c=0;!(u=e.next()).done;)u=u.value,f=i+Em(u,c++),a+=Af(u,t,n,f,o);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function rf(e,t,n){if(e==null)return e;var i=[],o=0;return Af(e,i,"","",function(u){return t.call(n,u,o++)}),i}function JO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zt={current:null},Df={transition:null},ZO={ReactCurrentDispatcher:zt,ReactCurrentBatchConfig:Df,ReactCurrentOwner:jy};function _k(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:rf,forEach:function(e,t,n){rf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return rf(e,function(){t++}),t},toArray:function(e){return rf(e,function(t){return t})||[]},only:function(e){if(!Fy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=Su;fe.Fragment=VO;fe.Profiler=BO;fe.PureComponent=Ly;fe.StrictMode=$O;fe.Suspense=HO;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZO;fe.act=_k;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=yk({},e.props),o=e.key,u=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,a=jy.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(f in t)Ik.call(t,f)&&!Sk.hasOwnProperty(f)&&(i[f]=t[f]===void 0&&c!==void 0?c[f]:t[f])}var f=arguments.length-2;if(f===1)i.children=n;else if(1<f){c=Array(f);for(var d=0;d<f;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:Rl,type:e.type,key:o,ref:u,props:i,_owner:a}};fe.createContext=function(e){return e={$$typeof:qO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zO,_context:e},e.Consumer=e};fe.createElement=Tk;fe.createFactory=function(e){var t=Tk.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:KO,render:e}};fe.isValidElement=Fy;fe.lazy=function(e){return{$$typeof:GO,_payload:{_status:-1,_result:e},_init:JO}};fe.memo=function(e,t){return{$$typeof:WO,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=Df.transition;Df.transition={};try{e()}finally{Df.transition=t}};fe.unstable_act=_k;fe.useCallback=function(e,t){return zt.current.useCallback(e,t)};fe.useContext=function(e){return zt.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return zt.current.useDeferredValue(e)};fe.useEffect=function(e,t){return zt.current.useEffect(e,t)};fe.useId=function(){return zt.current.useId()};fe.useImperativeHandle=function(e,t,n){return zt.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return zt.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return zt.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return zt.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return zt.current.useReducer(e,t,n)};fe.useRef=function(e){return zt.current.useRef(e)};fe.useState=function(e){return zt.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return zt.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return zt.current.useTransition()};fe.version="18.3.1";mk.exports=fe;var B=mk.exports;const kk=FO(B),eL=jO({__proto__:null,default:kk},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tL=B,nL=Symbol.for("react.element"),rL=Symbol.for("react.fragment"),iL=Object.prototype.hasOwnProperty,oL=tL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sL={key:!0,ref:!0,__self:!0,__source:!0};function bk(e,t,n){var i,o={},u=null,a=null;n!==void 0&&(u=""+n),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(a=t.ref);for(i in t)iL.call(t,i)&&!sL.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)o[i]===void 0&&(o[i]=t[i]);return{$$typeof:nL,type:e,key:u,ref:a,props:o,_owner:oL.current}}Gh.Fragment=rL;Gh.jsx=bk;Gh.jsxs=bk;vk.exports=Gh;var C=vk.exports,cg={},Nk={exports:{}},Sn={},Ck={exports:{}},xk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,oe){var se=K.length;K.push(oe);e:for(;0<se;){var be=se-1>>>1,qe=K[be];if(0<o(qe,oe))K[be]=oe,K[se]=qe,se=be;else break e}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var oe=K[0],se=K.pop();if(se!==oe){K[0]=se;e:for(var be=0,qe=K.length,$i=qe>>>1;be<$i;){var tr=2*(be+1)-1,Ou=K[tr],Ln=tr+1,Bi=K[Ln];if(0>o(Ou,se))Ln<qe&&0>o(Bi,Ou)?(K[be]=Bi,K[Ln]=se,be=Ln):(K[be]=Ou,K[tr]=se,be=tr);else if(Ln<qe&&0>o(Bi,se))K[be]=Bi,K[Ln]=se,be=Ln;else break e}}return oe}function o(K,oe){var se=K.sortIndex-oe.sortIndex;return se!==0?se:K.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var f=[],d=[],v=1,m=null,y=3,E=!1,T=!1,k=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(K){for(var oe=n(d);oe!==null;){if(oe.callback===null)i(d);else if(oe.startTime<=K)i(d),oe.sortIndex=oe.expirationTime,t(f,oe);else break;oe=n(d)}}function A(K){if(k=!1,_(K),!T)if(n(f)!==null)T=!0,Er(L);else{var oe=n(d);oe!==null&&Jo(A,oe.startTime-K)}}function L(K,oe){T=!1,k&&(k=!1,S(P),P=-1),E=!0;var se=y;try{for(_(oe),m=n(f);m!==null&&(!(m.expirationTime>oe)||K&&!pt());){var be=m.callback;if(typeof be=="function"){m.callback=null,y=m.priorityLevel;var qe=be(m.expirationTime<=oe);oe=e.unstable_now(),typeof qe=="function"?m.callback=qe:m===n(f)&&i(f),_(oe)}else i(f);m=n(f)}if(m!==null)var $i=!0;else{var tr=n(d);tr!==null&&Jo(A,tr.startTime-oe),$i=!1}return $i}finally{m=null,y=se,E=!1}}var R=!1,q=null,P=-1,te=5,N=-1;function pt(){return!(e.unstable_now()-N<te)}function On(){if(q!==null){var K=e.unstable_now();N=K;var oe=!0;try{oe=q(!0,K)}finally{oe?Ui():(R=!1,q=null)}}else R=!1}var Ui;if(typeof I=="function")Ui=function(){I(On)};else if(typeof MessageChannel<"u"){var Yo=new MessageChannel,Vi=Yo.port2;Yo.port1.onmessage=On,Ui=function(){Vi.postMessage(null)}}else Ui=function(){x(On,0)};function Er(K){q=K,R||(R=!0,Ui())}function Jo(K,oe){P=x(function(){K(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){T||E||(T=!0,Er(L))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(K){switch(y){case 1:case 2:case 3:var oe=3;break;default:oe=y}var se=y;y=oe;try{return K()}finally{y=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,oe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var se=y;y=K;try{return oe()}finally{y=se}},e.unstable_scheduleCallback=function(K,oe,se){var be=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?be+se:be):se=be,K){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=se+qe,K={id:v++,callback:oe,priorityLevel:K,startTime:se,expirationTime:qe,sortIndex:-1},se>be?(K.sortIndex=se,t(d,K),n(f)===null&&K===n(d)&&(k?(S(P),P=-1):k=!0,Jo(A,se-be))):(K.sortIndex=qe,t(f,K),T||E||(T=!0,Er(L))),K},e.unstable_shouldYield=pt,e.unstable_wrapCallback=function(K){var oe=y;return function(){var se=y;y=oe;try{return K.apply(this,arguments)}finally{y=se}}}})(xk);Ck.exports=xk;var uL=Ck.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aL=B,wn=uL;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ak=new Set,Ga={};function Uo(e,t){Ys(e,t),Ys(e+"Capture",t)}function Ys(e,t){for(Ga[e]=t,e=0;e<t.length;e++)Ak.add(t[e])}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fg=Object.prototype.hasOwnProperty,lL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RS={},PS={};function cL(e){return fg.call(PS,e)?!0:fg.call(RS,e)?!1:lL.test(e)?PS[e]=!0:(RS[e]=!0,!1)}function fL(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hL(e,t,n,i){if(t===null||typeof t>"u"||fL(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qt(e,t,n,i,o,u,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=a}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){It[e]=new qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];It[t]=new qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){It[e]=new qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){It[e]=new qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){It[e]=new qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){It[e]=new qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){It[e]=new qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){It[e]=new qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){It[e]=new qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uy=/[\-:]([a-z])/g;function Vy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uy,Vy);It[t]=new qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uy,Vy);It[t]=new qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uy,Vy);It[t]=new qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){It[e]=new qt(e,1,!1,e.toLowerCase(),null,!1,!1)});It.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){It[e]=new qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function $y(e,t,n,i){var o=It.hasOwnProperty(t)?It[t]:null;(o!==null?o.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hL(t,n,o,i)&&(n=null),i||o===null?cL(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,i=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var qr=aL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,of=Symbol.for("react.element"),As=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),By=Symbol.for("react.strict_mode"),hg=Symbol.for("react.profiler"),Dk=Symbol.for("react.provider"),Rk=Symbol.for("react.context"),zy=Symbol.for("react.forward_ref"),dg=Symbol.for("react.suspense"),pg=Symbol.for("react.suspense_list"),qy=Symbol.for("react.memo"),oi=Symbol.for("react.lazy"),Pk=Symbol.for("react.offscreen"),OS=Symbol.iterator;function ga(e){return e===null||typeof e!="object"?null:(e=OS&&e[OS]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,Im;function Na(e){if(Im===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Im=t&&t[1]||""}return`
`+Im+e}var Sm=!1;function Tm(e,t){if(!e||Sm)return"";Sm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var i=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){i=d}e.call(t.prototype)}else{try{throw Error()}catch(d){i=d}e()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),u=i.stack.split(`
`),a=o.length-1,c=u.length-1;1<=a&&0<=c&&o[a]!==u[c];)c--;for(;1<=a&&0<=c;a--,c--)if(o[a]!==u[c]){if(a!==1||c!==1)do if(a--,c--,0>c||o[a]!==u[c]){var f=`
`+o[a].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=a&&0<=c);break}}}finally{Sm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Na(e):""}function dL(e){switch(e.tag){case 5:return Na(e.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return e=Tm(e.type,!1),e;case 11:return e=Tm(e.type.render,!1),e;case 1:return e=Tm(e.type,!0),e;default:return""}}function vg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ds:return"Fragment";case As:return"Portal";case hg:return"Profiler";case By:return"StrictMode";case dg:return"Suspense";case pg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Rk:return(e.displayName||"Context")+".Consumer";case Dk:return(e._context.displayName||"Context")+".Provider";case zy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qy:return t=e.displayName||null,t!==null?t:vg(e.type)||"Memo";case oi:t=e._payload,e=e._init;try{return vg(e(t))}catch{}}return null}function pL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vg(t);case 8:return t===By?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ci(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ok(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vL(e){var t=Ok(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){i=""+a,u.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sf(e){e._valueTracker||(e._valueTracker=vL(e))}function Lk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Ok(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Qf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mg(e,t){var n=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function LS(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Ci(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mk(e,t){t=t.checked,t!=null&&$y(e,"checked",t,!1)}function gg(e,t){Mk(e,t);var n=Ci(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yg(e,t.type,n):t.hasOwnProperty("defaultValue")&&yg(e,t.type,Ci(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function MS(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function yg(e,t,n){(t!=="number"||Qf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ca=Array.isArray;function qs(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ci(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function wg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jS(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(Ca(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ci(n)}}function jk(e,t){var n=Ci(t.value),i=Ci(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function FS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uf,Uk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uf=uf||document.createElement("div"),uf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Oa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mL=["Webkit","ms","Moz","O"];Object.keys(Oa).forEach(function(e){mL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oa[t]=Oa[e]})});function Vk(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Oa.hasOwnProperty(e)&&Oa[e]?(""+t).trim():t+"px"}function $k(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=Vk(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}var gL=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ig(e,t){if(t){if(gL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Sg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tg=null;function Ky(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _g=null,Ks=null,Hs=null;function US(e){if(e=Ll(e)){if(typeof _g!="function")throw Error($(280));var t=e.stateNode;t&&(t=Zh(t),_g(e.stateNode,e.type,t))}}function Bk(e){Ks?Hs?Hs.push(e):Hs=[e]:Ks=e}function zk(){if(Ks){var e=Ks,t=Hs;if(Hs=Ks=null,US(e),t)for(e=0;e<t.length;e++)US(t[e])}}function qk(e,t){return e(t)}function Kk(){}var _m=!1;function Hk(e,t,n){if(_m)return e(t,n);_m=!0;try{return qk(e,t,n)}finally{_m=!1,(Ks!==null||Hs!==null)&&(Kk(),zk())}}function Xa(e,t){var n=e.stateNode;if(n===null)return null;var i=Zh(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var kg=!1;if(Fr)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){kg=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{kg=!1}function yL(e,t,n,i,o,u,a,c,f){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(v){this.onError(v)}}var La=!1,Xf=null,Yf=!1,bg=null,wL={onError:function(e){La=!0,Xf=e}};function EL(e,t,n,i,o,u,a,c,f){La=!1,Xf=null,yL.apply(wL,arguments)}function IL(e,t,n,i,o,u,a,c,f){if(EL.apply(this,arguments),La){if(La){var d=Xf;La=!1,Xf=null}else throw Error($(198));Yf||(Yf=!0,bg=d)}}function Vo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Wk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function VS(e){if(Vo(e)!==e)throw Error($(188))}function SL(e){var t=e.alternate;if(!t){if(t=Vo(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return VS(o),e;if(u===i)return VS(o),t;u=u.sibling}throw Error($(188))}if(n.return!==i.return)n=o,i=u;else{for(var a=!1,c=o.child;c;){if(c===n){a=!0,n=o,i=u;break}if(c===i){a=!0,i=o,n=u;break}c=c.sibling}if(!a){for(c=u.child;c;){if(c===n){a=!0,n=u,i=o;break}if(c===i){a=!0,i=u,n=o;break}c=c.sibling}if(!a)throw Error($(189))}}if(n.alternate!==i)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function Gk(e){return e=SL(e),e!==null?Qk(e):null}function Qk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qk(e);if(t!==null)return t;e=e.sibling}return null}var Xk=wn.unstable_scheduleCallback,$S=wn.unstable_cancelCallback,TL=wn.unstable_shouldYield,_L=wn.unstable_requestPaint,Ge=wn.unstable_now,kL=wn.unstable_getCurrentPriorityLevel,Hy=wn.unstable_ImmediatePriority,Yk=wn.unstable_UserBlockingPriority,Jf=wn.unstable_NormalPriority,bL=wn.unstable_LowPriority,Jk=wn.unstable_IdlePriority,Qh=null,vr=null;function NL(e){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(Qh,e,void 0,(e.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:AL,CL=Math.log,xL=Math.LN2;function AL(e){return e>>>=0,e===0?32:31-(CL(e)/xL|0)|0}var af=64,lf=4194304;function xa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zf(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,o=e.suspendedLanes,u=e.pingedLanes,a=n&268435455;if(a!==0){var c=a&~o;c!==0?i=xa(c):(u&=a,u!==0&&(i=xa(u)))}else a=n&~o,a!==0?i=xa(a):u!==0&&(i=xa(u));if(i===0)return 0;if(t!==0&&t!==i&&!(t&o)&&(o=i&-i,u=t&-t,o>=u||o===16&&(u&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Gn(t),o=1<<n,i|=e[n],t&=~o;return i}function DL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RL(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var a=31-Gn(u),c=1<<a,f=o[a];f===-1?(!(c&n)||c&i)&&(o[a]=DL(c,t)):f<=t&&(e.expiredLanes|=c),u&=~c}}function Ng(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zk(){var e=af;return af<<=1,!(af&4194240)&&(af=64),e}function km(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gn(t),e[t]=n}function PL(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Gn(n),u=1<<o;t[o]=0,i[o]=-1,e[o]=-1,n&=~u}}function Wy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Gn(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}var Ie=0;function eb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tb,Gy,nb,rb,ib,Cg=!1,cf=[],gi=null,yi=null,wi=null,Ya=new Map,Ja=new Map,ai=[],OL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BS(e,t){switch(e){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":Ya.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ja.delete(t.pointerId)}}function wa(e,t,n,i,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Ll(t),t!==null&&Gy(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function LL(e,t,n,i,o){switch(t){case"focusin":return gi=wa(gi,e,t,n,i,o),!0;case"dragenter":return yi=wa(yi,e,t,n,i,o),!0;case"mouseover":return wi=wa(wi,e,t,n,i,o),!0;case"pointerover":var u=o.pointerId;return Ya.set(u,wa(Ya.get(u)||null,e,t,n,i,o)),!0;case"gotpointercapture":return u=o.pointerId,Ja.set(u,wa(Ja.get(u)||null,e,t,n,i,o)),!0}return!1}function ob(e){var t=vo(e.target);if(t!==null){var n=Vo(t);if(n!==null){if(t=n.tag,t===13){if(t=Wk(n),t!==null){e.blockedOn=t,ib(e.priority,function(){nb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Tg=i,n.target.dispatchEvent(i),Tg=null}else return t=Ll(n),t!==null&&Gy(t),e.blockedOn=n,!1;t.shift()}return!0}function zS(e,t,n){Rf(e)&&n.delete(t)}function ML(){Cg=!1,gi!==null&&Rf(gi)&&(gi=null),yi!==null&&Rf(yi)&&(yi=null),wi!==null&&Rf(wi)&&(wi=null),Ya.forEach(zS),Ja.forEach(zS)}function Ea(e,t){e.blockedOn===t&&(e.blockedOn=null,Cg||(Cg=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,ML)))}function Za(e){function t(o){return Ea(o,e)}if(0<cf.length){Ea(cf[0],e);for(var n=1;n<cf.length;n++){var i=cf[n];i.blockedOn===e&&(i.blockedOn=null)}}for(gi!==null&&Ea(gi,e),yi!==null&&Ea(yi,e),wi!==null&&Ea(wi,e),Ya.forEach(t),Ja.forEach(t),n=0;n<ai.length;n++)i=ai[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<ai.length&&(n=ai[0],n.blockedOn===null);)ob(n),n.blockedOn===null&&ai.shift()}var Ws=qr.ReactCurrentBatchConfig,eh=!0;function jL(e,t,n,i){var o=Ie,u=Ws.transition;Ws.transition=null;try{Ie=1,Qy(e,t,n,i)}finally{Ie=o,Ws.transition=u}}function FL(e,t,n,i){var o=Ie,u=Ws.transition;Ws.transition=null;try{Ie=4,Qy(e,t,n,i)}finally{Ie=o,Ws.transition=u}}function Qy(e,t,n,i){if(eh){var o=xg(e,t,n,i);if(o===null)Lm(e,t,i,th,n),BS(e,i);else if(LL(o,e,t,n,i))i.stopPropagation();else if(BS(e,i),t&4&&-1<OL.indexOf(e)){for(;o!==null;){var u=Ll(o);if(u!==null&&tb(u),u=xg(e,t,n,i),u===null&&Lm(e,t,i,th,n),u===o)break;o=u}o!==null&&i.stopPropagation()}else Lm(e,t,i,null,n)}}var th=null;function xg(e,t,n,i){if(th=null,e=Ky(i),e=vo(e),e!==null)if(t=Vo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Wk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return th=e,null}function sb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kL()){case Hy:return 1;case Yk:return 4;case Jf:case bL:return 16;case Jk:return 536870912;default:return 16}default:return 16}}var pi=null,Xy=null,Pf=null;function ub(){if(Pf)return Pf;var e,t=Xy,n=t.length,i,o="value"in pi?pi.value:pi.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===o[u-i];i++);return Pf=o.slice(e,1<i?1-i:void 0)}function Of(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ff(){return!0}function qS(){return!1}function Tn(e){function t(n,i,o,u,a){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=u,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(u):u[c]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ff:qS,this.isPropagationStopped=qS,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ff)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ff)},persist:function(){},isPersistent:ff}),t}var Tu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yy=Tn(Tu),Ol=Ue({},Tu,{view:0,detail:0}),UL=Tn(Ol),bm,Nm,Ia,Xh=Ue({},Ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ia&&(Ia&&e.type==="mousemove"?(bm=e.screenX-Ia.screenX,Nm=e.screenY-Ia.screenY):Nm=bm=0,Ia=e),bm)},movementY:function(e){return"movementY"in e?e.movementY:Nm}}),KS=Tn(Xh),VL=Ue({},Xh,{dataTransfer:0}),$L=Tn(VL),BL=Ue({},Ol,{relatedTarget:0}),Cm=Tn(BL),zL=Ue({},Tu,{animationName:0,elapsedTime:0,pseudoElement:0}),qL=Tn(zL),KL=Ue({},Tu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),HL=Tn(KL),WL=Ue({},Tu,{data:0}),HS=Tn(WL),GL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=XL[e])?!!t[e]:!1}function Jy(){return YL}var JL=Ue({},Ol,{key:function(e){if(e.key){var t=GL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Of(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?QL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jy,charCode:function(e){return e.type==="keypress"?Of(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Of(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ZL=Tn(JL),e4=Ue({},Xh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WS=Tn(e4),t4=Ue({},Ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jy}),n4=Tn(t4),r4=Ue({},Tu,{propertyName:0,elapsedTime:0,pseudoElement:0}),i4=Tn(r4),o4=Ue({},Xh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),s4=Tn(o4),u4=[9,13,27,32],Zy=Fr&&"CompositionEvent"in window,Ma=null;Fr&&"documentMode"in document&&(Ma=document.documentMode);var a4=Fr&&"TextEvent"in window&&!Ma,ab=Fr&&(!Zy||Ma&&8<Ma&&11>=Ma),GS=" ",QS=!1;function lb(e,t){switch(e){case"keyup":return u4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rs=!1;function l4(e,t){switch(e){case"compositionend":return cb(t);case"keypress":return t.which!==32?null:(QS=!0,GS);case"textInput":return e=t.data,e===GS&&QS?null:e;default:return null}}function c4(e,t){if(Rs)return e==="compositionend"||!Zy&&lb(e,t)?(e=ub(),Pf=Xy=pi=null,Rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ab&&t.locale!=="ko"?null:t.data;default:return null}}var f4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!f4[e.type]:t==="textarea"}function fb(e,t,n,i){Bk(i),t=nh(t,"onChange"),0<t.length&&(n=new Yy("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ja=null,el=null;function h4(e){Sb(e,0)}function Yh(e){var t=Ls(e);if(Lk(t))return e}function d4(e,t){if(e==="change")return t}var hb=!1;if(Fr){var xm;if(Fr){var Am="oninput"in document;if(!Am){var YS=document.createElement("div");YS.setAttribute("oninput","return;"),Am=typeof YS.oninput=="function"}xm=Am}else xm=!1;hb=xm&&(!document.documentMode||9<document.documentMode)}function JS(){ja&&(ja.detachEvent("onpropertychange",db),el=ja=null)}function db(e){if(e.propertyName==="value"&&Yh(el)){var t=[];fb(t,el,e,Ky(e)),Hk(h4,t)}}function p4(e,t,n){e==="focusin"?(JS(),ja=t,el=n,ja.attachEvent("onpropertychange",db)):e==="focusout"&&JS()}function v4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yh(el)}function m4(e,t){if(e==="click")return Yh(t)}function g4(e,t){if(e==="input"||e==="change")return Yh(t)}function y4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zn=typeof Object.is=="function"?Object.is:y4;function tl(e,t){if(Zn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!fg.call(t,o)||!Zn(e[o],t[o]))return!1}return!0}function ZS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eT(e,t){var n=ZS(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ZS(n)}}function pb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vb(){for(var e=window,t=Qf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qf(e.document)}return t}function e0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function w4(e){var t=vb(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pb(n.ownerDocument.documentElement,n)){if(i!==null&&e0(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,u=Math.min(i.start,o);i=i.end===void 0?u:Math.min(i.end,o),!e.extend&&u>i&&(o=i,i=u,u=o),o=eT(n,u);var a=eT(n,i);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),u>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var E4=Fr&&"documentMode"in document&&11>=document.documentMode,Ps=null,Ag=null,Fa=null,Dg=!1;function tT(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dg||Ps==null||Ps!==Qf(i)||(i=Ps,"selectionStart"in i&&e0(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fa&&tl(Fa,i)||(Fa=i,i=nh(Ag,"onSelect"),0<i.length&&(t=new Yy("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ps)))}function hf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Os={animationend:hf("Animation","AnimationEnd"),animationiteration:hf("Animation","AnimationIteration"),animationstart:hf("Animation","AnimationStart"),transitionend:hf("Transition","TransitionEnd")},Dm={},mb={};Fr&&(mb=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function Jh(e){if(Dm[e])return Dm[e];if(!Os[e])return e;var t=Os[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mb)return Dm[e]=t[n];return e}var gb=Jh("animationend"),yb=Jh("animationiteration"),wb=Jh("animationstart"),Eb=Jh("transitionend"),Ib=new Map,nT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(e,t){Ib.set(e,t),Uo(t,[e])}for(var Rm=0;Rm<nT.length;Rm++){var Pm=nT[Rm],I4=Pm.toLowerCase(),S4=Pm[0].toUpperCase()+Pm.slice(1);Di(I4,"on"+S4)}Di(gb,"onAnimationEnd");Di(yb,"onAnimationIteration");Di(wb,"onAnimationStart");Di("dblclick","onDoubleClick");Di("focusin","onFocus");Di("focusout","onBlur");Di(Eb,"onTransitionEnd");Ys("onMouseEnter",["mouseout","mouseover"]);Ys("onMouseLeave",["mouseout","mouseover"]);Ys("onPointerEnter",["pointerout","pointerover"]);Ys("onPointerLeave",["pointerout","pointerover"]);Uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function rT(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,IL(i,t,void 0,e),e.currentTarget=null}function Sb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var a=i.length-1;0<=a;a--){var c=i[a],f=c.instance,d=c.currentTarget;if(c=c.listener,f!==u&&o.isPropagationStopped())break e;rT(o,c,d),u=f}else for(a=0;a<i.length;a++){if(c=i[a],f=c.instance,d=c.currentTarget,c=c.listener,f!==u&&o.isPropagationStopped())break e;rT(o,c,d),u=f}}}if(Yf)throw e=bg,Yf=!1,bg=null,e}function Ne(e,t){var n=t[Mg];n===void 0&&(n=t[Mg]=new Set);var i=e+"__bubble";n.has(i)||(Tb(t,e,2,!1),n.add(i))}function Om(e,t,n){var i=0;t&&(i|=4),Tb(n,e,i,t)}var df="_reactListening"+Math.random().toString(36).slice(2);function nl(e){if(!e[df]){e[df]=!0,Ak.forEach(function(n){n!=="selectionchange"&&(T4.has(n)||Om(n,!1,e),Om(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[df]||(t[df]=!0,Om("selectionchange",!1,t))}}function Tb(e,t,n,i){switch(sb(t)){case 1:var o=jL;break;case 4:o=FL;break;default:o=Qy}n=o.bind(null,t,n,e),o=void 0,!kg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Lm(e,t,n,i,o){var u=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var c=i.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(a===4)for(a=i.return;a!==null;){var f=a.tag;if((f===3||f===4)&&(f=a.stateNode.containerInfo,f===o||f.nodeType===8&&f.parentNode===o))return;a=a.return}for(;c!==null;){if(a=vo(c),a===null)return;if(f=a.tag,f===5||f===6){i=u=a;continue e}c=c.parentNode}}i=i.return}Hk(function(){var d=u,v=Ky(n),m=[];e:{var y=Ib.get(e);if(y!==void 0){var E=Yy,T=e;switch(e){case"keypress":if(Of(n)===0)break e;case"keydown":case"keyup":E=ZL;break;case"focusin":T="focus",E=Cm;break;case"focusout":T="blur",E=Cm;break;case"beforeblur":case"afterblur":E=Cm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=KS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=$L;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=n4;break;case gb:case yb:case wb:E=qL;break;case Eb:E=i4;break;case"scroll":E=UL;break;case"wheel":E=s4;break;case"copy":case"cut":case"paste":E=HL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=WS}var k=(t&4)!==0,x=!k&&e==="scroll",S=k?y!==null?y+"Capture":null:y;k=[];for(var I=d,_;I!==null;){_=I;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,S!==null&&(A=Xa(I,S),A!=null&&k.push(rl(I,A,_)))),x)break;I=I.return}0<k.length&&(y=new E(y,T,null,n,v),m.push({event:y,listeners:k}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",y&&n!==Tg&&(T=n.relatedTarget||n.fromElement)&&(vo(T)||T[Ur]))break e;if((E||y)&&(y=v.window===v?v:(y=v.ownerDocument)?y.defaultView||y.parentWindow:window,E?(T=n.relatedTarget||n.toElement,E=d,T=T?vo(T):null,T!==null&&(x=Vo(T),T!==x||T.tag!==5&&T.tag!==6)&&(T=null)):(E=null,T=d),E!==T)){if(k=KS,A="onMouseLeave",S="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(k=WS,A="onPointerLeave",S="onPointerEnter",I="pointer"),x=E==null?y:Ls(E),_=T==null?y:Ls(T),y=new k(A,I+"leave",E,n,v),y.target=x,y.relatedTarget=_,A=null,vo(v)===d&&(k=new k(S,I+"enter",T,n,v),k.target=_,k.relatedTarget=x,A=k),x=A,E&&T)t:{for(k=E,S=T,I=0,_=k;_;_=Ts(_))I++;for(_=0,A=S;A;A=Ts(A))_++;for(;0<I-_;)k=Ts(k),I--;for(;0<_-I;)S=Ts(S),_--;for(;I--;){if(k===S||S!==null&&k===S.alternate)break t;k=Ts(k),S=Ts(S)}k=null}else k=null;E!==null&&iT(m,y,E,k,!1),T!==null&&x!==null&&iT(m,x,T,k,!0)}}e:{if(y=d?Ls(d):window,E=y.nodeName&&y.nodeName.toLowerCase(),E==="select"||E==="input"&&y.type==="file")var L=d4;else if(XS(y))if(hb)L=g4;else{L=v4;var R=p4}else(E=y.nodeName)&&E.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(L=m4);if(L&&(L=L(e,d))){fb(m,L,n,v);break e}R&&R(e,y,d),e==="focusout"&&(R=y._wrapperState)&&R.controlled&&y.type==="number"&&yg(y,"number",y.value)}switch(R=d?Ls(d):window,e){case"focusin":(XS(R)||R.contentEditable==="true")&&(Ps=R,Ag=d,Fa=null);break;case"focusout":Fa=Ag=Ps=null;break;case"mousedown":Dg=!0;break;case"contextmenu":case"mouseup":case"dragend":Dg=!1,tT(m,n,v);break;case"selectionchange":if(E4)break;case"keydown":case"keyup":tT(m,n,v)}var q;if(Zy)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Rs?lb(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(ab&&n.locale!=="ko"&&(Rs||P!=="onCompositionStart"?P==="onCompositionEnd"&&Rs&&(q=ub()):(pi=v,Xy="value"in pi?pi.value:pi.textContent,Rs=!0)),R=nh(d,P),0<R.length&&(P=new HS(P,e,null,n,v),m.push({event:P,listeners:R}),q?P.data=q:(q=cb(n),q!==null&&(P.data=q)))),(q=a4?l4(e,n):c4(e,n))&&(d=nh(d,"onBeforeInput"),0<d.length&&(v=new HS("onBeforeInput","beforeinput",null,n,v),m.push({event:v,listeners:d}),v.data=q))}Sb(m,t)})}function rl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nh(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,u=o.stateNode;o.tag===5&&u!==null&&(o=u,u=Xa(e,n),u!=null&&i.unshift(rl(e,u,o)),u=Xa(e,t),u!=null&&i.push(rl(e,u,o))),e=e.return}return i}function Ts(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function iT(e,t,n,i,o){for(var u=t._reactName,a=[];n!==null&&n!==i;){var c=n,f=c.alternate,d=c.stateNode;if(f!==null&&f===i)break;c.tag===5&&d!==null&&(c=d,o?(f=Xa(n,u),f!=null&&a.unshift(rl(n,f,c))):o||(f=Xa(n,u),f!=null&&a.push(rl(n,f,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var _4=/\r\n?/g,k4=/\u0000|\uFFFD/g;function oT(e){return(typeof e=="string"?e:""+e).replace(_4,`
`).replace(k4,"")}function pf(e,t,n){if(t=oT(t),oT(e)!==t&&n)throw Error($(425))}function rh(){}var Rg=null,Pg=null;function Og(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lg=typeof setTimeout=="function"?setTimeout:void 0,b4=typeof clearTimeout=="function"?clearTimeout:void 0,sT=typeof Promise=="function"?Promise:void 0,N4=typeof queueMicrotask=="function"?queueMicrotask:typeof sT<"u"?function(e){return sT.resolve(null).then(e).catch(C4)}:Lg;function C4(e){setTimeout(function(){throw e})}function Mm(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){e.removeChild(o),Za(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);Za(t)}function Ei(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _u=Math.random().toString(36).slice(2),dr="__reactFiber$"+_u,il="__reactProps$"+_u,Ur="__reactContainer$"+_u,Mg="__reactEvents$"+_u,x4="__reactListeners$"+_u,A4="__reactHandles$"+_u;function vo(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ur]||n[dr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uT(e);e!==null;){if(n=e[dr])return n;e=uT(e)}return t}e=n,n=e.parentNode}return null}function Ll(e){return e=e[dr]||e[Ur],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ls(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Zh(e){return e[il]||null}var jg=[],Ms=-1;function Ri(e){return{current:e}}function xe(e){0>Ms||(e.current=jg[Ms],jg[Ms]=null,Ms--)}function _e(e,t){Ms++,jg[Ms]=e.current,e.current=t}var xi={},Dt=Ri(xi),en=Ri(!1),No=xi;function Js(e,t){var n=e.type.contextTypes;if(!n)return xi;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={},u;for(u in n)o[u]=t[u];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function tn(e){return e=e.childContextTypes,e!=null}function ih(){xe(en),xe(Dt)}function aT(e,t,n){if(Dt.current!==xi)throw Error($(168));_e(Dt,t),_e(en,n)}function _b(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error($(108,pL(e)||"Unknown",o));return Ue({},n,i)}function oh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,No=Dt.current,_e(Dt,e),_e(en,en.current),!0}function lT(e,t,n){var i=e.stateNode;if(!i)throw Error($(169));n?(e=_b(e,t,No),i.__reactInternalMemoizedMergedChildContext=e,xe(en),xe(Dt),_e(Dt,e)):xe(en),_e(en,n)}var Cr=null,ed=!1,jm=!1;function kb(e){Cr===null?Cr=[e]:Cr.push(e)}function D4(e){ed=!0,kb(e)}function Pi(){if(!jm&&Cr!==null){jm=!0;var e=0,t=Ie;try{var n=Cr;for(Ie=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Cr=null,ed=!1}catch(o){throw Cr!==null&&(Cr=Cr.slice(e+1)),Xk(Hy,Pi),o}finally{Ie=t,jm=!1}}return null}var js=[],Fs=0,sh=null,uh=0,Cn=[],xn=0,Co=null,Ar=1,Dr="";function fo(e,t){js[Fs++]=uh,js[Fs++]=sh,sh=e,uh=t}function bb(e,t,n){Cn[xn++]=Ar,Cn[xn++]=Dr,Cn[xn++]=Co,Co=e;var i=Ar;e=Dr;var o=32-Gn(i)-1;i&=~(1<<o),n+=1;var u=32-Gn(t)+o;if(30<u){var a=o-o%5;u=(i&(1<<a)-1).toString(32),i>>=a,o-=a,Ar=1<<32-Gn(t)+o|n<<o|i,Dr=u+e}else Ar=1<<u|n<<o|i,Dr=e}function t0(e){e.return!==null&&(fo(e,1),bb(e,1,0))}function n0(e){for(;e===sh;)sh=js[--Fs],js[Fs]=null,uh=js[--Fs],js[Fs]=null;for(;e===Co;)Co=Cn[--xn],Cn[xn]=null,Dr=Cn[--xn],Cn[xn]=null,Ar=Cn[--xn],Cn[xn]=null}var gn=null,pn=null,Re=!1,Wn=null;function Nb(e,t){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function cT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gn=e,pn=Ei(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gn=e,pn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Co!==null?{id:Ar,overflow:Dr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gn=e,pn=null,!0):!1;default:return!1}}function Fg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ug(e){if(Re){var t=pn;if(t){var n=t;if(!cT(e,t)){if(Fg(e))throw Error($(418));t=Ei(n.nextSibling);var i=gn;t&&cT(e,t)?Nb(i,n):(e.flags=e.flags&-4097|2,Re=!1,gn=e)}}else{if(Fg(e))throw Error($(418));e.flags=e.flags&-4097|2,Re=!1,gn=e}}}function fT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gn=e}function vf(e){if(e!==gn)return!1;if(!Re)return fT(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Og(e.type,e.memoizedProps)),t&&(t=pn)){if(Fg(e))throw Cb(),Error($(418));for(;t;)Nb(e,t),t=Ei(t.nextSibling)}if(fT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pn=Ei(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pn=null}}else pn=gn?Ei(e.stateNode.nextSibling):null;return!0}function Cb(){for(var e=pn;e;)e=Ei(e.nextSibling)}function Zs(){pn=gn=null,Re=!1}function r0(e){Wn===null?Wn=[e]:Wn.push(e)}var R4=qr.ReactCurrentBatchConfig;function Sa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var i=n.stateNode}if(!i)throw Error($(147,e));var o=i,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(a){var c=o.refs;a===null?delete c[u]:c[u]=a},t._stringRef=u,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function mf(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hT(e){var t=e._init;return t(e._payload)}function xb(e){function t(S,I){if(e){var _=S.deletions;_===null?(S.deletions=[I],S.flags|=16):_.push(I)}}function n(S,I){if(!e)return null;for(;I!==null;)t(S,I),I=I.sibling;return null}function i(S,I){for(S=new Map;I!==null;)I.key!==null?S.set(I.key,I):S.set(I.index,I),I=I.sibling;return S}function o(S,I){return S=_i(S,I),S.index=0,S.sibling=null,S}function u(S,I,_){return S.index=_,e?(_=S.alternate,_!==null?(_=_.index,_<I?(S.flags|=2,I):_):(S.flags|=2,I)):(S.flags|=1048576,I)}function a(S){return e&&S.alternate===null&&(S.flags|=2),S}function c(S,I,_,A){return I===null||I.tag!==6?(I=qm(_,S.mode,A),I.return=S,I):(I=o(I,_),I.return=S,I)}function f(S,I,_,A){var L=_.type;return L===Ds?v(S,I,_.props.children,A,_.key):I!==null&&(I.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===oi&&hT(L)===I.type)?(A=o(I,_.props),A.ref=Sa(S,I,_),A.return=S,A):(A=$f(_.type,_.key,_.props,null,S.mode,A),A.ref=Sa(S,I,_),A.return=S,A)}function d(S,I,_,A){return I===null||I.tag!==4||I.stateNode.containerInfo!==_.containerInfo||I.stateNode.implementation!==_.implementation?(I=Km(_,S.mode,A),I.return=S,I):(I=o(I,_.children||[]),I.return=S,I)}function v(S,I,_,A,L){return I===null||I.tag!==7?(I=To(_,S.mode,A,L),I.return=S,I):(I=o(I,_),I.return=S,I)}function m(S,I,_){if(typeof I=="string"&&I!==""||typeof I=="number")return I=qm(""+I,S.mode,_),I.return=S,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case of:return _=$f(I.type,I.key,I.props,null,S.mode,_),_.ref=Sa(S,null,I),_.return=S,_;case As:return I=Km(I,S.mode,_),I.return=S,I;case oi:var A=I._init;return m(S,A(I._payload),_)}if(Ca(I)||ga(I))return I=To(I,S.mode,_,null),I.return=S,I;mf(S,I)}return null}function y(S,I,_,A){var L=I!==null?I.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return L!==null?null:c(S,I,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case of:return _.key===L?f(S,I,_,A):null;case As:return _.key===L?d(S,I,_,A):null;case oi:return L=_._init,y(S,I,L(_._payload),A)}if(Ca(_)||ga(_))return L!==null?null:v(S,I,_,A,null);mf(S,_)}return null}function E(S,I,_,A,L){if(typeof A=="string"&&A!==""||typeof A=="number")return S=S.get(_)||null,c(I,S,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case of:return S=S.get(A.key===null?_:A.key)||null,f(I,S,A,L);case As:return S=S.get(A.key===null?_:A.key)||null,d(I,S,A,L);case oi:var R=A._init;return E(S,I,_,R(A._payload),L)}if(Ca(A)||ga(A))return S=S.get(_)||null,v(I,S,A,L,null);mf(I,A)}return null}function T(S,I,_,A){for(var L=null,R=null,q=I,P=I=0,te=null;q!==null&&P<_.length;P++){q.index>P?(te=q,q=null):te=q.sibling;var N=y(S,q,_[P],A);if(N===null){q===null&&(q=te);break}e&&q&&N.alternate===null&&t(S,q),I=u(N,I,P),R===null?L=N:R.sibling=N,R=N,q=te}if(P===_.length)return n(S,q),Re&&fo(S,P),L;if(q===null){for(;P<_.length;P++)q=m(S,_[P],A),q!==null&&(I=u(q,I,P),R===null?L=q:R.sibling=q,R=q);return Re&&fo(S,P),L}for(q=i(S,q);P<_.length;P++)te=E(q,S,P,_[P],A),te!==null&&(e&&te.alternate!==null&&q.delete(te.key===null?P:te.key),I=u(te,I,P),R===null?L=te:R.sibling=te,R=te);return e&&q.forEach(function(pt){return t(S,pt)}),Re&&fo(S,P),L}function k(S,I,_,A){var L=ga(_);if(typeof L!="function")throw Error($(150));if(_=L.call(_),_==null)throw Error($(151));for(var R=L=null,q=I,P=I=0,te=null,N=_.next();q!==null&&!N.done;P++,N=_.next()){q.index>P?(te=q,q=null):te=q.sibling;var pt=y(S,q,N.value,A);if(pt===null){q===null&&(q=te);break}e&&q&&pt.alternate===null&&t(S,q),I=u(pt,I,P),R===null?L=pt:R.sibling=pt,R=pt,q=te}if(N.done)return n(S,q),Re&&fo(S,P),L;if(q===null){for(;!N.done;P++,N=_.next())N=m(S,N.value,A),N!==null&&(I=u(N,I,P),R===null?L=N:R.sibling=N,R=N);return Re&&fo(S,P),L}for(q=i(S,q);!N.done;P++,N=_.next())N=E(q,S,P,N.value,A),N!==null&&(e&&N.alternate!==null&&q.delete(N.key===null?P:N.key),I=u(N,I,P),R===null?L=N:R.sibling=N,R=N);return e&&q.forEach(function(On){return t(S,On)}),Re&&fo(S,P),L}function x(S,I,_,A){if(typeof _=="object"&&_!==null&&_.type===Ds&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case of:e:{for(var L=_.key,R=I;R!==null;){if(R.key===L){if(L=_.type,L===Ds){if(R.tag===7){n(S,R.sibling),I=o(R,_.props.children),I.return=S,S=I;break e}}else if(R.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===oi&&hT(L)===R.type){n(S,R.sibling),I=o(R,_.props),I.ref=Sa(S,R,_),I.return=S,S=I;break e}n(S,R);break}else t(S,R);R=R.sibling}_.type===Ds?(I=To(_.props.children,S.mode,A,_.key),I.return=S,S=I):(A=$f(_.type,_.key,_.props,null,S.mode,A),A.ref=Sa(S,I,_),A.return=S,S=A)}return a(S);case As:e:{for(R=_.key;I!==null;){if(I.key===R)if(I.tag===4&&I.stateNode.containerInfo===_.containerInfo&&I.stateNode.implementation===_.implementation){n(S,I.sibling),I=o(I,_.children||[]),I.return=S,S=I;break e}else{n(S,I);break}else t(S,I);I=I.sibling}I=Km(_,S.mode,A),I.return=S,S=I}return a(S);case oi:return R=_._init,x(S,I,R(_._payload),A)}if(Ca(_))return T(S,I,_,A);if(ga(_))return k(S,I,_,A);mf(S,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,I!==null&&I.tag===6?(n(S,I.sibling),I=o(I,_),I.return=S,S=I):(n(S,I),I=qm(_,S.mode,A),I.return=S,S=I),a(S)):n(S,I)}return x}var eu=xb(!0),Ab=xb(!1),ah=Ri(null),lh=null,Us=null,i0=null;function o0(){i0=Us=lh=null}function s0(e){var t=ah.current;xe(ah),e._currentValue=t}function Vg(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Gs(e,t){lh=e,i0=Us=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Jt=!0),e.firstContext=null)}function Rn(e){var t=e._currentValue;if(i0!==e)if(e={context:e,memoizedValue:t,next:null},Us===null){if(lh===null)throw Error($(308));Us=e,lh.dependencies={lanes:0,firstContext:e}}else Us=Us.next=e;return t}var mo=null;function u0(e){mo===null?mo=[e]:mo.push(e)}function Db(e,t,n,i){var o=t.interleaved;return o===null?(n.next=n,u0(t)):(n.next=o.next,o.next=n),t.interleaved=n,Vr(e,i)}function Vr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var si=!1;function a0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ii(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ve&2){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,Vr(e,n)}return o=i.interleaved,o===null?(t.next=t,u0(i)):(t.next=o.next,o.next=t),i.interleaved=t,Vr(e,n)}function Lf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Wy(e,n)}}function dT(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?o=u=a:u=u.next=a,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ch(e,t,n,i){var o=e.updateQueue;si=!1;var u=o.firstBaseUpdate,a=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var f=c,d=f.next;f.next=null,a===null?u=d:a.next=d,a=f;var v=e.alternate;v!==null&&(v=v.updateQueue,c=v.lastBaseUpdate,c!==a&&(c===null?v.firstBaseUpdate=d:c.next=d,v.lastBaseUpdate=f))}if(u!==null){var m=o.baseState;a=0,v=d=f=null,c=u;do{var y=c.lane,E=c.eventTime;if((i&y)===y){v!==null&&(v=v.next={eventTime:E,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var T=e,k=c;switch(y=t,E=n,k.tag){case 1:if(T=k.payload,typeof T=="function"){m=T.call(E,m,y);break e}m=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=k.payload,y=typeof T=="function"?T.call(E,m,y):T,y==null)break e;m=Ue({},m,y);break e;case 2:si=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,y=o.effects,y===null?o.effects=[c]:y.push(c))}else E={eventTime:E,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},v===null?(d=v=E,f=m):v=v.next=E,a|=y;if(c=c.next,c===null){if(c=o.shared.pending,c===null)break;y=c,c=y.next,y.next=null,o.lastBaseUpdate=y,o.shared.pending=null}}while(!0);if(v===null&&(f=m),o.baseState=f,o.firstBaseUpdate=d,o.lastBaseUpdate=v,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else u===null&&(o.shared.lanes=0);Ao|=a,e.lanes=a,e.memoizedState=m}}function pT(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error($(191,o));o.call(i)}}}var Ml={},mr=Ri(Ml),ol=Ri(Ml),sl=Ri(Ml);function go(e){if(e===Ml)throw Error($(174));return e}function l0(e,t){switch(_e(sl,t),_e(ol,e),_e(mr,Ml),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Eg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Eg(t,e)}xe(mr),_e(mr,t)}function tu(){xe(mr),xe(ol),xe(sl)}function Pb(e){go(sl.current);var t=go(mr.current),n=Eg(t,e.type);t!==n&&(_e(ol,e),_e(mr,n))}function c0(e){ol.current===e&&(xe(mr),xe(ol))}var Me=Ri(0);function fh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fm=[];function f0(){for(var e=0;e<Fm.length;e++)Fm[e]._workInProgressVersionPrimary=null;Fm.length=0}var Mf=qr.ReactCurrentDispatcher,Um=qr.ReactCurrentBatchConfig,xo=0,Fe=null,ot=null,ft=null,hh=!1,Ua=!1,ul=0,P4=0;function Tt(){throw Error($(321))}function h0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function d0(e,t,n,i,o,u){if(xo=u,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mf.current=e===null||e.memoizedState===null?j4:F4,e=n(i,o),Ua){u=0;do{if(Ua=!1,ul=0,25<=u)throw Error($(301));u+=1,ft=ot=null,t.updateQueue=null,Mf.current=U4,e=n(i,o)}while(Ua)}if(Mf.current=dh,t=ot!==null&&ot.next!==null,xo=0,ft=ot=Fe=null,hh=!1,t)throw Error($(300));return e}function p0(){var e=ul!==0;return ul=0,e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Fe.memoizedState=ft=e:ft=ft.next=e,ft}function Pn(){if(ot===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=ft===null?Fe.memoizedState:ft.next;if(t!==null)ft=t,ot=e;else{if(e===null)throw Error($(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ft===null?Fe.memoizedState=ft=e:ft=ft.next=e}return ft}function al(e,t){return typeof t=="function"?t(e):t}function Vm(e){var t=Pn(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var i=ot,o=i.baseQueue,u=n.pending;if(u!==null){if(o!==null){var a=o.next;o.next=u.next,u.next=a}i.baseQueue=o=u,n.pending=null}if(o!==null){u=o.next,i=i.baseState;var c=a=null,f=null,d=u;do{var v=d.lane;if((xo&v)===v)f!==null&&(f=f.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var m={lane:v,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};f===null?(c=f=m,a=i):f=f.next=m,Fe.lanes|=v,Ao|=v}d=d.next}while(d!==null&&d!==u);f===null?a=i:f.next=c,Zn(i,t.memoizedState)||(Jt=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=f,n.lastRenderedState=i}if(e=n.interleaved,e!==null){o=e;do u=o.lane,Fe.lanes|=u,Ao|=u,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $m(e){var t=Pn(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do u=e(u,a.action),a=a.next;while(a!==o);Zn(u,t.memoizedState)||(Jt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,i]}function Ob(){}function Lb(e,t){var n=Fe,i=Pn(),o=t(),u=!Zn(i.memoizedState,o);if(u&&(i.memoizedState=o,Jt=!0),i=i.queue,v0(Fb.bind(null,n,i,e),[e]),i.getSnapshot!==t||u||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,ll(9,jb.bind(null,n,i,o,t),void 0,null),ht===null)throw Error($(349));xo&30||Mb(n,t,o)}return o}function Mb(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jb(e,t,n,i){t.value=n,t.getSnapshot=i,Ub(t)&&Vb(e)}function Fb(e,t,n){return n(function(){Ub(t)&&Vb(e)})}function Ub(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch{return!0}}function Vb(e){var t=Vr(e,1);t!==null&&Qn(t,e,1,-1)}function vT(e){var t=fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:e},t.queue=e,e=e.dispatch=M4.bind(null,Fe,e),[t.memoizedState,e]}function ll(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function $b(){return Pn().memoizedState}function jf(e,t,n,i){var o=fr();Fe.flags|=e,o.memoizedState=ll(1|t,n,void 0,i===void 0?null:i)}function td(e,t,n,i){var o=Pn();i=i===void 0?null:i;var u=void 0;if(ot!==null){var a=ot.memoizedState;if(u=a.destroy,i!==null&&h0(i,a.deps)){o.memoizedState=ll(t,n,u,i);return}}Fe.flags|=e,o.memoizedState=ll(1|t,n,u,i)}function mT(e,t){return jf(8390656,8,e,t)}function v0(e,t){return td(2048,8,e,t)}function Bb(e,t){return td(4,2,e,t)}function zb(e,t){return td(4,4,e,t)}function qb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kb(e,t,n){return n=n!=null?n.concat([e]):null,td(4,4,qb.bind(null,t,e),n)}function m0(){}function Hb(e,t){var n=Pn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&h0(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Wb(e,t){var n=Pn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&h0(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Gb(e,t,n){return xo&21?(Zn(n,t)||(n=Zk(),Fe.lanes|=n,Ao|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Jt=!0),e.memoizedState=n)}function O4(e,t){var n=Ie;Ie=n!==0&&4>n?n:4,e(!0);var i=Um.transition;Um.transition={};try{e(!1),t()}finally{Ie=n,Um.transition=i}}function Qb(){return Pn().memoizedState}function L4(e,t,n){var i=Ti(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Xb(e))Yb(t,n);else if(n=Db(e,t,n,i),n!==null){var o=Bt();Qn(n,e,i,o),Jb(n,t,i)}}function M4(e,t,n){var i=Ti(e),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xb(e))Yb(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var a=t.lastRenderedState,c=u(a,n);if(o.hasEagerState=!0,o.eagerState=c,Zn(c,a)){var f=t.interleaved;f===null?(o.next=o,u0(t)):(o.next=f.next,f.next=o),t.interleaved=o;return}}catch{}finally{}n=Db(e,t,o,i),n!==null&&(o=Bt(),Qn(n,e,i,o),Jb(n,t,i))}}function Xb(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function Yb(e,t){Ua=hh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jb(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Wy(e,n)}}var dh={readContext:Rn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},j4={readContext:Rn,useCallback:function(e,t){return fr().memoizedState=[e,t===void 0?null:t],e},useContext:Rn,useEffect:mT,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,jf(4194308,4,qb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jf(4194308,4,e,t)},useInsertionEffect:function(e,t){return jf(4,2,e,t)},useMemo:function(e,t){var n=fr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=fr();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=L4.bind(null,Fe,e),[i.memoizedState,e]},useRef:function(e){var t=fr();return e={current:e},t.memoizedState=e},useState:vT,useDebugValue:m0,useDeferredValue:function(e){return fr().memoizedState=e},useTransition:function(){var e=vT(!1),t=e[0];return e=O4.bind(null,e[1]),fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Fe,o=fr();if(Re){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),ht===null)throw Error($(349));xo&30||Mb(i,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,mT(Fb.bind(null,i,u,e),[e]),i.flags|=2048,ll(9,jb.bind(null,i,u,n,t),void 0,null),n},useId:function(){var e=fr(),t=ht.identifierPrefix;if(Re){var n=Dr,i=Ar;n=(i&~(1<<32-Gn(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=ul++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=P4++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},F4={readContext:Rn,useCallback:Hb,useContext:Rn,useEffect:v0,useImperativeHandle:Kb,useInsertionEffect:Bb,useLayoutEffect:zb,useMemo:Wb,useReducer:Vm,useRef:$b,useState:function(){return Vm(al)},useDebugValue:m0,useDeferredValue:function(e){var t=Pn();return Gb(t,ot.memoizedState,e)},useTransition:function(){var e=Vm(al)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:Ob,useSyncExternalStore:Lb,useId:Qb,unstable_isNewReconciler:!1},U4={readContext:Rn,useCallback:Hb,useContext:Rn,useEffect:v0,useImperativeHandle:Kb,useInsertionEffect:Bb,useLayoutEffect:zb,useMemo:Wb,useReducer:$m,useRef:$b,useState:function(){return $m(al)},useDebugValue:m0,useDeferredValue:function(e){var t=Pn();return ot===null?t.memoizedState=e:Gb(t,ot.memoizedState,e)},useTransition:function(){var e=$m(al)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:Ob,useSyncExternalStore:Lb,useId:Qb,unstable_isNewReconciler:!1};function Kn(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $g(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nd={isMounted:function(e){return(e=e._reactInternals)?Vo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Bt(),o=Ti(e),u=Or(i,o);u.payload=t,n!=null&&(u.callback=n),t=Ii(e,u,o),t!==null&&(Qn(t,e,o,i),Lf(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Bt(),o=Ti(e),u=Or(i,o);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Ii(e,u,o),t!==null&&(Qn(t,e,o,i),Lf(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bt(),i=Ti(e),o=Or(n,i);o.tag=2,t!=null&&(o.callback=t),t=Ii(e,o,i),t!==null&&(Qn(t,e,i,n),Lf(t,e,i))}};function gT(e,t,n,i,o,u,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,a):t.prototype&&t.prototype.isPureReactComponent?!tl(n,i)||!tl(o,u):!0}function Zb(e,t,n){var i=!1,o=xi,u=t.contextType;return typeof u=="object"&&u!==null?u=Rn(u):(o=tn(t)?No:Dt.current,i=t.contextTypes,u=(i=i!=null)?Js(e,o):xi),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nd,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=u),t}function yT(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&nd.enqueueReplaceState(t,t.state,null)}function Bg(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},a0(e);var u=t.contextType;typeof u=="object"&&u!==null?o.context=Rn(u):(u=tn(t)?No:Dt.current,o.context=Js(e,u)),o.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&($g(e,t,u,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&nd.enqueueReplaceState(o,o.state,null),ch(e,n,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function nu(e,t){try{var n="",i=t;do n+=dL(i),i=i.return;while(i);var o=n}catch(u){o=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:o,digest:null}}function Bm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var V4=typeof WeakMap=="function"?WeakMap:Map;function eN(e,t,n){n=Or(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){vh||(vh=!0,Zg=i),zg(e,t)},n}function tN(e,t,n){n=Or(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=t.value;n.payload=function(){return i(o)},n.callback=function(){zg(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){zg(e,t),typeof i!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function wT(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new V4;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(o.add(n),e=eM.bind(null,e,t,n),t.then(e,e))}function ET(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function IT(e,t,n,i,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Or(-1,1),t.tag=2,Ii(n,t,1))),n.lanes|=1),e)}var $4=qr.ReactCurrentOwner,Jt=!1;function Mt(e,t,n,i){t.child=e===null?Ab(t,null,n,i):eu(t,e.child,n,i)}function ST(e,t,n,i,o){n=n.render;var u=t.ref;return Gs(t,o),i=d0(e,t,n,i,u,o),n=p0(),e!==null&&!Jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$r(e,t,o)):(Re&&n&&t0(t),t.flags|=1,Mt(e,t,i,o),t.child)}function TT(e,t,n,i,o){if(e===null){var u=n.type;return typeof u=="function"&&!_0(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,nN(e,t,u,i,o)):(e=$f(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&o)){var a=u.memoizedProps;if(n=n.compare,n=n!==null?n:tl,n(a,i)&&e.ref===t.ref)return $r(e,t,o)}return t.flags|=1,e=_i(u,i),e.ref=t.ref,e.return=t,t.child=e}function nN(e,t,n,i,o){if(e!==null){var u=e.memoizedProps;if(tl(u,i)&&e.ref===t.ref)if(Jt=!1,t.pendingProps=i=u,(e.lanes&o)!==0)e.flags&131072&&(Jt=!0);else return t.lanes=e.lanes,$r(e,t,o)}return qg(e,t,n,i,o)}function rN(e,t,n){var i=t.pendingProps,o=i.children,u=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e($s,cn),cn|=n;else{if(!(n&1073741824))return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e($s,cn),cn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=u!==null?u.baseLanes:n,_e($s,cn),cn|=i}else u!==null?(i=u.baseLanes|n,t.memoizedState=null):i=n,_e($s,cn),cn|=i;return Mt(e,t,o,n),t.child}function iN(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qg(e,t,n,i,o){var u=tn(n)?No:Dt.current;return u=Js(t,u),Gs(t,o),n=d0(e,t,n,i,u,o),i=p0(),e!==null&&!Jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$r(e,t,o)):(Re&&i&&t0(t),t.flags|=1,Mt(e,t,n,o),t.child)}function _T(e,t,n,i,o){if(tn(n)){var u=!0;oh(t)}else u=!1;if(Gs(t,o),t.stateNode===null)Ff(e,t),Zb(t,n,i),Bg(t,n,i,o),i=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var f=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Rn(d):(d=tn(n)?No:Dt.current,d=Js(t,d));var v=n.getDerivedStateFromProps,m=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==i||f!==d)&&yT(t,a,i,d),si=!1;var y=t.memoizedState;a.state=y,ch(t,i,a,o),f=t.memoizedState,c!==i||y!==f||en.current||si?(typeof v=="function"&&($g(t,n,v,i),f=t.memoizedState),(c=si||gT(t,n,c,i,y,f,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=f),a.props=i,a.state=f,a.context=d,i=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Rb(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:Kn(t.type,c),a.props=d,m=t.pendingProps,y=a.context,f=n.contextType,typeof f=="object"&&f!==null?f=Rn(f):(f=tn(n)?No:Dt.current,f=Js(t,f));var E=n.getDerivedStateFromProps;(v=typeof E=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==m||y!==f)&&yT(t,a,i,f),si=!1,y=t.memoizedState,a.state=y,ch(t,i,a,o);var T=t.memoizedState;c!==m||y!==T||en.current||si?(typeof E=="function"&&($g(t,n,E,i),T=t.memoizedState),(d=si||gT(t,n,d,i,y,T,f)||!1)?(v||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,T,f),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,T,f)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=T),a.props=i,a.state=T,a.context=f,i=d):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),i=!1)}return Kg(e,t,n,i,u,o)}function Kg(e,t,n,i,o,u){iN(e,t);var a=(t.flags&128)!==0;if(!i&&!a)return o&&lT(t,n,!1),$r(e,t,u);i=t.stateNode,$4.current=t;var c=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&a?(t.child=eu(t,e.child,null,u),t.child=eu(t,null,c,u)):Mt(e,t,c,u),t.memoizedState=i.state,o&&lT(t,n,!0),t.child}function oN(e){var t=e.stateNode;t.pendingContext?aT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&aT(e,t.context,!1),l0(e,t.containerInfo)}function kT(e,t,n,i,o){return Zs(),r0(o),t.flags|=256,Mt(e,t,n,i),t.child}var Hg={dehydrated:null,treeContext:null,retryLane:0};function Wg(e){return{baseLanes:e,cachePool:null,transitions:null}}function sN(e,t,n){var i=t.pendingProps,o=Me.current,u=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(o&2)!==0),c?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),_e(Me,o&1),e===null)return Ug(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,e=i.fallback,u?(i=t.mode,u=t.child,a={mode:"hidden",children:a},!(i&1)&&u!==null?(u.childLanes=0,u.pendingProps=a):u=od(a,i,0,null),e=To(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Wg(n),t.memoizedState=Hg,e):g0(t,a));if(o=e.memoizedState,o!==null&&(c=o.dehydrated,c!==null))return B4(e,t,a,i,c,o,n);if(u){u=i.fallback,a=t.mode,o=e.child,c=o.sibling;var f={mode:"hidden",children:i.children};return!(a&1)&&t.child!==o?(i=t.child,i.childLanes=0,i.pendingProps=f,t.deletions=null):(i=_i(o,f),i.subtreeFlags=o.subtreeFlags&14680064),c!==null?u=_i(c,u):(u=To(u,a,n,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,a=e.child.memoizedState,a=a===null?Wg(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},u.memoizedState=a,u.childLanes=e.childLanes&~n,t.memoizedState=Hg,i}return u=e.child,e=u.sibling,i=_i(u,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function g0(e,t){return t=od({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gf(e,t,n,i){return i!==null&&r0(i),eu(t,e.child,null,n),e=g0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function B4(e,t,n,i,o,u,a){if(n)return t.flags&256?(t.flags&=-257,i=Bm(Error($(422))),gf(e,t,a,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=od({mode:"visible",children:i.children},o,0,null),u=To(u,o,a,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,t.mode&1&&eu(t,e.child,null,a),t.child.memoizedState=Wg(a),t.memoizedState=Hg,u);if(!(t.mode&1))return gf(e,t,a,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var c=i.dgst;return i=c,u=Error($(419)),i=Bm(u,i,void 0),gf(e,t,a,i)}if(c=(a&e.childLanes)!==0,Jt||c){if(i=ht,i!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|a)?0:o,o!==0&&o!==u.retryLane&&(u.retryLane=o,Vr(e,o),Qn(i,e,o,-1))}return T0(),i=Bm(Error($(421))),gf(e,t,a,i)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=tM.bind(null,e),o._reactRetry=t,null):(e=u.treeContext,pn=Ei(o.nextSibling),gn=t,Re=!0,Wn=null,e!==null&&(Cn[xn++]=Ar,Cn[xn++]=Dr,Cn[xn++]=Co,Ar=e.id,Dr=e.overflow,Co=t),t=g0(t,i.children),t.flags|=4096,t)}function bT(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Vg(e.return,t,n)}function zm(e,t,n,i,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=i,u.tail=n,u.tailMode=o)}function uN(e,t,n){var i=t.pendingProps,o=i.revealOrder,u=i.tail;if(Mt(e,t,i.children,n),i=Me.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bT(e,n,t);else if(e.tag===19)bT(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(_e(Me,i),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&fh(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),zm(t,!1,o,n,u);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&fh(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}zm(t,!0,n,null,u);break;case"together":zm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ff(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $r(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ao|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=_i(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_i(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function z4(e,t,n){switch(t.tag){case 3:oN(t),Zs();break;case 5:Pb(t);break;case 1:tn(t.type)&&oh(t);break;case 4:l0(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;_e(ah,i._currentValue),i._currentValue=o;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(_e(Me,Me.current&1),t.flags|=128,null):n&t.child.childLanes?sN(e,t,n):(_e(Me,Me.current&1),e=$r(e,t,n),e!==null?e.sibling:null);_e(Me,Me.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return uN(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),_e(Me,Me.current),i)break;return null;case 22:case 23:return t.lanes=0,rN(e,t,n)}return $r(e,t,n)}var aN,Gg,lN,cN;aN=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gg=function(){};lN=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,go(mr.current);var u=null;switch(n){case"input":o=mg(e,o),i=mg(e,i),u=[];break;case"select":o=Ue({},o,{value:void 0}),i=Ue({},i,{value:void 0}),u=[];break;case"textarea":o=wg(e,o),i=wg(e,i),u=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=rh)}Ig(n,i);var a;n=null;for(d in o)if(!i.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var c=o[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ga.hasOwnProperty(d)?u||(u=[]):(u=u||[]).push(d,null));for(d in i){var f=i[d];if(c=o!=null?o[d]:void 0,i.hasOwnProperty(d)&&f!==c&&(f!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||f&&f.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in f)f.hasOwnProperty(a)&&c[a]!==f[a]&&(n||(n={}),n[a]=f[a])}else n||(u||(u=[]),u.push(d,n)),n=f;else d==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,c=c?c.__html:void 0,f!=null&&c!==f&&(u=u||[]).push(d,f)):d==="children"?typeof f!="string"&&typeof f!="number"||(u=u||[]).push(d,""+f):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ga.hasOwnProperty(d)?(f!=null&&d==="onScroll"&&Ne("scroll",e),u||c===f||(u=[])):(u=u||[]).push(d,f))}n&&(u=u||[]).push("style",n);var d=u;(t.updateQueue=d)&&(t.flags|=4)}};cN=function(e,t,n,i){n!==i&&(t.flags|=4)};function Ta(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function q4(e,t,n){var i=t.pendingProps;switch(n0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return tn(t.type)&&ih(),_t(t),null;case 3:return i=t.stateNode,tu(),xe(en),xe(Dt),f0(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(vf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wn!==null&&(ny(Wn),Wn=null))),Gg(e,t),_t(t),null;case 5:c0(t);var o=go(sl.current);if(n=t.type,e!==null&&t.stateNode!=null)lN(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error($(166));return _t(t),null}if(e=go(mr.current),vf(t)){i=t.stateNode,n=t.type;var u=t.memoizedProps;switch(i[dr]=t,i[il]=u,e=(t.mode&1)!==0,n){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(o=0;o<Aa.length;o++)Ne(Aa[o],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":LS(i,u),Ne("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!u.multiple},Ne("invalid",i);break;case"textarea":jS(i,u),Ne("invalid",i)}Ig(n,u),o=null;for(var a in u)if(u.hasOwnProperty(a)){var c=u[a];a==="children"?typeof c=="string"?i.textContent!==c&&(u.suppressHydrationWarning!==!0&&pf(i.textContent,c,e),o=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(u.suppressHydrationWarning!==!0&&pf(i.textContent,c,e),o=["children",""+c]):Ga.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Ne("scroll",i)}switch(n){case"input":sf(i),MS(i,u,!0);break;case"textarea":sf(i),FS(i);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(i.onclick=rh)}i=o,t.updateQueue=i,i!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fk(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=a.createElement(n,{is:i.is}):(e=a.createElement(n),n==="select"&&(a=e,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):e=a.createElementNS(e,n),e[dr]=t,e[il]=i,aN(e,t,!1,!1),t.stateNode=e;e:{switch(a=Sg(n,i),n){case"dialog":Ne("cancel",e),Ne("close",e),o=i;break;case"iframe":case"object":case"embed":Ne("load",e),o=i;break;case"video":case"audio":for(o=0;o<Aa.length;o++)Ne(Aa[o],e);o=i;break;case"source":Ne("error",e),o=i;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),o=i;break;case"details":Ne("toggle",e),o=i;break;case"input":LS(e,i),o=mg(e,i),Ne("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=Ue({},i,{value:void 0}),Ne("invalid",e);break;case"textarea":jS(e,i),o=wg(e,i),Ne("invalid",e);break;default:o=i}Ig(n,o),c=o;for(u in c)if(c.hasOwnProperty(u)){var f=c[u];u==="style"?$k(e,f):u==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&Uk(e,f)):u==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&Qa(e,f):typeof f=="number"&&Qa(e,""+f):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ga.hasOwnProperty(u)?f!=null&&u==="onScroll"&&Ne("scroll",e):f!=null&&$y(e,u,f,a))}switch(n){case"input":sf(e),MS(e,i,!1);break;case"textarea":sf(e),FS(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Ci(i.value));break;case"select":e.multiple=!!i.multiple,u=i.value,u!=null?qs(e,!!i.multiple,u,!1):i.defaultValue!=null&&qs(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=rh)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _t(t),null;case 6:if(e&&t.stateNode!=null)cN(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error($(166));if(n=go(sl.current),go(mr.current),vf(t)){if(i=t.stateNode,n=t.memoizedProps,i[dr]=t,(u=i.nodeValue!==n)&&(e=gn,e!==null))switch(e.tag){case 3:pf(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pf(i.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[dr]=t,t.stateNode=i}return _t(t),null;case 13:if(xe(Me),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&pn!==null&&t.mode&1&&!(t.flags&128))Cb(),Zs(),t.flags|=98560,u=!1;else if(u=vf(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error($(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error($(317));u[dr]=t}else Zs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_t(t),u=!1}else Wn!==null&&(ny(Wn),Wn=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Me.current&1?ut===0&&(ut=3):T0())),t.updateQueue!==null&&(t.flags|=4),_t(t),null);case 4:return tu(),Gg(e,t),e===null&&nl(t.stateNode.containerInfo),_t(t),null;case 10:return s0(t.type._context),_t(t),null;case 17:return tn(t.type)&&ih(),_t(t),null;case 19:if(xe(Me),u=t.memoizedState,u===null)return _t(t),null;if(i=(t.flags&128)!==0,a=u.rendering,a===null)if(i)Ta(u,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=fh(e),a!==null){for(t.flags|=128,Ta(u,!1),i=a.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)u=n,e=i,u.flags&=14680066,a=u.alternate,a===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,u.type=a.type,e=a.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _e(Me,Me.current&1|2),t.child}e=e.sibling}u.tail!==null&&Ge()>ru&&(t.flags|=128,i=!0,Ta(u,!1),t.lanes=4194304)}else{if(!i)if(e=fh(a),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ta(u,!0),u.tail===null&&u.tailMode==="hidden"&&!a.alternate&&!Re)return _t(t),null}else 2*Ge()-u.renderingStartTime>ru&&n!==1073741824&&(t.flags|=128,i=!0,Ta(u,!1),t.lanes=4194304);u.isBackwards?(a.sibling=t.child,t.child=a):(n=u.last,n!==null?n.sibling=a:t.child=a,u.last=a)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Ge(),t.sibling=null,n=Me.current,_e(Me,i?n&1|2:n&1),t):(_t(t),null);case 22:case 23:return S0(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?cn&1073741824&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function K4(e,t){switch(n0(t),t.tag){case 1:return tn(t.type)&&ih(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tu(),xe(en),xe(Dt),f0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return c0(t),null;case 13:if(xe(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Zs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(Me),null;case 4:return tu(),null;case 10:return s0(t.type._context),null;case 22:case 23:return S0(),null;case 24:return null;default:return null}}var yf=!1,bt=!1,H4=typeof WeakSet=="function"?WeakSet:Set,W=null;function Vs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){$e(e,t,i)}else n.current=null}function Qg(e,t,n){try{n()}catch(i){$e(e,t,i)}}var NT=!1;function W4(e,t){if(Rg=eh,e=vb(),e0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var a=0,c=-1,f=-1,d=0,v=0,m=e,y=null;t:for(;;){for(var E;m!==n||o!==0&&m.nodeType!==3||(c=a+o),m!==u||i!==0&&m.nodeType!==3||(f=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(E=m.firstChild)!==null;)y=m,m=E;for(;;){if(m===e)break t;if(y===n&&++d===o&&(c=a),y===u&&++v===i&&(f=a),(E=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=E}n=c===-1||f===-1?null:{start:c,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pg={focusedElem:e,selectionRange:n},eh=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var T=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var k=T.memoizedProps,x=T.memoizedState,S=t.stateNode,I=S.getSnapshotBeforeUpdate(t.elementType===t.type?k:Kn(t.type,k),x);S.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(A){$e(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return T=NT,NT=!1,T}function Va(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var u=o.destroy;o.destroy=void 0,u!==void 0&&Qg(t,n,u)}o=o.next}while(o!==i)}}function rd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Xg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fN(e){var t=e.alternate;t!==null&&(e.alternate=null,fN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dr],delete t[il],delete t[Mg],delete t[x4],delete t[A4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hN(e){return e.tag===5||e.tag===3||e.tag===4}function CT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yg(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=rh));else if(i!==4&&(e=e.child,e!==null))for(Yg(e,t,n),e=e.sibling;e!==null;)Yg(e,t,n),e=e.sibling}function Jg(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Jg(e,t,n),e=e.sibling;e!==null;)Jg(e,t,n),e=e.sibling}var mt=null,Hn=!1;function ti(e,t,n){for(n=n.child;n!==null;)dN(e,t,n),n=n.sibling}function dN(e,t,n){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(Qh,n)}catch{}switch(n.tag){case 5:bt||Vs(n,t);case 6:var i=mt,o=Hn;mt=null,ti(e,t,n),mt=i,Hn=o,mt!==null&&(Hn?(e=mt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(Hn?(e=mt,n=n.stateNode,e.nodeType===8?Mm(e.parentNode,n):e.nodeType===1&&Mm(e,n),Za(e)):Mm(mt,n.stateNode));break;case 4:i=mt,o=Hn,mt=n.stateNode.containerInfo,Hn=!0,ti(e,t,n),mt=i,Hn=o;break;case 0:case 11:case 14:case 15:if(!bt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var u=o,a=u.destroy;u=u.tag,a!==void 0&&(u&2||u&4)&&Qg(n,t,a),o=o.next}while(o!==i)}ti(e,t,n);break;case 1:if(!bt&&(Vs(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(c){$e(n,t,c)}ti(e,t,n);break;case 21:ti(e,t,n);break;case 22:n.mode&1?(bt=(i=bt)||n.memoizedState!==null,ti(e,t,n),bt=i):ti(e,t,n);break;default:ti(e,t,n)}}function xT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new H4),t.forEach(function(i){var o=nM.bind(null,e,i);n.has(i)||(n.add(i),i.then(o,o))})}}function zn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];try{var u=e,a=t,c=a;e:for(;c!==null;){switch(c.tag){case 5:mt=c.stateNode,Hn=!1;break e;case 3:mt=c.stateNode.containerInfo,Hn=!0;break e;case 4:mt=c.stateNode.containerInfo,Hn=!0;break e}c=c.return}if(mt===null)throw Error($(160));dN(u,a,o),mt=null,Hn=!1;var f=o.alternate;f!==null&&(f.return=null),o.return=null}catch(d){$e(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pN(t,e),t=t.sibling}function pN(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zn(t,e),cr(e),i&4){try{Va(3,e,e.return),rd(3,e)}catch(k){$e(e,e.return,k)}try{Va(5,e,e.return)}catch(k){$e(e,e.return,k)}}break;case 1:zn(t,e),cr(e),i&512&&n!==null&&Vs(n,n.return);break;case 5:if(zn(t,e),cr(e),i&512&&n!==null&&Vs(n,n.return),e.flags&32){var o=e.stateNode;try{Qa(o,"")}catch(k){$e(e,e.return,k)}}if(i&4&&(o=e.stateNode,o!=null)){var u=e.memoizedProps,a=n!==null?n.memoizedProps:u,c=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{c==="input"&&u.type==="radio"&&u.name!=null&&Mk(o,u),Sg(c,a);var d=Sg(c,u);for(a=0;a<f.length;a+=2){var v=f[a],m=f[a+1];v==="style"?$k(o,m):v==="dangerouslySetInnerHTML"?Uk(o,m):v==="children"?Qa(o,m):$y(o,v,m,d)}switch(c){case"input":gg(o,u);break;case"textarea":jk(o,u);break;case"select":var y=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!u.multiple;var E=u.value;E!=null?qs(o,!!u.multiple,E,!1):y!==!!u.multiple&&(u.defaultValue!=null?qs(o,!!u.multiple,u.defaultValue,!0):qs(o,!!u.multiple,u.multiple?[]:"",!1))}o[il]=u}catch(k){$e(e,e.return,k)}}break;case 6:if(zn(t,e),cr(e),i&4){if(e.stateNode===null)throw Error($(162));o=e.stateNode,u=e.memoizedProps;try{o.nodeValue=u}catch(k){$e(e,e.return,k)}}break;case 3:if(zn(t,e),cr(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Za(t.containerInfo)}catch(k){$e(e,e.return,k)}break;case 4:zn(t,e),cr(e);break;case 13:zn(t,e),cr(e),o=e.child,o.flags&8192&&(u=o.memoizedState!==null,o.stateNode.isHidden=u,!u||o.alternate!==null&&o.alternate.memoizedState!==null||(E0=Ge())),i&4&&xT(e);break;case 22:if(v=n!==null&&n.memoizedState!==null,e.mode&1?(bt=(d=bt)||v,zn(t,e),bt=d):zn(t,e),cr(e),i&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!v&&e.mode&1)for(W=e,v=e.child;v!==null;){for(m=W=v;W!==null;){switch(y=W,E=y.child,y.tag){case 0:case 11:case 14:case 15:Va(4,y,y.return);break;case 1:Vs(y,y.return);var T=y.stateNode;if(typeof T.componentWillUnmount=="function"){i=y,n=y.return;try{t=i,T.props=t.memoizedProps,T.state=t.memoizedState,T.componentWillUnmount()}catch(k){$e(i,n,k)}}break;case 5:Vs(y,y.return);break;case 22:if(y.memoizedState!==null){DT(m);continue}}E!==null?(E.return=y,W=E):DT(m)}v=v.sibling}e:for(v=null,m=e;;){if(m.tag===5){if(v===null){v=m;try{o=m.stateNode,d?(u=o.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(c=m.stateNode,f=m.memoizedProps.style,a=f!=null&&f.hasOwnProperty("display")?f.display:null,c.style.display=Vk("display",a))}catch(k){$e(e,e.return,k)}}}else if(m.tag===6){if(v===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(k){$e(e,e.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;v===m&&(v=null),m=m.return}v===m&&(v=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:zn(t,e),cr(e),i&4&&xT(e);break;case 21:break;default:zn(t,e),cr(e)}}function cr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(hN(n)){var i=n;break e}n=n.return}throw Error($(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(Qa(o,""),i.flags&=-33);var u=CT(e);Jg(e,u,o);break;case 3:case 4:var a=i.stateNode.containerInfo,c=CT(e);Yg(e,c,a);break;default:throw Error($(161))}}catch(f){$e(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function G4(e,t,n){W=e,vN(e)}function vN(e,t,n){for(var i=(e.mode&1)!==0;W!==null;){var o=W,u=o.child;if(o.tag===22&&i){var a=o.memoizedState!==null||yf;if(!a){var c=o.alternate,f=c!==null&&c.memoizedState!==null||bt;c=yf;var d=bt;if(yf=a,(bt=f)&&!d)for(W=o;W!==null;)a=W,f=a.child,a.tag===22&&a.memoizedState!==null?RT(o):f!==null?(f.return=a,W=f):RT(o);for(;u!==null;)W=u,vN(u),u=u.sibling;W=o,yf=c,bt=d}AT(e)}else o.subtreeFlags&8772&&u!==null?(u.return=o,W=u):AT(e)}}function AT(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bt||rd(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!bt)if(n===null)i.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Kn(t.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&pT(t,u,i);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}pT(t,a,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var v=d.memoizedState;if(v!==null){var m=v.dehydrated;m!==null&&Za(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}bt||t.flags&512&&Xg(t)}catch(y){$e(t,t.return,y)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function DT(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function RT(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rd(4,t)}catch(f){$e(t,n,f)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var o=t.return;try{i.componentDidMount()}catch(f){$e(t,o,f)}}var u=t.return;try{Xg(t)}catch(f){$e(t,u,f)}break;case 5:var a=t.return;try{Xg(t)}catch(f){$e(t,a,f)}}}catch(f){$e(t,t.return,f)}if(t===e){W=null;break}var c=t.sibling;if(c!==null){c.return=t.return,W=c;break}W=t.return}}var Q4=Math.ceil,ph=qr.ReactCurrentDispatcher,y0=qr.ReactCurrentOwner,Dn=qr.ReactCurrentBatchConfig,ve=0,ht=null,Je=null,yt=0,cn=0,$s=Ri(0),ut=0,cl=null,Ao=0,id=0,w0=0,$a=null,Xt=null,E0=0,ru=1/0,Nr=null,vh=!1,Zg=null,Si=null,wf=!1,vi=null,mh=0,Ba=0,ey=null,Uf=-1,Vf=0;function Bt(){return ve&6?Ge():Uf!==-1?Uf:Uf=Ge()}function Ti(e){return e.mode&1?ve&2&&yt!==0?yt&-yt:R4.transition!==null?(Vf===0&&(Vf=Zk()),Vf):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:sb(e.type)),e):1}function Qn(e,t,n,i){if(50<Ba)throw Ba=0,ey=null,Error($(185));Pl(e,n,i),(!(ve&2)||e!==ht)&&(e===ht&&(!(ve&2)&&(id|=n),ut===4&&li(e,yt)),nn(e,i),n===1&&ve===0&&!(t.mode&1)&&(ru=Ge()+500,ed&&Pi()))}function nn(e,t){var n=e.callbackNode;RL(e,t);var i=Zf(e,e===ht?yt:0);if(i===0)n!==null&&$S(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&$S(n),t===1)e.tag===0?D4(PT.bind(null,e)):kb(PT.bind(null,e)),N4(function(){!(ve&6)&&Pi()}),n=null;else{switch(eb(i)){case 1:n=Hy;break;case 4:n=Yk;break;case 16:n=Jf;break;case 536870912:n=Jk;break;default:n=Jf}n=TN(n,mN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mN(e,t){if(Uf=-1,Vf=0,ve&6)throw Error($(327));var n=e.callbackNode;if(Qs()&&e.callbackNode!==n)return null;var i=Zf(e,e===ht?yt:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=gh(e,i);else{t=i;var o=ve;ve|=2;var u=yN();(ht!==e||yt!==t)&&(Nr=null,ru=Ge()+500,So(e,t));do try{J4();break}catch(c){gN(e,c)}while(!0);o0(),ph.current=u,ve=o,Je!==null?t=0:(ht=null,yt=0,t=ut)}if(t!==0){if(t===2&&(o=Ng(e),o!==0&&(i=o,t=ty(e,o))),t===1)throw n=cl,So(e,0),li(e,i),nn(e,Ge()),n;if(t===6)li(e,i);else{if(o=e.current.alternate,!(i&30)&&!X4(o)&&(t=gh(e,i),t===2&&(u=Ng(e),u!==0&&(i=u,t=ty(e,u))),t===1))throw n=cl,So(e,0),li(e,i),nn(e,Ge()),n;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error($(345));case 2:ho(e,Xt,Nr);break;case 3:if(li(e,i),(i&130023424)===i&&(t=E0+500-Ge(),10<t)){if(Zf(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){Bt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Lg(ho.bind(null,e,Xt,Nr),t);break}ho(e,Xt,Nr);break;case 4:if(li(e,i),(i&4194240)===i)break;for(t=e.eventTimes,o=-1;0<i;){var a=31-Gn(i);u=1<<a,a=t[a],a>o&&(o=a),i&=~u}if(i=o,i=Ge()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Q4(i/1960))-i,10<i){e.timeoutHandle=Lg(ho.bind(null,e,Xt,Nr),i);break}ho(e,Xt,Nr);break;case 5:ho(e,Xt,Nr);break;default:throw Error($(329))}}}return nn(e,Ge()),e.callbackNode===n?mN.bind(null,e):null}function ty(e,t){var n=$a;return e.current.memoizedState.isDehydrated&&(So(e,t).flags|=256),e=gh(e,t),e!==2&&(t=Xt,Xt=n,t!==null&&ny(t)),e}function ny(e){Xt===null?Xt=e:Xt.push.apply(Xt,e)}function X4(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var o=n[i],u=o.getSnapshot;o=o.value;try{if(!Zn(u(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function li(e,t){for(t&=~w0,t&=~id,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gn(t),i=1<<n;e[n]=-1,t&=~i}}function PT(e){if(ve&6)throw Error($(327));Qs();var t=Zf(e,0);if(!(t&1))return nn(e,Ge()),null;var n=gh(e,t);if(e.tag!==0&&n===2){var i=Ng(e);i!==0&&(t=i,n=ty(e,i))}if(n===1)throw n=cl,So(e,0),li(e,t),nn(e,Ge()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ho(e,Xt,Nr),nn(e,Ge()),null}function I0(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(ru=Ge()+500,ed&&Pi())}}function Do(e){vi!==null&&vi.tag===0&&!(ve&6)&&Qs();var t=ve;ve|=1;var n=Dn.transition,i=Ie;try{if(Dn.transition=null,Ie=1,e)return e()}finally{Ie=i,Dn.transition=n,ve=t,!(ve&6)&&Pi()}}function S0(){cn=$s.current,xe($s)}function So(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,b4(n)),Je!==null)for(n=Je.return;n!==null;){var i=n;switch(n0(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ih();break;case 3:tu(),xe(en),xe(Dt),f0();break;case 5:c0(i);break;case 4:tu();break;case 13:xe(Me);break;case 19:xe(Me);break;case 10:s0(i.type._context);break;case 22:case 23:S0()}n=n.return}if(ht=e,Je=e=_i(e.current,null),yt=cn=t,ut=0,cl=null,w0=id=Ao=0,Xt=$a=null,mo!==null){for(t=0;t<mo.length;t++)if(n=mo[t],i=n.interleaved,i!==null){n.interleaved=null;var o=i.next,u=n.pending;if(u!==null){var a=u.next;u.next=o,i.next=a}n.pending=i}mo=null}return e}function gN(e,t){do{var n=Je;try{if(o0(),Mf.current=dh,hh){for(var i=Fe.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}hh=!1}if(xo=0,ft=ot=Fe=null,Ua=!1,ul=0,y0.current=null,n===null||n.return===null){ut=1,cl=t,Je=null;break}e:{var u=e,a=n.return,c=n,f=t;if(t=yt,c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var d=f,v=c,m=v.tag;if(!(v.mode&1)&&(m===0||m===11||m===15)){var y=v.alternate;y?(v.updateQueue=y.updateQueue,v.memoizedState=y.memoizedState,v.lanes=y.lanes):(v.updateQueue=null,v.memoizedState=null)}var E=ET(a);if(E!==null){E.flags&=-257,IT(E,a,c,u,t),E.mode&1&&wT(u,d,t),t=E,f=d;var T=t.updateQueue;if(T===null){var k=new Set;k.add(f),t.updateQueue=k}else T.add(f);break e}else{if(!(t&1)){wT(u,d,t),T0();break e}f=Error($(426))}}else if(Re&&c.mode&1){var x=ET(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),IT(x,a,c,u,t),r0(nu(f,c));break e}}u=f=nu(f,c),ut!==4&&(ut=2),$a===null?$a=[u]:$a.push(u),u=a;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var S=eN(u,f,t);dT(u,S);break e;case 1:c=f;var I=u.type,_=u.stateNode;if(!(u.flags&128)&&(typeof I.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Si===null||!Si.has(_)))){u.flags|=65536,t&=-t,u.lanes|=t;var A=tN(u,c,t);dT(u,A);break e}}u=u.return}while(u!==null)}EN(n)}catch(L){t=L,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function yN(){var e=ph.current;return ph.current=dh,e===null?dh:e}function T0(){(ut===0||ut===3||ut===2)&&(ut=4),ht===null||!(Ao&268435455)&&!(id&268435455)||li(ht,yt)}function gh(e,t){var n=ve;ve|=2;var i=yN();(ht!==e||yt!==t)&&(Nr=null,So(e,t));do try{Y4();break}catch(o){gN(e,o)}while(!0);if(o0(),ve=n,ph.current=i,Je!==null)throw Error($(261));return ht=null,yt=0,ut}function Y4(){for(;Je!==null;)wN(Je)}function J4(){for(;Je!==null&&!TL();)wN(Je)}function wN(e){var t=SN(e.alternate,e,cn);e.memoizedProps=e.pendingProps,t===null?EN(e):Je=t,y0.current=null}function EN(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=K4(n,t),n!==null){n.flags&=32767,Je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,Je=null;return}}else if(n=q4(n,t,cn),n!==null){Je=n;return}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);ut===0&&(ut=5)}function ho(e,t,n){var i=Ie,o=Dn.transition;try{Dn.transition=null,Ie=1,Z4(e,t,n,i)}finally{Dn.transition=o,Ie=i}return null}function Z4(e,t,n,i){do Qs();while(vi!==null);if(ve&6)throw Error($(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(PL(e,u),e===ht&&(Je=ht=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wf||(wf=!0,TN(Jf,function(){return Qs(),null})),u=(n.flags&15990)!==0,n.subtreeFlags&15990||u){u=Dn.transition,Dn.transition=null;var a=Ie;Ie=1;var c=ve;ve|=4,y0.current=null,W4(e,n),pN(n,e),w4(Pg),eh=!!Rg,Pg=Rg=null,e.current=n,G4(n),_L(),ve=c,Ie=a,Dn.transition=u}else e.current=n;if(wf&&(wf=!1,vi=e,mh=o),u=e.pendingLanes,u===0&&(Si=null),NL(n.stateNode),nn(e,Ge()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(vh)throw vh=!1,e=Zg,Zg=null,e;return mh&1&&e.tag!==0&&Qs(),u=e.pendingLanes,u&1?e===ey?Ba++:(Ba=0,ey=e):Ba=0,Pi(),null}function Qs(){if(vi!==null){var e=eb(mh),t=Dn.transition,n=Ie;try{if(Dn.transition=null,Ie=16>e?16:e,vi===null)var i=!1;else{if(e=vi,vi=null,mh=0,ve&6)throw Error($(331));var o=ve;for(ve|=4,W=e.current;W!==null;){var u=W,a=u.child;if(W.flags&16){var c=u.deletions;if(c!==null){for(var f=0;f<c.length;f++){var d=c[f];for(W=d;W!==null;){var v=W;switch(v.tag){case 0:case 11:case 15:Va(8,v,u)}var m=v.child;if(m!==null)m.return=v,W=m;else for(;W!==null;){v=W;var y=v.sibling,E=v.return;if(fN(v),v===d){W=null;break}if(y!==null){y.return=E,W=y;break}W=E}}}var T=u.alternate;if(T!==null){var k=T.child;if(k!==null){T.child=null;do{var x=k.sibling;k.sibling=null,k=x}while(k!==null)}}W=u}}if(u.subtreeFlags&2064&&a!==null)a.return=u,W=a;else e:for(;W!==null;){if(u=W,u.flags&2048)switch(u.tag){case 0:case 11:case 15:Va(9,u,u.return)}var S=u.sibling;if(S!==null){S.return=u.return,W=S;break e}W=u.return}}var I=e.current;for(W=I;W!==null;){a=W;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,W=_;else e:for(a=I;W!==null;){if(c=W,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:rd(9,c)}}catch(L){$e(c,c.return,L)}if(c===a){W=null;break e}var A=c.sibling;if(A!==null){A.return=c.return,W=A;break e}W=c.return}}if(ve=o,Pi(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(Qh,e)}catch{}i=!0}return i}finally{Ie=n,Dn.transition=t}}return!1}function OT(e,t,n){t=nu(n,t),t=eN(e,t,1),e=Ii(e,t,1),t=Bt(),e!==null&&(Pl(e,1,t),nn(e,t))}function $e(e,t,n){if(e.tag===3)OT(e,e,n);else for(;t!==null;){if(t.tag===3){OT(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Si===null||!Si.has(i))){e=nu(n,e),e=tN(t,e,1),t=Ii(t,e,1),e=Bt(),t!==null&&(Pl(t,1,e),nn(t,e));break}}t=t.return}}function eM(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Bt(),e.pingedLanes|=e.suspendedLanes&n,ht===e&&(yt&n)===n&&(ut===4||ut===3&&(yt&130023424)===yt&&500>Ge()-E0?So(e,0):w0|=n),nn(e,t)}function IN(e,t){t===0&&(e.mode&1?(t=lf,lf<<=1,!(lf&130023424)&&(lf=4194304)):t=1);var n=Bt();e=Vr(e,t),e!==null&&(Pl(e,t,n),nn(e,n))}function tM(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),IN(e,n)}function nM(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error($(314))}i!==null&&i.delete(t),IN(e,n)}var SN;SN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||en.current)Jt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Jt=!1,z4(e,t,n);Jt=!!(e.flags&131072)}else Jt=!1,Re&&t.flags&1048576&&bb(t,uh,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ff(e,t),e=t.pendingProps;var o=Js(t,Dt.current);Gs(t,n),o=d0(null,t,i,e,o,n);var u=p0();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tn(i)?(u=!0,oh(t)):u=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,a0(t),o.updater=nd,t.stateNode=o,o._reactInternals=t,Bg(t,i,e,n),t=Kg(null,t,i,!0,u,n)):(t.tag=0,Re&&u&&t0(t),Mt(null,t,o,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ff(e,t),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=iM(i),e=Kn(i,e),o){case 0:t=qg(null,t,i,e,n);break e;case 1:t=_T(null,t,i,e,n);break e;case 11:t=ST(null,t,i,e,n);break e;case 14:t=TT(null,t,i,Kn(i.type,e),n);break e}throw Error($(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Kn(i,o),qg(e,t,i,o,n);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Kn(i,o),_T(e,t,i,o,n);case 3:e:{if(oN(t),e===null)throw Error($(387));i=t.pendingProps,u=t.memoizedState,o=u.element,Rb(e,t),ch(t,i,null,n);var a=t.memoizedState;if(i=a.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){o=nu(Error($(423)),t),t=kT(e,t,i,n,o);break e}else if(i!==o){o=nu(Error($(424)),t),t=kT(e,t,i,n,o);break e}else for(pn=Ei(t.stateNode.containerInfo.firstChild),gn=t,Re=!0,Wn=null,n=Ab(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zs(),i===o){t=$r(e,t,n);break e}Mt(e,t,i,n)}t=t.child}return t;case 5:return Pb(t),e===null&&Ug(t),i=t.type,o=t.pendingProps,u=e!==null?e.memoizedProps:null,a=o.children,Og(i,o)?a=null:u!==null&&Og(i,u)&&(t.flags|=32),iN(e,t),Mt(e,t,a,n),t.child;case 6:return e===null&&Ug(t),null;case 13:return sN(e,t,n);case 4:return l0(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=eu(t,null,i,n):Mt(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Kn(i,o),ST(e,t,i,o,n);case 7:return Mt(e,t,t.pendingProps,n),t.child;case 8:return Mt(e,t,t.pendingProps.children,n),t.child;case 12:return Mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,u=t.memoizedProps,a=o.value,_e(ah,i._currentValue),i._currentValue=a,u!==null)if(Zn(u.value,a)){if(u.children===o.children&&!en.current){t=$r(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var c=u.dependencies;if(c!==null){a=u.child;for(var f=c.firstContext;f!==null;){if(f.context===i){if(u.tag===1){f=Or(-1,n&-n),f.tag=2;var d=u.updateQueue;if(d!==null){d=d.shared;var v=d.pending;v===null?f.next=f:(f.next=v.next,v.next=f),d.pending=f}}u.lanes|=n,f=u.alternate,f!==null&&(f.lanes|=n),Vg(u.return,n,t),c.lanes|=n;break}f=f.next}}else if(u.tag===10)a=u.type===t.type?null:u.child;else if(u.tag===18){if(a=u.return,a===null)throw Error($(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Vg(a,n,t),a=u.sibling}else a=u.child;if(a!==null)a.return=u;else for(a=u;a!==null;){if(a===t){a=null;break}if(u=a.sibling,u!==null){u.return=a.return,a=u;break}a=a.return}u=a}Mt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,Gs(t,n),o=Rn(o),i=i(o),t.flags|=1,Mt(e,t,i,n),t.child;case 14:return i=t.type,o=Kn(i,t.pendingProps),o=Kn(i.type,o),TT(e,t,i,o,n);case 15:return nN(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Kn(i,o),Ff(e,t),t.tag=1,tn(i)?(e=!0,oh(t)):e=!1,Gs(t,n),Zb(t,i,o),Bg(t,i,o,n),Kg(null,t,i,!0,e,n);case 19:return uN(e,t,n);case 22:return rN(e,t,n)}throw Error($(156,t.tag))};function TN(e,t){return Xk(e,t)}function rM(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,t,n,i){return new rM(e,t,n,i)}function _0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function iM(e){if(typeof e=="function")return _0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zy)return 11;if(e===qy)return 14}return 2}function _i(e,t){var n=e.alternate;return n===null?(n=An(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $f(e,t,n,i,o,u){var a=2;if(i=e,typeof e=="function")_0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ds:return To(n.children,o,u,t);case By:a=8,o|=8;break;case hg:return e=An(12,n,t,o|2),e.elementType=hg,e.lanes=u,e;case dg:return e=An(13,n,t,o),e.elementType=dg,e.lanes=u,e;case pg:return e=An(19,n,t,o),e.elementType=pg,e.lanes=u,e;case Pk:return od(n,o,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dk:a=10;break e;case Rk:a=9;break e;case zy:a=11;break e;case qy:a=14;break e;case oi:a=16,i=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=An(a,n,t,o),t.elementType=e,t.type=i,t.lanes=u,t}function To(e,t,n,i){return e=An(7,e,i,t),e.lanes=n,e}function od(e,t,n,i){return e=An(22,e,i,t),e.elementType=Pk,e.lanes=n,e.stateNode={isHidden:!1},e}function qm(e,t,n){return e=An(6,e,null,t),e.lanes=n,e}function Km(e,t,n){return t=An(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oM(e,t,n,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=km(0),this.expirationTimes=km(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=km(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function k0(e,t,n,i,o,u,a,c,f){return e=new oM(e,t,n,c,f),t===1?(t=1,u===!0&&(t|=8)):t=0,u=An(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},a0(u),e}function sM(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:As,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function _N(e){if(!e)return xi;e=e._reactInternals;e:{if(Vo(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(tn(n))return _b(e,n,t)}return t}function kN(e,t,n,i,o,u,a,c,f){return e=k0(n,i,!0,e,o,u,a,c,f),e.context=_N(null),n=e.current,i=Bt(),o=Ti(n),u=Or(i,o),u.callback=t??null,Ii(n,u,o),e.current.lanes=o,Pl(e,o,i),nn(e,i),e}function sd(e,t,n,i){var o=t.current,u=Bt(),a=Ti(o);return n=_N(n),t.context===null?t.context=n:t.pendingContext=n,t=Or(u,a),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Ii(o,t,a),e!==null&&(Qn(e,o,a,u),Lf(e,o,a)),a}function yh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function LT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function b0(e,t){LT(e,t),(e=e.alternate)&&LT(e,t)}function uM(){return null}var bN=typeof reportError=="function"?reportError:function(e){console.error(e)};function N0(e){this._internalRoot=e}ud.prototype.render=N0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));sd(e,t,null,null)};ud.prototype.unmount=N0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Do(function(){sd(null,e,null,null)}),t[Ur]=null}};function ud(e){this._internalRoot=e}ud.prototype.unstable_scheduleHydration=function(e){if(e){var t=rb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ai.length&&t!==0&&t<ai[n].priority;n++);ai.splice(n,0,e),n===0&&ob(e)}};function C0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ad(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function MT(){}function aM(e,t,n,i,o){if(o){if(typeof i=="function"){var u=i;i=function(){var d=yh(a);u.call(d)}}var a=kN(t,i,e,0,null,!1,!1,"",MT);return e._reactRootContainer=a,e[Ur]=a.current,nl(e.nodeType===8?e.parentNode:e),Do(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var c=i;i=function(){var d=yh(f);c.call(d)}}var f=k0(e,0,!1,null,null,!1,!1,"",MT);return e._reactRootContainer=f,e[Ur]=f.current,nl(e.nodeType===8?e.parentNode:e),Do(function(){sd(t,f,n,i)}),f}function ld(e,t,n,i,o){var u=n._reactRootContainer;if(u){var a=u;if(typeof o=="function"){var c=o;o=function(){var f=yh(a);c.call(f)}}sd(t,a,e,o)}else a=aM(n,t,e,o,i);return yh(a)}tb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xa(t.pendingLanes);n!==0&&(Wy(t,n|1),nn(t,Ge()),!(ve&6)&&(ru=Ge()+500,Pi()))}break;case 13:Do(function(){var i=Vr(e,1);if(i!==null){var o=Bt();Qn(i,e,1,o)}}),b0(e,1)}};Gy=function(e){if(e.tag===13){var t=Vr(e,134217728);if(t!==null){var n=Bt();Qn(t,e,134217728,n)}b0(e,134217728)}};nb=function(e){if(e.tag===13){var t=Ti(e),n=Vr(e,t);if(n!==null){var i=Bt();Qn(n,e,t,i)}b0(e,t)}};rb=function(){return Ie};ib=function(e,t){var n=Ie;try{return Ie=e,t()}finally{Ie=n}};_g=function(e,t,n){switch(t){case"input":if(gg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=Zh(i);if(!o)throw Error($(90));Lk(i),gg(i,o)}}}break;case"textarea":jk(e,n);break;case"select":t=n.value,t!=null&&qs(e,!!n.multiple,t,!1)}};qk=I0;Kk=Do;var lM={usingClientEntryPoint:!1,Events:[Ll,Ls,Zh,Bk,zk,I0]},_a={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cM={bundleType:_a.bundleType,version:_a.version,rendererPackageName:_a.rendererPackageName,rendererConfig:_a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gk(e),e===null?null:e.stateNode},findFiberByHostInstance:_a.findFiberByHostInstance||uM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{Qh=Ef.inject(cM),vr=Ef}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lM;Sn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C0(t))throw Error($(200));return sM(e,t,null,n)};Sn.createRoot=function(e,t){if(!C0(e))throw Error($(299));var n=!1,i="",o=bN;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=k0(e,1,!1,null,null,n,!1,i,o),e[Ur]=t.current,nl(e.nodeType===8?e.parentNode:e),new N0(t)};Sn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=Gk(t),e=e===null?null:e.stateNode,e};Sn.flushSync=function(e){return Do(e)};Sn.hydrate=function(e,t,n){if(!ad(t))throw Error($(200));return ld(null,e,t,!0,n)};Sn.hydrateRoot=function(e,t,n){if(!C0(e))throw Error($(405));var i=n!=null&&n.hydratedSources||null,o=!1,u="",a=bN;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=kN(t,null,e,1,n??null,o,!1,u,a),e[Ur]=t.current,nl(e),i)for(e=0;e<i.length;e++)n=i[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ud(t)};Sn.render=function(e,t,n){if(!ad(t))throw Error($(200));return ld(null,e,t,!1,n)};Sn.unmountComponentAtNode=function(e){if(!ad(e))throw Error($(40));return e._reactRootContainer?(Do(function(){ld(null,null,e,!1,function(){e._reactRootContainer=null,e[Ur]=null})}),!0):!1};Sn.unstable_batchedUpdates=I0;Sn.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!ad(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return ld(e,t,n,!1,i)};Sn.version="18.3.1-next-f1338f8080-20240426";function NN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NN)}catch(e){console.error(e)}}NN(),Nk.exports=Sn;var fM=Nk.exports,jT=fM;cg.createRoot=jT.createRoot,cg.hydrateRoot=jT.hydrateRoot;var ry=function(e,t){return ry=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},ry(e,t)};function ee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ry(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var fl=function(){return fl=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},fl.apply(this,arguments)};function F(e,t,n,i){function o(u){return u instanceof n?u:new n(function(a){a(u)})}return new(n||(n=Promise))(function(u,a){function c(v){try{d(i.next(v))}catch(m){a(m)}}function f(v){try{d(i.throw(v))}catch(m){a(m)}}function d(v){v.done?u(v.value):o(v.value).then(c,f)}d((i=i.apply(e,t||[])).next())})}function M(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(v){return f([d,v])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(u=d[0]&2?o.return:d[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,d[1])).done)return u;switch(o=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){n.label=d[1];break}if(d[0]===6&&n.label<u[1]){n.label=u[1],u=d;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(d);break}u[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(v){d=[6,v],o=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Hm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function If(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,u=[],a;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(c){a={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return u}function ze(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hM=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},dM=function(e){for(var t=[],n=0,i=0;n<e.length;){var o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){var u=e[n++];t[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){var u=e[n++],a=e[n++],c=e[n++],f=((o&7)<<18|(u&63)<<12|(a&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{var u=e[n++],a=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|a&63)}}return t.join("")},FT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var u=e[o],a=o+1<e.length,c=a?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,v=u>>2,m=(u&3)<<4|c>>4,y=(c&15)<<2|d>>6,E=d&63;f||(E=64,a||(y=64)),i.push(n[v],n[m],n[y],n[E])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(hM(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):dM(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var u=n[e.charAt(o++)],a=o<e.length,c=a?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var v=o<e.length,m=v?n[e.charAt(o)]:64;if(++o,u==null||c==null||d==null||m==null)throw Error();var y=u<<2|c>>4;if(i.push(y),d!==64){var E=c<<4&240|d>>2;if(i.push(E),m!==64){var T=d<<6&192|m;i.push(T)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(e){return hl(void 0,e)}function hl(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!vM(i)||(e[i]=hl(e[i],t[i]));return e}function vM(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mM=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i="demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=fl({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},e),c="";return[FT.encodeString(JSON.stringify(n),!1),FT.encodeString(JSON.stringify(a),!1),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ro())}function wM(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EM(){return typeof self=="object"&&self.self===self}function IM(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function SM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TM(){return Ro().indexOf("Electron/")>=0}function _M(){var e=Ro();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function kM(){return Ro().indexOf("MSAppHost/")>=0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bM="FirebaseError",NM=function(e){ee(t,e);function t(n,i,o){var u=e.call(this,i)||this;return u.code=n,u.customData=o,u.name=bM,Object.setPrototypeOf(u,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,x0.prototype.create),u}return t}(Error),x0=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},u=this.service+"/"+t,a=this.errors[t],c=a?CM(a,o):"Error",f=this.serviceName+": "+c+" ("+u+").",d=new NM(u,f,o);return d},e}();function CM(e,t){return e.replace(xM,function(n,i){var o=t[i];return o!=null?String(o):"<"+i+"?>"})}var xM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function AM(e,t){var n=new DM(e,t);return n.subscribe.bind(n)}var DM=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(o){i.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var o=this,u;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");RM(t,["next","error","complete"])?u=t:u={next:t,error:n,complete:i},u.next===void 0&&(u.next=Wm),u.error===void 0&&(u.error=Wm),u.complete===void 0&&(u.complete=Wm);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?u.error(o.finalError):u.complete()}catch{}}),this.observers.push(u),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function RM(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(e){return e&&e._delegate?e._delegate:e}var cd=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PM=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new mM;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(LM(t))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}try{for(var o=Hm(this.instancesDeferred.entries()),u=o.next();!u.done;u=o.next()){var a=If(u.value,2),c=a[0],f=a[1],d=this.normalizeInstanceIdentifier(c);try{var v=this.getOrInitializeService({instanceIdentifier:d});f.resolve(v)}catch{}}}catch(m){n={error:m}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=bs),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return F(this,void 0,void 0,function(){var t;return M(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ze(ze([],If(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),If(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=bs),this.instances.has(t)},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var o=t.options,u=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:a,options:u});try{for(var f=Hm(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var v=If(d.value,2),m=v[0],y=v[1],E=this.normalizeInstanceIdentifier(m);a===E&&y.resolve(c)}}catch(T){n={error:T}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return c},e.prototype.onInit=function(t,n){var i,o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(t),this.onInitCallbacks.set(o,u);var a=this.instances.get(o);return a&&t(a,o),function(){u.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,o,u=this.onInitCallbacks.get(n);if(u)try{for(var a=Hm(u),c=a.next();!c.done;c=a.next()){var f=c.value;try{f(t,n)}catch{}}}catch(d){i={error:d}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,o=i===void 0?{}:i,u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:OM(n),options:o}),this.instances.set(n,u),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=bs),this.component?this.component.multipleInstances?t:bs:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function OM(e){return e===bs?void 0:e}function LM(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MM=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new PM(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function qn(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var u=arguments[t],a=0,c=u.length;a<c;a++,o++)i[o]=u[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var co,A0=[],ge;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ge||(ge={}));var CN={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},jM=ge.INFO,FM=(co={},co[ge.DEBUG]="log",co[ge.VERBOSE]="log",co[ge.INFO]="info",co[ge.WARN]="warn",co[ge.ERROR]="error",co),UM=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),u=FM[t];if(u)console[u].apply(console,qn(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},xN=function(){function e(t){this.name=t,this._logLevel=jM,this._logHandler=UM,this._userLogHandler=null,A0.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ge))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?CN[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,qn([this,ge.DEBUG],t)),this._logHandler.apply(this,qn([this,ge.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,qn([this,ge.VERBOSE],t)),this._logHandler.apply(this,qn([this,ge.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,qn([this,ge.INFO],t)),this._logHandler.apply(this,qn([this,ge.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,qn([this,ge.WARN],t)),this._logHandler.apply(this,qn([this,ge.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,qn([this,ge.ERROR],t)),this._logHandler.apply(this,qn([this,ge.ERROR],t))},e}();function VM(e){A0.forEach(function(t){t.setLogLevel(e)})}function $M(e,t){for(var n=function(a){var c=null;t&&t.level&&(c=CN[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var v=[],m=2;m<arguments.length;m++)v[m-2]=arguments[m];var y=v.map(function(E){if(E==null)return null;if(typeof E=="string")return E;if(typeof E=="number"||typeof E=="boolean")return E.toString();if(E instanceof Error)return E.message;try{return JSON.stringify(E)}catch{return null}}).filter(function(E){return E}).join(" ");d>=(c??f.logLevel)&&e({level:ge[d].toLowerCase(),message:y,args:v,type:f.name})}},i=0,o=A0;i<o.length;i++){var u=o[i];n(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni,BM=(ni={},ni["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ni["bad-app-name"]="Illegal App name: '{$appName}",ni["duplicate-app"]="Firebase App named '{$appName}' already exists",ni["app-deleted"]="Firebase App named '{$appName}' already deleted",ni["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ni["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ni),Ns=new x0("app","Firebase",BM),AN="@firebase/app",zM="0.6.28",qM="@firebase/analytics",KM="@firebase/app-check",HM="@firebase/auth",WM="@firebase/database",GM="@firebase/functions",QM="@firebase/installations",XM="@firebase/messaging",YM="@firebase/performance",JM="@firebase/remote-config",ZM="@firebase/storage",ej="@firebase/firestore",tj="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,wh="[DEFAULT]",nj=(kt={},kt[AN]="fire-core",kt[qM]="fire-analytics",kt[KM]="fire-app-check",kt[HM]="fire-auth",kt[WM]="fire-rtdb",kt[GM]="fire-fn",kt[QM]="fire-iid",kt[XM]="fire-fcm",kt[YM]="fire-perf",kt[JM]="fire-rc",kt[ZM]="fire-gcs",kt[ej]="fire-fst",kt["fire-js"]="fire-js",kt[tj]="fire-js-all",kt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iu=new xN("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bf=function(){function e(t,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=pM(t),this.container=new MM(n.name),this._addComponent(new cd("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(u){return o._addComponent(u)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=wh),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=wh),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){iu.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ns.create("app-deleted",{appName:this.name_})},e}();Bf.prototype.name&&Bf.prototype.options||Bf.prototype.delete||console.log("dc");var rj="8.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(e){var t={},n=new Map,i={__esModule:!0,initializeApp:a,app:u,registerVersion:d,setLogLevel:VM,onLog:v,apps:null,SDK_VERSION:rj,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:m}};i.default=i,Object.defineProperty(i,"apps",{get:c});function o(y){delete t[y]}function u(y){if(y=y||wh,!UT(t,y))throw Ns.create("no-app",{appName:y});return t[y]}u.App=e;function a(y,E){if(E===void 0&&(E={}),typeof E!="object"||E===null){var T=E;E={name:T}}var k=E;k.name===void 0&&(k.name=wh);var x=k.name;if(typeof x!="string"||!x)throw Ns.create("bad-app-name",{appName:String(x)});if(UT(t,x))throw Ns.create("duplicate-app",{appName:x});var S=new e(y,k,i);return t[x]=S,S}function c(){return Object.keys(t).map(function(y){return t[y]})}function f(y){var E=y.name;if(n.has(E))return iu.debug("There were multiple attempts to register component "+E+"."),y.type==="PUBLIC"?i[E]:null;if(n.set(E,y),y.type==="PUBLIC"){var T=function(I){if(I===void 0&&(I=u()),typeof I[E]!="function")throw Ns.create("invalid-app-argument",{appName:E});return I[E]()};y.serviceProps!==void 0&&hl(T,y.serviceProps),i[E]=T,e.prototype[E]=function(){for(var I=[],_=0;_<arguments.length;_++)I[_]=arguments[_];var A=this._getService.bind(this,E);return A.apply(this,y.multipleInstances?I:[])}}for(var k=0,x=Object.keys(t);k<x.length;k++){var S=x[k];t[S]._addComponent(y)}return y.type==="PUBLIC"?i[E]:null}function d(y,E,T){var k,x=(k=nj[y])!==null&&k!==void 0?k:y;T&&(x+="-"+T);var S=x.match(/\s|\//),I=E.match(/\s|\//);if(S||I){var _=['Unable to register library "'+x+'" with version "'+E+'":'];S&&_.push('library name "'+x+'" contains illegal characters (whitespace or "/")'),S&&I&&_.push("and"),I&&_.push('version name "'+E+'" contains illegal characters (whitespace or "/")'),iu.warn(_.join(" "));return}f(new cd(x+"-version",function(){return{library:x,version:E}},"VERSION"))}function v(y,E){if(y!==null&&typeof y!="function")throw Ns.create("invalid-log-argument");$M(y,E)}function m(y,E){if(E==="serverAuth")return null;var T=E;return T}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){var e=ij(Bf);e.INTERNAL=fl(fl({},e.INTERNAL),{createFirebaseNamespace:DN,extendNamespace:t,createSubscribe:AM,ErrorFactory:x0,deepExtend:hl});function t(n){hl(e,n)}return e}var D0=DN();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oj=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(sj(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();function sj(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(e,t){e.INTERNAL.registerComponent(new cd("platform-logger",function(n){return new oj(n)},"PRIVATE")),e.registerVersion(AN,zM,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(EM()&&self.firebase!==void 0){iu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var VT=self.firebase.SDK_VERSION;VT&&VT.indexOf("LITE")>=0&&iu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var aj=D0.initializeApp;D0.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return wM()&&iu.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),aj.apply(void 0,e)};var re=D0;uj(re);var lj="firebase",RN="8.7.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */re.registerVersion(lj,RN,"app");re.SDK_VERSION=RN;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var iy=function(e,t){return iy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},iy(e,t)};function cj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");iy(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function PN(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var fj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G,R0=R0||{},ue=fj||self;function Eh(){}function oy(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function fd(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function hj(e){return Object.prototype.hasOwnProperty.call(e,Gm)&&e[Gm]||(e[Gm]=++dj)}var Gm="closure_uid_"+(1e9*Math.random()>>>0),dj=0;function pj(e,t,n){return e.call.apply(e.bind,arguments)}function vj(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function wt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wt=pj:wt=vj,wt.apply(null,arguments)}function Sf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function St(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,o,u){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return t.prototype[o].apply(i,a)}}function Oi(){this.s=this.s,this.o=this.o}var mj=0;Oi.prototype.s=!1;Oi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),mj!=0)&&hj(this)};Oi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ON=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},LN=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=typeof e=="string"?e.split(""):e,u=0;u<i;u++)u in o&&t.call(n,o[u],u,e)};function gj(e){e:{for(var t=l6,n=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function $T(e){return Array.prototype.concat.apply([],arguments)}function P0(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function Ih(e){return/^[\s\xa0]*$/.test(e)}var BT=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ft(e,t){return e.indexOf(t)!=-1}function Qm(e,t){return e<t?-1:e>t?1:0}var Ut;e:{var zT=ue.navigator;if(zT){var qT=zT.userAgent;if(qT){Ut=qT;break e}}Ut=""}function O0(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function MN(e){var t={};for(var n in e)t[n]=e[n];return t}var KT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jN(e,t){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(var u=0;u<KT.length;u++)n=KT[u],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function L0(e){return L0[" "](e),e}L0[" "]=Eh;function yj(e){var t=Ij;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var wj=Ft(Ut,"Opera"),ou=Ft(Ut,"Trident")||Ft(Ut,"MSIE"),FN=Ft(Ut,"Edge"),sy=FN||ou,UN=Ft(Ut,"Gecko")&&!(Ft(Ut.toLowerCase(),"webkit")&&!Ft(Ut,"Edge"))&&!(Ft(Ut,"Trident")||Ft(Ut,"MSIE"))&&!Ft(Ut,"Edge"),Ej=Ft(Ut.toLowerCase(),"webkit")&&!Ft(Ut,"Edge");function VN(){var e=ue.document;return e?e.documentMode:void 0}var Sh;e:{var Xm="",Ym=function(){var e=Ut;if(UN)return/rv:([^\);]+)(\)|;)/.exec(e);if(FN)return/Edge\/([\d\.]+)/.exec(e);if(ou)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Ej)return/WebKit\/(\S+)/.exec(e);if(wj)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Ym&&(Xm=Ym?Ym[1]:""),ou){var Jm=VN();if(Jm!=null&&Jm>parseFloat(Xm)){Sh=String(Jm);break e}}Sh=Xm}var Ij={};function Sj(){return yj(function(){for(var e=0,t=BT(String(Sh)).split("."),n=BT("9").split("."),i=Math.max(t.length,n.length),o=0;e==0&&o<i;o++){var u=t[o]||"",a=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u[0].length==0&&a[0].length==0)break;e=Qm(u[1].length==0?0:parseInt(u[1],10),a[1].length==0?0:parseInt(a[1],10))||Qm(u[2].length==0,a[2].length==0)||Qm(u[2],a[2]),u=u[3],a=a[3]}while(e==0)}return 0<=e})}var uy;if(ue.document&&ou){var HT=VN();uy=HT||parseInt(Sh,10)||void 0}else uy=void 0;var Tj=uy,_j=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ue.addEventListener("test",Eh,t),ue.removeEventListener("test",Eh,t)}catch{}return e}();function At(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};function dl(e,t){if(At.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(UN){e:{try{L0(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:kj[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&dl.Z.h.call(this)}}St(dl,At);var kj={2:"touch",3:"pen",4:"mouse"};dl.prototype.h=function(){dl.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hd="closure_listenable_"+(1e6*Math.random()|0),bj=0;function Nj(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=o,this.key=++bj,this.ca=this.fa=!1}function dd(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function pd(e){this.src=e,this.g={},this.h=0}pd.prototype.add=function(e,t,n,i,o){var u=e.toString();e=this.g[u],e||(e=this.g[u]=[],this.h++);var a=ly(e,t,i,o);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new Nj(t,this.src,u,!!i,o),t.fa=n,e.push(t)),t};function ay(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=ON(i,t),u;(u=0<=o)&&Array.prototype.splice.call(i,o,1),u&&(dd(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function ly(e,t,n,i){for(var o=0;o<e.length;++o){var u=e[o];if(!u.ca&&u.listener==t&&u.capture==!!n&&u.ia==i)return o}return-1}var M0="closure_lm_"+(1e6*Math.random()|0),Zm={};function $N(e,t,n,i,o){if(Array.isArray(t)){for(var u=0;u<t.length;u++)$N(e,t[u],n,i,o);return null}return n=qN(n),e&&e[hd]?e.N(t,n,fd(i)?!!i.capture:!!i,o):Cj(e,t,n,!1,i,o)}function Cj(e,t,n,i,o,u){if(!t)throw Error("Invalid event type");var a=fd(o)?!!o.capture:!!o,c=F0(e);if(c||(e[M0]=c=new pd(e)),n=c.add(t,n,i,a,u),n.proxy)return n;if(i=xj(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)_j||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(zN(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function xj(){function e(n){return t.call(e.src,e.listener,n)}var t=Aj;return e}function BN(e,t,n,i,o){if(Array.isArray(t))for(var u=0;u<t.length;u++)BN(e,t[u],n,i,o);else i=fd(i)?!!i.capture:!!i,n=qN(n),e&&e[hd]?(e=e.i,t=String(t).toString(),t in e.g&&(u=e.g[t],n=ly(u,n,i,o),-1<n&&(dd(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete e.g[t],e.h--)))):e&&(e=F0(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ly(t,n,i,o)),(n=-1<e?t[e]:null)&&j0(n))}function j0(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[hd])ay(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(zN(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=F0(t))?(ay(n,e),n.h==0&&(n.src=null,t[M0]=null)):dd(e)}}}function zN(e){return e in Zm?Zm[e]:Zm[e]="on"+e}function Aj(e,t){if(e.ca)e=!0;else{t=new dl(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&j0(e),e=n.call(i,t)}return e}function F0(e){return e=e[M0],e instanceof pd?e:null}var eg="__closure_events_fn_"+(1e9*Math.random()>>>0);function qN(e){return typeof e=="function"?e:(e[eg]||(e[eg]=function(t){return e.handleEvent(t)}),e[eg])}function dt(){Oi.call(this),this.i=new pd(this),this.P=this,this.I=null}St(dt,Oi);dt.prototype[hd]=!0;dt.prototype.removeEventListener=function(e,t,n,i){BN(this,e,t,n,i)};function Et(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new At(t,e);else if(t instanceof At)t.target=t.target||e;else{var o=t;t=new At(i,e),jN(t,o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var a=t.g=n[u];o=Tf(a,i,!0,t)&&o}if(a=t.g=e,o=Tf(a,i,!0,t)&&o,o=Tf(a,i,!1,t)&&o,n)for(u=0;u<n.length;u++)a=t.g=n[u],o=Tf(a,i,!1,t)&&o}dt.prototype.M=function(){if(dt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)dd(n[i]);delete e.g[t],e.h--}}this.I=null};dt.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};dt.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Tf(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,u=0;u<t.length;++u){var a=t[u];if(a&&!a.ca&&a.capture==n){var c=a.listener,f=a.ia||a.src;a.fa&&ay(e.i,a),o=c.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var U0=ue.JSON.stringify;function Dj(){var e=HN,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Rj=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=KN.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),KN=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new Pj},function(e){return e.reset()}),Pj=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Oj(e){ue.setTimeout(function(){throw e},0)}function V0(e,t){cy||Lj(),fy||(cy(),fy=!0),HN.add(e,t)}var cy;function Lj(){var e=ue.Promise.resolve(void 0);cy=function(){e.then(Mj)}}var fy=!1,HN=new Rj;function Mj(){for(var e;e=Dj();){try{e.h.call(e.g)}catch(n){Oj(n)}var t=KN;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}fy=!1}function vd(e,t){dt.call(this),this.h=e||1,this.g=t||ue,this.j=wt(this.kb,this),this.l=Date.now()}St(vd,dt);G=vd.prototype;G.da=!1;G.S=null;G.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Et(this,"tick"),this.da&&($0(this),this.start()))}};G.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function $0(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}G.M=function(){vd.Z.M.call(this),$0(this),delete this.g};function B0(e,t,n){if(typeof e=="function")n&&(e=wt(e,n));else if(e&&typeof e.handleEvent=="function")e=wt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ue.setTimeout(e,t||0)}function WN(e){e.g=B0(function(){e.g=null,e.i&&(e.i=!1,WN(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var jj=function(e){cj(t,e);function t(n,i){var o=e.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:WN(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Oi);function pl(e){Oi.call(this),this.h=e,this.g={}}St(pl,Oi);var WT=[];function GN(e,t,n,i){Array.isArray(n)||(n&&(WT[0]=n.toString()),n=WT);for(var o=0;o<n.length;o++){var u=$N(t,n[o],i||e.handleEvent,!1,e.h||e);if(!u)break;e.g[u.key]=u}}function QN(e){O0(e.g,function(t,n){this.g.hasOwnProperty(n)&&j0(t)},e),e.g={}}pl.prototype.M=function(){pl.Z.M.call(this),QN(this)};pl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function md(){this.g=!0}md.prototype.Aa=function(){this.g=!1};function Fj(e,t,n,i,o,u){e.info(function(){if(e.g)if(u)for(var a="",c=u.split("&"),f=0;f<c.length;f++){var d=c[f].split("=");if(1<d.length){var v=d[0];d=d[1];var m=v.split("_");a=2<=m.length&&m[1]=="type"?a+(v+"="+d+"&"):a+(v+"=redacted&")}}else a=null;else a=u;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function Uj(e,t,n,i,o,u,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+u+" "+a})}function Bs(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+$j(e,n)+(i?" "+i:"")})}function Vj(e,t){e.info(function(){return"TIMEOUT: "+t})}md.prototype.info=function(){};function $j(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return U0(n)}catch{return t}}var $o={},GT=null;function gd(){return GT=GT||new dt}$o.Ma="serverreachability";function XN(e){At.call(this,$o.Ma,e)}St(XN,At);function vl(e){var t=gd();Et(t,new XN(t))}$o.STAT_EVENT="statevent";function YN(e,t){At.call(this,$o.STAT_EVENT,e),this.stat=t}St(YN,At);function Vt(e){var t=gd();Et(t,new YN(t,e))}$o.Na="timingevent";function JN(e,t){At.call(this,$o.Na,e),this.size=t}St(JN,At);function jl(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){e()},t)}var yd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ZN={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function z0(){}z0.prototype.h=null;function QT(e){return e.h||(e.h=e.i())}function eC(){}var Fl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function q0(){At.call(this,"d")}St(q0,At);function K0(){At.call(this,"c")}St(K0,At);var hy;function wd(){}St(wd,z0);wd.prototype.g=function(){return new XMLHttpRequest};wd.prototype.i=function(){return{}};hy=new wd;function Ul(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new pl(this),this.P=Bj,e=sy?125:void 0,this.W=new vd(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new tC}function tC(){this.i=null,this.g="",this.h=!1}var Bj=45e3,dy={},Th={};G=Ul.prototype;G.setTimeout=function(e){this.P=e};function py(e,t,n){e.K=1,e.v=Id(Br(t)),e.s=n,e.U=!0,nC(e,null)}function nC(e,t){e.F=Date.now(),Vl(e),e.A=Br(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),lC(n.h,"t",i),e.C=0,n=e.l.H,e.h=new tC,e.g=xC(e.l,n?t:null,!e.s),0<e.O&&(e.L=new jj(wt(e.Ia,e,e.g),e.O)),GN(e.V,e.g,"readystatechange",e.gb),t=e.H?MN(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),vl(),Fj(e.j,e.u,e.A,e.m,e.X,e.s)}G.gb=function(e){e=e.target;var t=this.L;t&&Rr(e)==3?t.l():this.Ia(e)};G.Ia=function(e){try{if(e==this.g)e:{var t=Rr(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||sy||this.g&&(this.h.h||this.g.ga()||ZT(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?vl(3):vl(2)),Ed(this);var o=this.g.ba();this.N=o;t:if(rC(this)){var u=ZT(this.g);e="";var a=u.length,c=Rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yo(this),za(this);var f="";break t}this.h.i=new ue.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(u[n],{stream:c&&n==a-1});u.splice(0,a),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,Uj(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,v=this.g;if((d=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ih(d)){var m=d;break t}}m=null}if(o=m)Bs(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,vy(this,o);else{this.i=!1,this.o=3,Vt(12),yo(this),za(this);break e}}this.U?(iC(this,t,f),sy&&this.i&&t==3&&(GN(this.V,this.W,"tick",this.fb),this.W.start())):(Bs(this.j,this.m,f,null),vy(this,f)),t==4&&yo(this),this.i&&!this.I&&(t==4?kC(this.l,this):(this.i=!1,Vl(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,Vt(12)):(this.o=0,Vt(13)),yo(this),za(this)}}}catch{}finally{}};function rC(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function iC(e,t,n){for(var i=!0,o;!e.I&&e.C<n.length;)if(o=zj(e,n),o==Th){t==4&&(e.o=4,Vt(14),i=!1),Bs(e.j,e.m,null,"[Incomplete Response]");break}else if(o==dy){e.o=4,Vt(15),Bs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Bs(e.j,e.m,o,null),vy(e,o);rC(e)&&o!=Th&&o!=dy&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Vt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ew(t),t.L=!0,Vt(11))):(Bs(e.j,e.m,n,"[Invalid Chunked Response]"),yo(e),za(e))}G.fb=function(){if(this.g){var e=Rr(this.g),t=this.g.ga();this.C<t.length&&(Ed(this),iC(this,e,t),this.i&&e!=4&&Vl(this))}};function zj(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Th:(n=Number(t.substring(n,i)),isNaN(n)?dy:(i+=1,i+n>t.length?Th:(t=t.substr(i,n),e.C=i+n,t)))}G.cancel=function(){this.I=!0,yo(this)};function Vl(e){e.Y=Date.now()+e.P,oC(e,e.P)}function oC(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=jl(wt(e.eb,e),t)}function Ed(e){e.B&&(ue.clearTimeout(e.B),e.B=null)}G.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(Vj(this.j,this.A),this.K!=2&&(vl(),Vt(17)),yo(this),this.o=2,za(this)):oC(this,this.Y-e)};function za(e){e.l.G==0||e.I||kC(e.l,e)}function yo(e){Ed(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,$0(e.W),QN(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function vy(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||my(n.i,e))){if(n.I=e.N,!e.J&&my(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Nh(n),_d(n);else break e;Z0(n),Vt(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=jl(wt(n.ab,n),6e3));if(1>=hC(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else wo(n,11)}else if((e.J||n.g==e)&&Nh(n),!Ih(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var u=o[t];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];var a=u[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var c=u[4];c!=null&&(n.za=c,n.h.info("SVER="+n.za));var f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=e.g;if(d){var v=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var m=i.i;!m.g&&(Ft(v,"spdy")||Ft(v,"quic")||Ft(v,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(G0(m,m.h),m.h=null))}if(i.D){var y=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(i.sa=y,Pe(i.F,i.D,y))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var E=e;if(i.oa=CC(i,i.H?i.la:null,i.W),E.J){dC(i.i,E);var T=E,k=i.K;k&&T.setTimeout(k),T.B&&(Ed(T),Vl(T)),i.g=E}else TC(i);0<n.l.length&&kd(n)}else u[0]!="stop"&&u[0]!="close"||wo(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?wo(n,7):J0(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}vl(4)}catch{}}function qj(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(oy(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function H0(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(oy(e)||typeof e=="string")LN(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(oy(e)||typeof e=="string"){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=qj(e),o=i.length;for(var u=0;u<o;u++)t.call(void 0,i[u],n&&n[u],e)}}function ku(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof ku)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}G=ku.prototype;G.R=function(){W0(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};G.T=function(){return W0(this),this.g.concat()};function W0(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Po(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)i=e.g[t],Po(o,i)||(e.g[n++]=i,o[i]=1),t++;e.g.length=n}}G.get=function(e,t){return Po(this.h,e)?this.h[e]:t};G.set=function(e,t){Po(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};G.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],u=this.get(o);e.call(t,u,o,this)}};function Po(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var sC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Kj(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var u=e[n].substring(0,i);o=e[n].substring(i+1)}else u=e[n];t(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Oo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Oo){this.g=t!==void 0?t:e.g,_h(this,e.j),this.s=e.s,kh(this,e.i),bh(this,e.m),this.l=e.l,t=e.h;var n=new ml;n.i=t.i,t.g&&(n.g=new ku(t.g),n.h=t.h),XT(this,n),this.o=e.o}else e&&(n=String(e).match(sC))?(this.g=!!t,_h(this,n[1]||"",!0),this.s=qa(n[2]||""),kh(this,n[3]||"",!0),bh(this,n[4]),this.l=qa(n[5]||"",!0),XT(this,n[6]||"",!0),this.o=qa(n[7]||"")):(this.g=!!t,this.h=new ml(null,this.g))}Oo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Da(t,YT,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Da(t,YT,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Da(n,n.charAt(0)=="/"?Xj:Qj,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Da(n,Jj)),e.join("")};function Br(e){return new Oo(e)}function _h(e,t,n){e.j=n?qa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function kh(e,t,n){e.i=n?qa(t,!0):t}function bh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function XT(e,t,n){t instanceof ml?(e.h=t,Zj(e.h,e.g)):(n||(t=Da(t,Yj)),e.h=new ml(t,e.g))}function Pe(e,t,n){e.h.set(t,n)}function Id(e){return Pe(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Hj(e){return e instanceof Oo?Br(e):new Oo(e,void 0)}function Wj(e,t,n,i){var o=new Oo(null,void 0);return e&&_h(o,e),t&&kh(o,t),n&&bh(o,n),i&&(o.l=i),o}function qa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Da(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Gj),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gj(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var YT=/[#\/\?@]/g,Qj=/[#\?:]/g,Xj=/[#\?]/g,Yj=/[#\?@]/g,Jj=/#/g;function ml(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Li(e){e.g||(e.g=new ku,e.h=0,e.i&&Kj(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}G=ml.prototype;G.add=function(e,t){Li(this),this.i=null,e=bu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function uC(e,t){Li(e),t=bu(e,t),Po(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Po(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&W0(e)))}function aC(e,t){return Li(e),t=bu(e,t),Po(e.g.h,t)}G.forEach=function(e,t){Li(this),this.g.forEach(function(n,i){LN(n,function(o){e.call(t,o,i,this)},this)},this)};G.T=function(){Li(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var o=e[i],u=0;u<o.length;u++)n.push(t[i]);return n};G.R=function(e){Li(this);var t=[];if(typeof e=="string")aC(this,e)&&(t=$T(t,this.g.get(bu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=$T(t,e[n])}return t};G.set=function(e,t){return Li(this),this.i=null,e=bu(this,e),aC(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};G.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function lC(e,t,n){uC(e,t),0<n.length&&(e.i=null,e.g.set(bu(e,t),P0(n)),e.h+=n.length)}G.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],o=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var a=o;i[u]!==""&&(a+="="+encodeURIComponent(String(i[u]))),e.push(a)}}return this.i=e.join("&")};function bu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Zj(e,t){t&&!e.j&&(Li(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(uC(this,i),lC(this,o,n))},e)),e.j=t}var e6=function(){function e(t,n){this.h=t,this.g=n}return e}();function cC(e){this.l=e||t6,ue.PerformanceNavigationTiming?(e=ue.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ue.g&&ue.g.Ea&&ue.g.Ea()&&ue.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var t6=10;function fC(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function hC(e){return e.h?1:e.g?e.g.size:0}function my(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function G0(e,t){e.g?e.g.add(t):e.h=t}function dC(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}cC.prototype.cancel=function(){var e,t;if(this.i=pC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=PN(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function pC(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var o=PN(e.g.values()),u=o.next();!u.done;u=o.next()){var a=u.value;i=i.concat(a.D)}}catch(c){t={error:c}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return P0(e.i)}function Q0(){}Q0.prototype.stringify=function(e){return ue.JSON.stringify(e,void 0)};Q0.prototype.parse=function(e){return ue.JSON.parse(e,void 0)};function n6(){this.g=new Q0}function r6(e,t,n){var i=n||"";try{H0(e,function(o,u){var a=o;fd(o)&&(a=U0(o)),t.push(i+u+"="+encodeURIComponent(a))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function i6(e,t){var n=new md;if(ue.Image){var i=new Image;i.onload=Sf(_f,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Sf(_f,n,i,"TestLoadImage: error",!1,t),i.onabort=Sf(_f,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Sf(_f,n,i,"TestLoadImage: timeout",!1,t),ue.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function _f(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function $l(e){this.l=e.$b||null,this.j=e.ib||!1}St($l,z0);$l.prototype.g=function(){return new Sd(this.l,this.j)};$l.prototype.i=function(e){return function(){return e}}({});function Sd(e,t){dt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=X0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}St(Sd,dt);var X0=0;G=Sd.prototype;G.open=function(e,t){if(this.readyState!=X0)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,gl(this)};G.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ue).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};G.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bl(this)),this.readyState=X0};G.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,gl(this)),this.g&&(this.readyState=3,gl(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ue.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vC(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function vC(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}G.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Bl(this):gl(this),this.readyState==3&&vC(this)}};G.Ua=function(e){this.g&&(this.response=this.responseText=e,Bl(this))};G.Ta=function(e){this.g&&(this.response=e,Bl(this))};G.ha=function(){this.g&&Bl(this)};function Bl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,gl(e)}G.setRequestHeader=function(e,t){this.v.append(e,t)};G.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};G.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function gl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Sd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var o6=ue.JSON.parse;function nt(e){dt.call(this),this.headers=new ku,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mC,this.K=this.L=!1}St(nt,dt);var mC="",s6=/^https?$/i,u6=["POST","PUT"];G=nt.prototype;G.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hy.g(),this.C=this.u?QT(this.u):QT(hy),this.g.onreadystatechange=wt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){JT(this,u);return}e=n||"";var o=new ku(this.headers);i&&H0(i,function(u,a){o.set(a,u)}),i=gj(o.T()),n=ue.FormData&&e instanceof ue.FormData,!(0<=ON(u6,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,a){this.g.setRequestHeader(a,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wC(this),0<this.B&&((this.K=a6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wt(this.pa,this)):this.A=B0(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){JT(this,u)}};function a6(e){return ou&&Sj()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function l6(e){return e.toLowerCase()=="content-type"}G.pa=function(){typeof R0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Et(this,"timeout"),this.abort(8))};function JT(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,gC(e),Td(e)}function gC(e){e.D||(e.D=!0,Et(e,"complete"),Et(e,"error"))}G.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Et(this,"complete"),Et(this,"abort"),Td(this))};G.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Td(this,!0)),nt.Z.M.call(this)};G.Fa=function(){this.s||(this.F||this.v||this.l?yC(this):this.cb())};G.cb=function(){yC(this)};function yC(e){if(e.h&&typeof R0<"u"&&(!e.C[1]||Rr(e)!=4||e.ba()!=2)){if(e.v&&Rr(e)==4)B0(e.Fa,0,e);else if(Et(e,"readystatechange"),Rr(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var o;if(o=t===0){var u=String(e.H).match(sC)[1]||null;if(!u&&ue.self&&ue.self.location){var a=ue.self.location.protocol;u=a.substr(0,a.length-1)}o=!s6.test(u?u.toLowerCase():"")}i=o}if(i)Et(e,"complete"),Et(e,"success");else{e.m=6;try{var c=2<Rr(e)?e.g.statusText:""}catch{c=""}e.j=c+" ["+e.ba()+"]",gC(e)}}finally{Td(e)}}}}function Td(e,t){if(e.g){wC(e);var n=e.g,i=e.C[0]?Eh:null;e.g=null,e.C=null,t||Et(e,"ready");try{n.onreadystatechange=i}catch{}}}function wC(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ue.clearTimeout(e.A),e.A=null)}function Rr(e){return e.g?e.g.readyState:0}G.ba=function(){try{return 2<Rr(this)?this.g.status:-1}catch{return-1}};G.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};G.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),o6(t)}};function ZT(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case mC:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}G.Da=function(){return this.m};G.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function c6(e){var t="";return O0(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Y0(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=c6(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Pe(e,t,n))}function ka(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function EC(e){this.za=0,this.l=[],this.h=new md,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ka("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ka("baseRetryDelayMs",5e3,e),this.$a=ka("retryDelaySeedMs",1e4,e),this.Ya=ka("forwardChannelMaxRetries",2,e),this.ra=ka("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new cC(e&&e.concurrentRequestLimit),this.Ca=new n6,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}G=EC.prototype;G.ma=8;G.G=1;function J0(e){if(IC(e),e.G==3){var t=e.V++,n=Br(e.F);Pe(n,"SID",e.J),Pe(n,"RID",t),Pe(n,"TYPE","terminate"),zl(e,n),t=new Ul(e,e.h,t,void 0),t.K=2,t.v=Id(Br(n)),n=!1,ue.navigator&&ue.navigator.sendBeacon&&(n=ue.navigator.sendBeacon(t.v.toString(),"")),!n&&ue.Image&&(new Image().src=t.v,n=!0),n||(t.g=xC(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Vl(t)}NC(e)}G.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function _d(e){e.g&&(ew(e),e.g.cancel(),e.g=null)}function IC(e){_d(e),e.u&&(ue.clearTimeout(e.u),e.u=null),Nh(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ue.clearTimeout(e.m),e.m=null)}function tg(e,t){e.l.push(new e6(e.Za++,t)),e.G==3&&kd(e)}function kd(e){fC(e.i)||e.m||(e.m=!0,V0(e.Ha,e),e.C=0)}function f6(e,t){return hC(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=jl(wt(e.Ha,e,t),bC(e,e.C)),e.C++,!0)}G.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ul(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=MN(n),jN(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){t:{var u=this.l[o];if("__data__"in u.g&&(u=u.g.__data__,typeof u=="string")){u=u.length;break t}u=void 0}if(u===void 0)break;if(i+=u,4096<i){i=o;break e}if(i===4096||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=SC(this,t,i),o=Br(this.F),Pe(o,"RID",e),Pe(o,"CVER",22),this.D&&Pe(o,"X-HTTP-Session-Id",this.D),zl(this,o),this.o&&n&&Y0(o,this.o,n),G0(this.i,t),this.Ra&&Pe(o,"TYPE","init"),this.ja?(Pe(o,"$req",i),Pe(o,"SID","null"),t.$=!0,py(t,o,null)):py(t,o,i),this.G=2}}else this.G==3&&(e?e_(this,e):this.l.length==0||fC(this.i)||e_(this))};function e_(e,t){var n;t?n=t.m:n=e.V++;var i=Br(e.F);Pe(i,"SID",e.J),Pe(i,"RID",n),Pe(i,"AID",e.U),zl(e,i),e.o&&e.s&&Y0(i,e.o,e.s),n=new Ul(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=SC(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),G0(e.i,n),py(n,i,t)}function zl(e,t){e.j&&H0({},function(n,i){Pe(t,i,n)})}function SC(e,t,n){n=Math.min(e.l.length,n);var i=e.j?wt(e.j.Oa,e.j,e):null;e:for(var o=e.l,u=-1;;){var a=["count="+n];u==-1?0<n?(u=o[0].h,a.push("ofs="+u)):u=0:a.push("ofs="+u);for(var c=!0,f=0;f<n;f++){var d=o[f].h,v=o[f].g;if(d-=u,0>d)u=Math.max(0,o[f].h-100),c=!1;else try{r6(v,a,"req"+d+"_")}catch{i&&i(v)}}if(c){i=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,i}function TC(e){e.g||e.u||(e.Y=1,V0(e.Ga,e),e.A=0)}function Z0(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=jl(wt(e.Ga,e),bC(e,e.A)),e.A++,!0)}G.Ga=function(){if(this.u=null,_C(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=jl(wt(this.bb,this),e)}};G.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Vt(10),_d(this),_C(this))};function ew(e){e.B!=null&&(ue.clearTimeout(e.B),e.B=null)}function _C(e){e.g=new Ul(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Br(e.oa);Pe(t,"RID","rpc"),Pe(t,"SID",e.J),Pe(t,"CI",e.N?"0":"1"),Pe(t,"AID",e.U),zl(e,t),Pe(t,"TYPE","xmlhttp"),e.o&&e.s&&Y0(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Id(Br(t)),n.s=null,n.U=!0,nC(n,e)}G.ab=function(){this.v!=null&&(this.v=null,_d(this),Z0(this),Vt(19))};function Nh(e){e.v!=null&&(ue.clearTimeout(e.v),e.v=null)}function kC(e,t){var n=null;if(e.g==t){Nh(e),ew(e),e.g=null;var i=2}else if(my(e.i,t))n=t.D,dC(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;i=gd(),Et(i,new JN(i,n)),kd(e)}else TC(e);else if(o=t.o,o==3||o==0&&0<e.I||!(i==1&&f6(e,t)||i==2&&Z0(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:wo(e,5);break;case 4:wo(e,10);break;case 3:wo(e,6);break;default:wo(e,2)}}}function bC(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function wo(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=wt(e.jb,e);n||(n=new Oo("//www.google.com/images/cleardot.gif"),ue.location&&ue.location.protocol=="http"||_h(n,"https"),Id(n)),i6(n.toString(),i)}else Vt(2);e.G=0,e.j&&e.j.va(t),NC(e),IC(e)}G.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Vt(2)):(this.h.info("Failed to ping google.com"),Vt(1))};function NC(e){e.G=0,e.I=-1,e.j&&((pC(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,P0(e.l),e.l.length=0),e.j.ua())}function CC(e,t,n){var i=Hj(n);if(i.i!="")t&&kh(i,t+"."+i.i),bh(i,i.m);else{var o=ue.location;i=Wj(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&O0(e.aa,function(u,a){Pe(i,a,u)}),t=e.D,n=e.sa,t&&n&&Pe(i,t,n),Pe(i,"VER",e.ma),zl(e,i),i}function xC(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new nt(new $l({ib:!0})):new nt(e.qa),t.L=e.H,t}function AC(){}G=AC.prototype;G.xa=function(){};G.wa=function(){};G.va=function(){};G.ua=function(){};G.Oa=function(){};function Ch(){if(ou&&!(10<=Number(Tj)))throw Error("Environmental error: no available transport.")}Ch.prototype.g=function(e,t){return new En(e,t)};function En(e,t){dt.call(this),this.g=new EC(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ih(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ih(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Nu(this)}St(En,dt);En.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),V0(wt(e.hb,e,t))),Vt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=CC(e,null,e.W),kd(e)};En.prototype.close=function(){J0(this.g)};En.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,tg(this.g,t)}else this.v?(t={},t.__data__=U0(e),tg(this.g,t)):tg(this.g,e)};En.prototype.M=function(){this.g.j=null,delete this.j,J0(this.g),delete this.g,En.Z.M.call(this)};function DC(e){q0.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}St(DC,q0);function RC(){K0.call(this),this.status=1}St(RC,K0);function Nu(e){this.g=e}St(Nu,AC);Nu.prototype.xa=function(){Et(this.g,"a")};Nu.prototype.wa=function(e){Et(this.g,new DC(e))};Nu.prototype.va=function(e){Et(this.g,new RC)};Nu.prototype.ua=function(){Et(this.g,"b")};Ch.prototype.createWebChannel=Ch.prototype.g;En.prototype.send=En.prototype.u;En.prototype.open=En.prototype.m;En.prototype.close=En.prototype.close;yd.NO_ERROR=0;yd.TIMEOUT=8;yd.HTTP_ERROR=6;ZN.COMPLETE="complete";eC.EventType=Fl;Fl.OPEN="a";Fl.CLOSE="b";Fl.ERROR="c";Fl.MESSAGE="d";dt.prototype.listen=dt.prototype.N;nt.prototype.listenOnce=nt.prototype.O;nt.prototype.getLastError=nt.prototype.La;nt.prototype.getLastErrorCode=nt.prototype.Da;nt.prototype.getStatus=nt.prototype.ba;nt.prototype.getResponseJson=nt.prototype.Qa;nt.prototype.getResponseText=nt.prototype.ga;nt.prototype.send=nt.prototype.ea;var h6=function(){return new Ch},d6=function(){return gd()},ng=yd,p6=ZN,v6=$o,t_={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},m6=$l,kf=eC,g6=nt,y6={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();vn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=function(e){function t(n,i){var o=this;return(o=e.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return ee(t,e),t}(Error),Xn=new xN("@firebase/firestore");function gy(){return Xn.logLevel}function z(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Xn.logLevel<=ge.DEBUG){var i=t.map(tw);Xn.debug.apply(Xn,ze(["Firestore (8.7.0): "+e],i))}}function Ze(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Xn.logLevel<=ge.ERROR){var i=t.map(tw);Xn.error.apply(Xn,ze(["Firestore (8.7.0): "+e],i))}}function xh(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Xn.logLevel<=ge.WARN){var i=t.map(tw);Xn.warn.apply(Xn,ze(["Firestore (8.7.0): "+e],i))}}function tw(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.7.0) INTERNAL ASSERTION FAILED: "+e;throw Ze(t),new Error(t)}function ne(e,t){e||Y()}function H(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PC=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var o=w6(40),u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=t.charAt(o[u]%t.length));return i},e}();function de(e,t){return e<t?-1:e>t?1:0}function su(e,t,n){return e.length===t.length&&e.every(function(i,o){return n(i,t[o])})}function OC(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new U(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new U(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new U(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?de(this.nanoseconds,t.nanoseconds):de(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),le=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new rn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function LC(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MC=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&Y(),i===void 0?i=t.length-n:i>t.length-n&&Y(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var u=t.get(o),a=n.get(o);if(u<a)return-1;if(u>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),ye=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],u=0,a=n;u<a.length;u++){var c=a[u];if(c.indexOf("//")>=0)throw new U(D.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");o.push.apply(o,c.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(MC),E6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,er=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.isValidIdentifier=function(n){return E6.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],o="",u=0,a=function(){if(o.length===0)throw new U(D.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},c=!1;u<n.length;){var f=n[u];if(f==="\\"){if(u+1===n.length)throw new U(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[u+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new U(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,u+=2}else f==="`"?(c=!c,u++):f!=="."||c?(o+=f,u++):(a(),u++)}if(a(),c)throw new U(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(MC),uu=function(){function e(t){this.fields=t,t.sort(er.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return su(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),on=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return de(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();on.EMPTY_BYTE_STRING=new on("");var I6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(e){if(ne(!!e),typeof e=="string"){var t=0,n=I6.exec(e);if(ne(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Ye(e.seconds),nanos:Ye(e.nanos)}}function Ye(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function au(e){return typeof e=="string"?on.fromBase64String(e):on.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jC(e){var t=e.mapValue.fields.__previous_value__;return nw(t)?jC(t):t}function yl(e){var t=zr(e.mapValue.fields.__local_write_time__.timestampValue);return new rn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(e){return e==null}function Ah(e){return e===0&&1/e==-1/0}function FC(e){return typeof e=="number"&&Number.isInteger(e)&&!Ah(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(ye.fromString(t))},e.fromName=function(t){return new e(ye.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&ye.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return ye.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new ye(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nw(e)?4:10:Y()}function yr(e,t){var n=Lo(e);if(n!==Lo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yl(e).isEqual(yl(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var u=zr(i.timestampValue),a=zr(o.timestampValue);return u.seconds===a.seconds&&u.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return au(i.bytesValue).isEqual(au(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Ye(i.geoPointValue.latitude)===Ye(o.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ye(i.integerValue)===Ye(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var u=Ye(i.doubleValue),a=Ye(o.doubleValue);return u===a?Ah(u)===Ah(a):isNaN(u)&&isNaN(a)}return!1}(e,t);case 9:return su(e.arrayValue.values||[],t.arrayValue.values||[],yr);case 10:return function(i,o){var u=i.mapValue.fields||{},a=o.mapValue.fields||{};if(n_(u)!==n_(a))return!1;for(var c in u)if(u.hasOwnProperty(c)&&(a[c]===void 0||!yr(u[c],a[c])))return!1;return!0}(e,t);default:return Y()}}function wl(e,t){return(e.values||[]).find(function(n){return yr(n,t)})!==void 0}function lu(e,t){var n=Lo(e),i=Lo(t);if(n!==i)return de(n,i);switch(n){case 0:return 0;case 1:return de(e.booleanValue,t.booleanValue);case 2:return function(o,u){var a=Ye(o.integerValue||o.doubleValue),c=Ye(u.integerValue||u.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(e,t);case 3:return r_(e.timestampValue,t.timestampValue);case 4:return r_(yl(e),yl(t));case 5:return de(e.stringValue,t.stringValue);case 6:return function(o,u){var a=au(o),c=au(u);return a.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(o,u){for(var a=o.split("/"),c=u.split("/"),f=0;f<a.length&&f<c.length;f++){var d=de(a[f],c[f]);if(d!==0)return d}return de(a.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,u){var a=de(Ye(o.latitude),Ye(u.latitude));return a!==0?a:de(Ye(o.longitude),Ye(u.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,u){for(var a=o.values||[],c=u.values||[],f=0;f<a.length&&f<c.length;++f){var d=lu(a[f],c[f]);if(d)return d}return de(a.length,c.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,u){var a=o.fields||{},c=Object.keys(a),f=u.fields||{},d=Object.keys(f);c.sort(),d.sort();for(var v=0;v<c.length&&v<d.length;++v){var m=de(c[v],d[v]);if(m!==0)return m;var y=lu(a[c[v]],f[d[v]]);if(y!==0)return y}return de(c.length,d.length)}(e.mapValue,t.mapValue);default:throw Y()}}function r_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return de(e,t);var n=zr(e),i=zr(t),o=de(n.seconds,i.seconds);return o!==0?o:de(n.nanos,i.nanos)}function rw(e){return yy(e)}function yy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var o=zr(i);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?au(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,J.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var o="[",u=!0,a=0,c=i.values||[];a<c.length;a++)u?u=!1:o+=",",o+=yy(c[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var o="{",u=!0,a=0,c=Object.keys(i.fields||{}).sort();a<c.length;a++){var f=c[a];u?u=!1:o+=",",o+=f+":"+yy(i.fields[f])}return o+"}"}(e.mapValue):Y();var t,n}function Dh(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function wy(e){return!!e&&"integerValue"in e}function iw(e){return!!e&&"arrayValue"in e}function i_(e){return!!e&&"nullValue"in e}function o_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function zf(e){return!!e&&"mapValue"in e}function Ka(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue)return{timestampValue:Object.assign({},zr(e.timestampValue))};if(e.mapValue){var t={mapValue:{fields:{}}};return Bo(e.mapValue.fields,function(o,u){return t.mapValue.fields[o]=Ka(u)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Ka(e.arrayValue.values[i]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!zf(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ka(n)},e.prototype.setAll=function(t){var n=this,i=er.emptyPath(),o={},u=[];t.forEach(function(c,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,u),o={},u=[],i=f.popLast()}c?o[f.lastSegment()]=Ka(c):u.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,u)},e.prototype.delete=function(t){var n=this.field(t.popLast());zf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return yr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var o=n.mapValue.fields[t.get(i)];zf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){Bo(n,function(c,f){return t[c]=f});for(var o=0,u=i;o<u.length;o++){var a=u[o];delete t[a]}},e.prototype.clone=function(){return new e(Ka(this.value))},e}();function UC(e){var t=[];return Bo(e.fields,function(n,i){var o=new er([n]);if(zf(i)){var u=UC(i.mapValue).fields;if(u.length===0)t.push(o);else for(var a=0,c=u;a<c.length;a++){var f=c[a];t.push(o.child(f))}}else t.push(o)}),new uu(t)}var Rt=function(){function e(t,n,i,o,u){this.key=t,this.documentType=n,this.version=i,this.data=o,this.documentState=u}return e.newInvalidDocument=function(t){return new e(t,0,le.min(),dn.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,dn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,dn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),S6=function(e,t,n,i,o,u,a){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=u,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(e,t,n,i,o,u,a){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),new S6(e,t,n,i,o,u,a)}function ql(e){var t=H(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+rw(o.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),zo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ph(t.startAt)),t.endAt&&(n+="|ub:",n+=Ph(t.endAt)),t.h=n}return t.h}function bd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!A6(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(o=e.filters[i],u=t.filters[i],o.op!==u.op||!o.field.isEqual(u.field)||!yr(o.value,u.value))return!1;var o,u;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!a_(e.startAt,t.startAt)&&a_(e.endAt,t.endAt)}function Rh(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var mn=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).field=n,u.op=i,u.value=o,u}return ee(t,e),t.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new T6(n,i,o):i==="array-contains"?new b6(n,o):i==="in"?new N6(n,o):i==="not-in"?new C6(n,o):i==="array-contains-any"?new x6(n,o):new t(n,i,o)},t.l=function(n,i,o){return i==="in"?new _6(n,o):new k6(n,o)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(lu(i,this.value)):i!==null&&Lo(this.value)===Lo(i)&&this.m(lu(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Y()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),T6=function(e){function t(n,i,o){var u=this;return(u=e.call(this,n,i,o)||this).key=J.fromName(o.referenceValue),u}return ee(t,e),t.prototype.matches=function(n){var i=J.comparator(n.key,this.key);return this.m(i)},t}(mn),_6=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"in",i)||this).keys=VC("in",i),o}return ee(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(mn),k6=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"not-in",i)||this).keys=VC("not-in",i),o}return ee(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(mn);function VC(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return J.fromName(i.referenceValue)})}var b6=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return ee(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return iw(i)&&wl(i.arrayValue,this.value)},t}(mn),N6=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return ee(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&wl(this.value.arrayValue,i)},t}(mn),C6=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return ee(t,e),t.prototype.matches=function(n){if(wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!wl(this.value.arrayValue,i)},t}(mn),x6=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return ee(t,e),t.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!iw(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(u){return wl(i.value.arrayValue,u)})},t}(mn),El=function(e,t){this.position=e,this.before=t};function Ph(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return rw(t)}).join(",")}var Xs=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function A6(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function u_(e,t,n){for(var i=0,o=0;o<e.position.length;o++){var u=t[o],a=e.position[o];if(i=u.field.isKeyField()?J.comparator(J.fromName(a.referenceValue),n.key):lu(a,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function a_(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!yr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kr=function(e,t,n,i,o,u,a,c){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u="F"),a===void 0&&(a=null),c===void 0&&(c=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=u,this.startAt=a,this.endAt=c,this.p=null,this.T=null,this.startAt,this.endAt};function $C(e,t,n,i,o,u,a,c){return new Kr(e,t,n,i,o,u,a,c)}function Kl(e){return new Kr(e)}function qf(e){return!zo(e.limit)&&e.limitType==="F"}function Oh(e){return!zo(e.limit)&&e.limitType==="L"}function ow(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function sw(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function uw(e){return e.collectionGroup!==null}function cu(e){var t=H(e);if(t.p===null){t.p=[];var n=sw(t),i=ow(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new Xs(n)),t.p.push(new Xs(er.keyField(),"asc"));else{for(var o=!1,u=0,a=t.explicitOrderBy;u<a.length;u++){var c=a[u];t.p.push(c),c.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Xs(er.keyField(),f))}}}return t.p}function wr(e){var t=H(e);if(!t.T)if(t.limitType==="F")t.T=s_(t.path,t.collectionGroup,cu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,o=cu(t);i<o.length;i++){var u=o[i],a=u.dir==="desc"?"asc":"desc";n.push(new Xs(u.field,a))}var c=t.endAt?new El(t.endAt.position,!t.endAt.before):null,f=t.startAt?new El(t.startAt.position,!t.startAt.before):null;t.T=s_(t.path,t.collectionGroup,n,t.filters,t.limit,c,f)}return t.T}function BC(e,t,n){return new Kr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hl(e,t){return bd(wr(e),wr(t))&&e.limitType===t.limitType}function zC(e){return ql(wr(e))+"|lt:"+e.limitType}function Ey(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+rw(o.value);var o}).join(", ")+"]"),zo(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Ph(t.startAt)),t.endAt&&(n+=", endAt: "+Ph(t.endAt)),"Target("+n+")"}(wr(e))+"; limitType="+e.limitType+")"}function Wl(e,t){return t.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):J.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,i){for(var o=0,u=n.explicitOrderBy;o<u.length;o++){var a=u[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var o=0,u=n.filters;o<u.length;o++)if(!u[o].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!u_(n.startAt,cu(n),i))&&(!n.endAt||!u_(n.endAt,cu(n),i))}(e,t)}function qC(e){return function(t,n){for(var i=!1,o=0,u=cu(e);o<u.length;o++){var a=u[o],c=D6(a,t,n);if(c!==0)return c;i=i||a.field.isKeyField()}return 0}}function D6(e,t,n){var i=e.field.isKeyField()?J.comparator(t.key,n.key):function(o,u,a){var c=u.data.field(o),f=a.data.field(o);return c!==null&&f!==null?lu(c,f):Y()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Y()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(t)?"-0":t}}function HC(e){return{integerValue:""+e}}function WC(e,t){return FC(t)?HC(t):KC(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nd=function(){this._=void 0};function R6(e,t,n){return e instanceof fu?function(i,o){var u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,t):e instanceof Mo?QC(e,t):e instanceof jo?XC(e,t):function(i,o){var u=GC(i,o),a=l_(u)+l_(i.A);return wy(u)&&wy(i.A)?HC(a):KC(i.R,a)}(e,t)}function P6(e,t,n){return e instanceof Mo?QC(e,t):e instanceof jo?XC(e,t):n}function GC(e,t){return e instanceof hu?wy(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}var fu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t}(Nd),Mo=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return ee(t,e),t}(Nd);function QC(e,t){for(var n=YC(t),i=function(a){n.some(function(c){return yr(c,a)})||n.push(a)},o=0,u=e.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var jo=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return ee(t,e),t}(Nd);function XC(e,t){for(var n=YC(t),i=function(a){n=n.filter(function(c){return!yr(c,a)})},o=0,u=e.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var hu=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).R=n,o.A=i,o}return ee(t,e),t}(Nd);function l_(e){return Ye(e.integerValue||e.doubleValue)}function YC(e){return iw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gl=function(e,t){this.field=e,this.transform=t},O6=function(e,t){this.version=e,this.transformResults=t},xt=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Kf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Cd=function(){};function L6(e,t,n){e instanceof Ql?function(i,o,u){var a=i.value.clone(),c=h_(i.fieldTransforms,o,u.transformResults);a.setAll(c),o.convertToFoundDocument(u.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Mi?function(i,o,u){if(Kf(i.precondition,o)){var a=h_(i.fieldTransforms,o,u.transformResults),c=o.data;c.setAll(JC(i)),c.setAll(a),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()}else o.convertToUnknownDocument(u.version)}(e,t,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,n)}function Iy(e,t,n){e instanceof Ql?function(i,o,u){if(Kf(i.precondition,o)){var a=i.value.clone(),c=d_(i.fieldTransforms,u,o);a.setAll(c),o.convertToFoundDocument(f_(o),a).setHasLocalMutations()}}(e,t,n):e instanceof Mi?function(i,o,u){if(Kf(i.precondition,o)){var a=d_(i.fieldTransforms,u,o),c=o.data;c.setAll(JC(i)),c.setAll(a),o.convertToFoundDocument(f_(o),c).setHasLocalMutations()}}(e,t,n):function(i,o){Kf(i.precondition,o)&&o.convertToNoDocument(le.min())}(e,t)}function M6(e,t){for(var n=null,i=0,o=e.fieldTransforms;i<o.length;i++){var u=o[i],a=t.data.field(u.field),c=GC(u.transform,a||null);c!=null&&(n==null&&(n=dn.empty()),n.set(u.field,c))}return n||null}function c_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&su(n,i,function(o,u){return function(a,c){return a.field.isEqual(c.field)&&function(f,d){return f instanceof Mo&&d instanceof Mo||f instanceof jo&&d instanceof jo?su(f.elements,d.elements,yr):f instanceof hu&&d instanceof hu?yr(f.A,d.A):f instanceof fu&&d instanceof fu}(a.transform,c.transform)}(o,u)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function f_(e){return e.isFoundDocument()?e.version:le.min()}var Ql=function(e){function t(n,i,o,u){u===void 0&&(u=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=u,a.type=0,a}return ee(t,e),t}(Cd),Mi=function(e){function t(n,i,o,u,a){a===void 0&&(a=[]);var c=this;return(c=e.call(this)||this).key=n,c.data=i,c.fieldMask=o,c.precondition=u,c.fieldTransforms=a,c.type=1,c}return ee(t,e),t}(Cd);function JC(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function h_(e,t,n){var i=new Map;ne(e.length===n.length);for(var o=0;o<n.length;o++){var u=e[o],a=u.transform,c=t.data.field(u.field);i.set(u.field,P6(a,c,n[o]))}return i}function d_(e,t,n){for(var i=new Map,o=0,u=e;o<u.length;o++){var a=u[o],c=a.transform,f=n.data.field(a.field);i.set(a.field,R6(c,f,t))}return i}var Xe,pe,Xl=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return ee(t,e),t}(Cd),aw=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return ee(t,e),t}(Cd),j6=function(e){this.count=e};function ZC(e){switch(e){case D.OK:return Y();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return Y()}}function ex(e){if(e===void 0)return Ze("GRPC error has no .code"),D.UNKNOWN;switch(e){case Xe.OK:return D.OK;case Xe.CANCELLED:return D.CANCELLED;case Xe.UNKNOWN:return D.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return D.INTERNAL;case Xe.UNAVAILABLE:return D.UNAVAILABLE;case Xe.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Xe.NOT_FOUND:return D.NOT_FOUND;case Xe.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Xe.ABORTED:return D.ABORTED;case Xe.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Xe.DATA_LOSS:return D.DATA_LOSS;default:return Y()}}(pe=Xe||(Xe={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt=function(){function e(t,n){this.comparator=t,this.root=n||ci.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ci.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ci.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new bf(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new bf(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new bf(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new bf(this.root,t,this.comparator,!0)},e}(),bf=function(){function e(t,n,i,o){this.isReverse=o,this.nodeStack=[];for(var u=1;!t.isEmpty();)if(u=n?i(t.key,n):1,o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),ci=function(){function e(t,n,i,o,u){this.key=t,this.value=n,this.color=i??e.RED,this.left=o??e.EMPTY,this.right=u??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,o,u){return new e(t??this.key,n??this.value,i??this.color,o??this.left,u??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var o=this,u=i(t,o.key);return(o=u<0?o.copy(null,null,null,o.left.insert(t,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();var t=this.left.check();if(t!==this.right.check())throw Y();return t+(this.isRed()?0:1)},e}();ci.EMPTY=null,ci.RED=!0,ci.BLACK=!1,ci.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Y()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,o,u){return this},e.prototype.insert=function(t,n,i){return new ci(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at=function(){function e(t){this.comparator=t,this.data=new Pt(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new p_(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new p_(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),p_=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),F6=new Pt(J.comparator);function Yn(){return F6}var U6=new Pt(J.comparator);function Sy(){return U6}var V6=new Pt(J.comparator);function $6(){return V6}var B6=new at(J.comparator);function ke(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=B6,i=0,o=e;i<o.length;i++){var u=o[i];n=n.add(u)}return n}var z6=new at(de);function xd(){return z6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lw=function(){function e(t,n,i,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,cw.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(le.min(),i,xd(),Yn(),ke())},e}(),cw=function(){function e(t,n,i,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(on.EMPTY_BYTE_STRING,n,ke(),ke(),ke())},e}(),Hf=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},tx=function(e,t){this.targetId=e,this.V=t},nx=function(e,t,n,i){n===void 0&&(n=on.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},v_=function(){function e(){this.S=0,this.D=g_(),this.C=on.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},e.prototype.M=function(){var t=ke(),n=ke(),i=ke();return this.D.forEach(function(o,u){switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Y()}}),new cw(this.C,this.N,t,n,i)},e.prototype.L=function(){this.F=!1,this.D=g_()},e.prototype.B=function(t,n){this.F=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),q6=function(){function e(t){this.W=t,this.G=new Map,this.H=Yn(),this.J=m_(),this.Y=new at(de)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var o=i[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var u=0,a=t.removedTargetIds;u<a.length;u++)o=a[u],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var o=n.nt(i);switch(t.state){case 0:n.st(i)&&o.O(t.resumeToken);break;case 1:o.K(),o.k||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.k||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(t.resumeToken));break;default:Y()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,u){i.st(u)&&n(u)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,o=this.ot(n);if(o){var u=o.target;if(Rh(u))if(i===0){var a=new J(u.path);this.tt(n,a,Rt.newNoDocument(a,le.min()))}else ne(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(a,c){var f=n.ot(c);if(f){if(a.current&&Rh(f.target)){var d=new J(f.target.path);n.H.get(d)!==null||n.at(c,d)||n.tt(c,d,Rt.newNoDocument(d,t))}a.$&&(i.set(c,a.M()),a.L())}});var o=ke();this.J.forEach(function(a,c){var f=!0;c.forEachWhile(function(d){var v=n.ot(d);return!v||v.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var u=new lw(t,i,this.Y,this.H,o);return this.H=Yn(),this.J=m_(),this.Y=new at(de),u},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new v_,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new at(de),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||z("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.k?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new v_),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function m_(){return new Pt(J.comparator)}function g_(){return new Pt(J.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K6={asc:"ASCENDING",desc:"DESCENDING"},H6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W6=function(e,t){this.databaseId=e,this.I=t};function Il(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function rx(e,t){return e.I?t.toBase64():t.toUint8Array()}function G6(e,t){return Il(e,t.toTimestamp())}function $t(e){return ne(!!e),le.fromTimestamp(function(t){var n=zr(t);return new rn(n.seconds,n.nanos)}(e))}function fw(e,t){return function(n){return new ye(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function ix(e){var t=ye.fromString(e);return ne(fx(t)),t}function Sl(e,t){return fw(e.databaseId,t.path)}function Lr(e,t){var n=ix(t);if(n.get(1)!==e.databaseId.projectId)throw new U(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new U(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new J(sx(n))}function Ty(e,t){return fw(e.databaseId,t)}function ox(e){var t=ix(e);return t.length===4?ye.emptyPath():sx(t)}function Tl(e){return new ye(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sx(e){return ne(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function y_(e,t,n){return{name:Sl(e,t),fields:n.value.mapValue.fields}}function Q6(e,t,n){var i=Lr(e,t.name),o=$t(t.updateTime),u=new dn({mapValue:{fields:t.fields}}),a=Rt.newFoundDocument(i,o,u);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Lh(e,t){var n;if(t instanceof Ql)n={update:y_(e,t.key,t.value)};else if(t instanceof Xl)n={delete:Sl(e,t.key)};else if(t instanceof Mi)n={update:y_(e,t.key,t.data),updateMask:e5(t.fieldMask)};else{if(!(t instanceof aw))return Y();n={verify:Sl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(o,u){var a=u.transform;if(a instanceof fu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Mo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jo)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hu)return{fieldPath:u.field.canonicalString(),increment:a.A};throw Y()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:G6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y()}(e,t.precondition)),n}function w_(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?xt.updateTime($t(d.updateTime)):d.exists!==void 0?xt.exists(d.exists):xt.none()}(t.currentDocument):xt.none(),i=t.updateTransforms?t.updateTransforms.map(function(d){return function(v,m){var y=null;if("setToServerValue"in m)ne(m.setToServerValue==="REQUEST_TIME"),y=new fu;else if("appendMissingElements"in m){var E=m.appendMissingElements.values||[];y=new Mo(E)}else if("removeAllFromArray"in m){var T=m.removeAllFromArray.values||[];y=new jo(T)}else"increment"in m?y=new hu(v,m.increment):Y();var k=er.fromServerFormat(m.fieldPath);return new Gl(k,y)}(e,d)}):[];if(t.update){t.update.name;var o=Lr(e,t.update.name),u=new dn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(d){var v=d.fieldPaths||[];return new uu(v.map(function(m){return er.fromServerFormat(m)}))}(t.updateMask);return new Mi(o,u,a,n,i)}return new Ql(o,u,n,i)}if(t.delete){var c=Lr(e,t.delete);return new Xl(c,n)}if(t.verify){var f=Lr(e,t.verify);return new aw(f,n)}return Y()}function ux(e,t){return{documents:[Ty(e,t.path)]}}function ax(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Ty(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ty(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(c){if(c.length!==0){var f=c.map(function(d){return function(v){if(v.op==="=="){if(o_(v.value))return{unaryFilter:{field:_s(v.field),op:"IS_NAN"}};if(i_(v.value))return{unaryFilter:{field:_s(v.field),op:"IS_NULL"}}}else if(v.op==="!="){if(o_(v.value))return{unaryFilter:{field:_s(v.field),op:"IS_NOT_NAN"}};if(i_(v.value))return{unaryFilter:{field:_s(v.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(v.field),op:Y6(v.op),value:v.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var u=function(c){if(c.length!==0)return c.map(function(f){return function(d){return{field:_s(d.field),direction:X6(d.dir)}}(f)})}(t.orderBy);u&&(n.structuredQuery.orderBy=u);var a=function(c,f){return c.I||zo(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=E_(t.startAt)),t.endAt&&(n.structuredQuery.endAt=E_(t.endAt)),n}function lx(e){var t=ox(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){ne(i===1);var u=n.from[0];u.allDescendants?o=u.collectionId:t=t.child(u.collectionId)}var a=[];n.where&&(a=cx(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(m){return function(y){return new Xs(zs(y.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(m)}));var f=null;n.limit&&(f=function(m){var y;return zo(y=typeof m=="object"?m.value:m)?null:y}(n.limit));var d=null;n.startAt&&(d=I_(n.startAt));var v=null;return n.endAt&&(v=I_(n.endAt)),$C(t,o,c,a,f,"F",d,v)}function cx(e){return e?e.unaryFilter!==void 0?[Z6(e)]:e.fieldFilter!==void 0?[J6(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return cx(t)}).reduce(function(t,n){return t.concat(n)}):Y():[]}function E_(e){return{before:e.before,values:e.position}}function I_(e){var t=!!e.before,n=e.values||[];return new El(n,t)}function X6(e){return K6[e]}function Y6(e){return H6[e]}function _s(e){return{fieldPath:e.canonicalString()}}function zs(e){return er.fromServerFormat(e.fieldPath)}function J6(e){return mn.create(zs(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Y()}}(e.fieldFilter.op),e.fieldFilter.value)}function Z6(e){switch(e.unaryFilter.op){case"IS_NAN":var t=zs(e.unaryFilter.field);return mn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=zs(e.unaryFilter.field);return mn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=zs(e.unaryFilter.field);return mn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=zs(e.unaryFilter.field);return mn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Y()}}function e5(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function fx(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=S_(t)),t=t5(e.get(n),t);return S_(t)}function t5(e,t){for(var n=t,i=e.length,o=0;o<i;o++){var u=e.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function S_(e){return e+""}function Pr(e){var t=e.length;if(ne(t>=2),t===2)return ne(e.charAt(0)===""&&e.charAt(1)===""),ye.emptyPath();for(var n=t-2,i=[],o="",u=0;u<t;){var a=e.indexOf("",u);switch((a<0||a>n)&&Y(),e.charAt(a+1)){case"":var c=e.substring(u,a),f=void 0;o.length===0?f=c:(f=o+=c,o=""),i.push(f);break;case"":o+=e.substring(u,a),o+="\0";break;case"":o+=e.substring(u,a+1);break;default:Y()}u=a+2}return new ye(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n5=function(e,t){this.seconds=e,this.nanoseconds=t},fn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};fn.store="owner",fn.key="owner";var ki=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};ki.store="mutationQueues",ki.keyPath="userId";var Ce=function(e,t,n,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};Ce.store="mutations",Ce.keyPath="batchId",Ce.userMutationsIndex="userMutationsIndex",Ce.userMutationsKeyPath=["userId","batchId"];var Nt=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Jn(n)]},e.key=function(t,n,i){return[t,Jn(n),i]},e}();Nt.store="documentMutations",Nt.PLACEHOLDER=new Nt;var r5=function(e,t){this.path=e,this.readTime=t},i5=function(e,t){this.path=e,this.version=t},Be=function(e,t,n,i,o,u){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=u};Be.store="remoteDocuments",Be.readTimeIndex="readTimeIndex",Be.readTimeIndexPath="readTime",Be.collectionReadTimeIndex="collectionReadTimeIndex",Be.collectionReadTimeIndexPath=["parentPath","readTime"];var pr=function(e){this.byteSize=e};pr.store="remoteDocumentGlobal",pr.key="remoteDocumentGlobalKey";var Zt=function(e,t,n,i,o,u,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=a};Zt.store="targets",Zt.keyPath="targetId",Zt.queryTargetsIndexName="queryTargetsIndex",Zt.queryTargetsKeyPath=["canonicalId","targetId"];var gt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};gt.store="targetDocuments",gt.keyPath=["targetId","path"],gt.documentTargetsIndex="documentTargetsIndex",gt.documentTargetsKeyPath=["path","targetId"];var hn=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};hn.key="targetGlobalKey",hn.store="targetGlobal";var _o=function(e,t){this.collectionId=e,this.parent=t};_o.store="collectionParents",_o.keyPath=["collectionId","parent"];var Mr=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};Mr.store="clientMetadata",Mr.keyPath="clientId";var du=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};du.store="bundles",du.keyPath="bundleId";var pu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};pu.store="namedQueries",pu.keyPath="name";var o5=ze(ze([],ze(ze([],ze(ze([],ze(ze([],[ki.store,Ce.store,Nt.store,Be.store,Zt.store,fn.store,hn.store,gt.store]),[Mr.store])),[pr.store])),[_o.store])),[du.store,pu.store]),hx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",dx=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),In=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},V=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,u){i.nextCallback=function(a){i.wrapSuccess(t,a).next(o,u)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,u)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var o=0,u=0,a=!1;t.forEach(function(c){++o,c.next(function(){++u,a&&u===o&&n()},function(f){return i(f)})}),a=!0,u===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(a){n=n.next(function(c){return c?e.resolve(c):a()})},o=0,u=t;o<u.length;o++)i(u[o]);return n},e.forEach=function(t,n){var i=this,o=[];return t.forEach(function(u,a){o.push(n.call(i,u,a))}),this.waitFor(o)},e}(),px=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new In,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new Ha(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var u=hw(o.target.error);i.ft.reject(new Ha(t,u))}}return e.open=function(t,n,i,o){try{return new e(n,t.transaction(o,i))}catch(u){throw new Ha(n,u)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(z("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new u5(n)},e}(),vu=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(Ro())===12.2&&Ze("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return z("SimpleDb","Removing database:",t),po(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Ro(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),u=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||u)},e.gt=function(){var t;return typeof process<"u"&&((t=y6)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return F(this,void 0,void 0,function(){var n,i=this;return M(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(z("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(u,a){var c=indexedDB.open(i.name,i.version);c.onsuccess=function(f){var d=f.target.result;u(d)},c.onblocked=function(){a(new Ha(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new U(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Ha(t,d))},c.onupgradeneeded=function(f){z("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,c.transaction,f.oldVersion,i.version).next(function(){z("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return i.bt(u)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,o){return F(this,void 0,void 0,function(){var u,a,c,f,d;return M(this,function(v){switch(v.label){case 0:u=n==="readonly",a=0,c=function(){var m,y,E,T,k;return M(this,function(x){switch(x.label){case 0:++a,x.label=1;case 1:return x.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=x.sent(),m=px.open(f.db,t,u?"readonly":"readwrite",i),y=o(m).catch(function(S){return m.abort(S),V.reject(S)}).toPromise(),E={},y.catch(function(){}),[4,m.dt];case 3:return[2,(E.value=(x.sent(),y),E)];case 4:return T=x.sent(),k=T.name!=="FirebaseError"&&a<3,z("SimpleDb","Transaction failed with error:",T.message,"Retrying:",k),f.close(),k?[3,5]:[2,{value:Promise.reject(T)}];case 5:return[2]}})},f=this,v.label=1;case 1:return[5,c()];case 2:if(typeof(d=v.sent())=="object")return[2,d.value];v.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),s5=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return po(this.Pt.delete())},e}(),Ha=function(e){function t(n,i){var o=this;return(o=e.call(this,D.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return ee(t,e),t}(U);function qo(e){return e.name==="IndexedDbTransactionError"}var u5=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(z("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(z("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),po(i)},e.prototype.add=function(t){return z("SimpleDb","ADD",this.store.name,t,t),po(this.store.add(t))},e.prototype.get=function(t){var n=this;return po(this.store.get(t)).next(function(i){return i===void 0&&(i=null),z("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return z("SimpleDb","DELETE",this.store.name,t),po(this.store.delete(t))},e.prototype.count=function(){return z("SimpleDb","COUNT",this.store.name),po(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),o=[];return this.xt(i,function(u,a){o.push(a)}).next(function(){return o})},e.prototype.Ft=function(t,n){z("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.kt=!1;var o=this.cursor(i);return this.xt(o,function(u,a,c){return c.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var o=this.cursor(i);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new V(function(i,o){n.onerror=function(u){var a=hw(u.target.error);o(a)},n.onsuccess=function(u){var a=u.target.result;a?t(a.primaryKey,a.value).next(function(c){c?a.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new V(function(o,u){t.onerror=function(a){u(a.target.error)},t.onsuccess=function(a){var c=a.target.result;if(c){var f=new s5(c),d=n(c.primaryKey,c.value,f);if(d instanceof V){var v=d.catch(function(m){return f.done(),V.reject(m)});i.push(v)}f.isDone?o():f.Dt===null?c.continue():c.continue(f.Dt)}else o()}}).next(function(){return V.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.kt?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function po(e){return new V(function(t,n){e.onsuccess=function(i){var o=i.target.result;t(o)},e.onerror=function(i){var o=hw(i.target.error);n(o)}})}var T_=!1;function hw(e){var t=vu._t(Ro());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new U("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return T_||(T_=!0,setTimeout(function(){throw i},0)),i}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var __=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return ee(t,e),t}(dx);function sn(e,t){var n=H(e);return vu.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dw=function(){function e(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var u=this.mutations[o];u.key.isEqual(t.key)&&L6(u,t,i[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(t.key)&&Iy(a,t,this.localWriteTime);for(var o=0,u=this.mutations;o<u.length;o++){var a;(a=u[o]).key.isEqual(t.key)&&Iy(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var o=t.get(i.key),u=o;n.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(le.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},ke())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&su(this.mutations,t.mutations,function(n,i){return c_(n,i)})&&su(this.baseMutations,t.baseMutations,function(n,i){return c_(n,i)})},e}(),a5=function(){function e(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return e.from=function(t,n,i){ne(t.mutations.length===i.length);for(var o=$6(),u=t.mutations,a=0;a<u.length;a++)o=o.insert(u[a].key,i[a].version);return new e(t,n,i,o)},e}(),Ad=function(){function e(t,n,i,o,u,a,c){u===void 0&&(u=le.min()),a===void 0&&(a=le.min()),c===void 0&&(c=on.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),vx=function(e){this.Lt=e};function _y(e,t){if(t.document)return Q6(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=J.fromSegments(t.noDocument.path),i=gu(t.noDocument.readTime),o=Rt.newNoDocument(n,i);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var u=J.fromSegments(t.unknownDocument.path);return i=gu(t.unknownDocument.version),Rt.newUnknownDocument(u,i)}return Y()}function k_(e,t,n){var i=pw(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var u=function(m,y){return{name:Sl(m,y.key),fields:y.data.value.mapValue.fields,updateTime:Il(m,y.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Be(null,null,u,a,i,o)}if(t.isNoDocument()){var c=t.key.path.toArray(),f=mu(t.version);return a=t.hasCommittedMutations,new Be(null,new r5(c,f),null,a,i,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),v=mu(t.version);return new Be(new i5(d,v),null,null,!0,i,o)}return Y()}function pw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function mx(e){var t=new rn(e[0],e[1]);return le.fromTimestamp(t)}function mu(e){var t=e.toTimestamp();return new n5(t.seconds,t.nanoseconds)}function gu(e){var t=new rn(e.seconds,e.nanoseconds);return le.fromTimestamp(t)}function Cs(e,t){for(var n=(t.baseMutations||[]).map(function(f){return w_(e.Lt,f)}),i=0;i<t.mutations.length-1;++i){var o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var u=t.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var a=t.mutations.map(function(f){return w_(e.Lt,f)}),c=rn.fromMillis(t.localWriteTimeMs);return new dw(t.batchId,c,n,a)}function Ra(e){var t,n,i=gu(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?gu(e.lastLimboFreeSnapshotVersion):le.min();return e.query.documents!==void 0?(ne((n=e.query).documents.length===1),t=wr(Kl(ox(n.documents[0])))):t=function(u){return wr(lx(u))}(e.query),new Ad(t,e.targetId,0,e.lastListenSequenceNumber,i,o,on.fromBase64String(e.resumeToken))}function gx(e,t){var n,i=mu(t.snapshotVersion),o=mu(t.lastLimboFreeSnapshotVersion);n=Rh(t.target)?ux(e.Lt,t.target):ax(e.Lt,t.target);var u=t.resumeToken.toBase64();return new Zt(t.targetId,ql(t.target),i,u,t.sequenceNumber,o,n)}function yx(e){var t=lx({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?BC(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l5=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return b_(t).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:gu(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return b_(t).put({bundleId:(i=n).id,createTime:mu($t(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return N_(t).get(n).next(function(i){if(i)return{name:(o=i).name,query:yx(o.bundledQuery),readTime:gu(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return N_(t).put(function(i){return{name:i.name,readTime:mu($t(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();function b_(e){return sn(e,du.store)}function N_(e){return sn(e,pu.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c5=function(){function e(){this.Bt=new vw}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),V.resolve()},e.prototype.getCollectionParents=function(t,n){return V.resolve(this.Bt.getEntries(n))},e}(),vw=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new at(ye.comparator),u=!o.has(i);return this.index[n]=o.add(i),u},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new at(ye.comparator)).toArray()},e}(),f5=function(){function e(){this.qt=new vw}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),u=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:Jn(u)};return C_(t).put(a)}return V.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],o=IDBKeyRange.bound([n,""],[OC(n),""],!1,!0);return C_(t).Nt(o).next(function(u){for(var a=0,c=u;a<c.length;a++){var f=c[a];if(f.collectionId!==n)break;i.push(Pr(f.parent))}return i})},e}();function C_(e){return sn(e,_o.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hr=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(e,t,n){var i=e.store(Ce.store),o=e.store(Nt.store),u=[],a=IDBKeyRange.only(n.batchId),c=0,f=i.$t({range:a},function(T,k,x){return c++,x.delete()});u.push(f.next(function(){ne(c===1)}));for(var d=[],v=0,m=n.mutations;v<m.length;v++){var y=m[v],E=Nt.key(t,y.key.path,n.batchId);u.push(o.delete(E)),d.push(y.key)}return V.waitFor(u).next(function(){return d})}function Mh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Y();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr.DEFAULT_COLLECTION_PERCENTILE=10,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hr.DEFAULT=new hr(41943040,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hr.DISABLED=new hr(-1,0,0);var h5=function(){function e(t,n,i,o){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,i,o){return ne(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,o)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ri(t).$t({index:Ce.userMutationsIndex,range:i},function(o,u,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,o){var u=this,a=xs(t),c=ri(t);return c.add({}).next(function(f){ne(typeof f=="number");for(var d=new dw(f,n,i,o),v=function(S,I,_){var A=_.baseMutations.map(function(R){return Lh(S.Lt,R)}),L=_.mutations.map(function(R){return Lh(S.Lt,R)});return new Ce(I,_.batchId,_.localWriteTime.toMillis(),A,L)}(u.R,u.userId,d),m=[],y=new at(function(S,I){return de(S.canonicalString(),I.canonicalString())}),E=0,T=o;E<T.length;E++){var k=T[E],x=Nt.key(u.userId,k.key.path,f);y=y.add(k.key.path.popLast()),m.push(c.put(v)),m.push(a.put(x,Nt.PLACEHOLDER))}return y.forEach(function(S){m.push(u.Ut.addToCollectionParentIndex(t,S))}),t.addOnCommittedListener(function(){u.Kt[f]=d.keys()}),V.waitFor(m).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return ri(t).get(n).next(function(o){return o?(ne(o.userId===i.userId),Cs(i.R,o)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?V.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var u=o.keys();return i.Kt[n]=u,u}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]),a=null;return ri(t).$t({index:Ce.userMutationsIndex,range:u},function(c,f,d){f.userId===i.userId&&(ne(f.batchId>=o),a=Cs(i.R,f)),d.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return ri(t).$t({index:Ce.userMutationsIndex,range:n,reverse:!0},function(o,u,a){i=u.batchId,a.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ri(t).Nt(Ce.userMutationsIndex,i).next(function(o){return o.map(function(u){return Cs(n.R,u)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=Nt.prefixForPath(this.userId,n.path),u=IDBKeyRange.lowerBound(o),a=[];return xs(t).$t({range:u},function(c,f,d){var v=c[0],m=c[1],y=c[2],E=Pr(m);if(v===i.userId&&n.path.isEqual(E))return ri(t).get(y).next(function(T){if(!T)throw Y();ne(T.userId===i.userId),a.push(Cs(i.R,T))});d.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new at(de),u=[];return n.forEach(function(a){var c=Nt.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(c),d=xs(t).$t({range:f},function(v,m,y){var E=v[0],T=v[1],k=v[2],x=Pr(T);E===i.userId&&a.path.isEqual(x)?o=o.add(k):y.done()});u.push(d)}),V.waitFor(u).next(function(){return i.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,o=n.path,u=o.length+1,a=Nt.prefixForPath(this.userId,o),c=IDBKeyRange.lowerBound(a),f=new at(de);return xs(t).$t({range:c},function(d,v,m){var y=d[0],E=d[1],T=d[2],k=Pr(E);y===i.userId&&o.isPrefixOf(k)?k.length===u&&(f=f.add(T)):m.done()}).next(function(){return i.Wt(t,f)})},e.prototype.Wt=function(t,n){var i=this,o=[],u=[];return n.forEach(function(a){u.push(ri(t).get(a).next(function(c){if(c===null)throw Y();ne(c.userId===i.userId),o.push(Cs(i.R,c))}))}),V.waitFor(u).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var i=this;return wx(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),V.forEach(o,function(u){return i.referenceDelegate.markPotentiallyOrphaned(t,u)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return V.resolve();var o=IDBKeyRange.lowerBound(Nt.prefixForUser(n.userId)),u=[];return xs(t).$t({range:o},function(a,c,f){if(a[0]===n.userId){var d=Pr(a[1]);u.push(d)}else f.done()}).next(function(){ne(u.length===0)})})},e.prototype.containsKey=function(t,n){return Ex(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return Ix(t).get(this.userId).next(function(i){return i||new ki(n.userId,-1,"")})},e}();function Ex(e,t,n){var i=Nt.prefixForPath(t,n.path),o=i[1],u=IDBKeyRange.lowerBound(i),a=!1;return xs(e).$t({range:u,kt:!0},function(c,f,d){var v=c[0],m=c[1];c[2],v===t&&m===o&&(a=!0),d.done()}).next(function(){return a})}function ri(e){return sn(e,Ce.store)}function xs(e){return sn(e,Nt.store)}function Ix(e){return sn(e,ki.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jh=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),d5=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var o=new jh(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return le.fromTimestamp(new rn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var o=this;return this.Xt(t).next(function(u){return u.highestListenSequenceNumber=n,i&&(u.lastRemoteSnapshotVersion=i.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),o.Zt(t,u)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return ks(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(o){return ne(o.targetCount>0),o.targetCount-=1,i.Zt(t,o)})},e.prototype.removeTargets=function(t,n,i){var o=this,u=0,a=[];return ks(t).$t(function(c,f){var d=Ra(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(u++,a.push(o.removeTargetData(t,d)))}).next(function(){return V.waitFor(a)}).next(function(){return u})},e.prototype.forEachTarget=function(t,n){return ks(t).$t(function(i,o){var u=Ra(o);n(u)})},e.prototype.Xt=function(t){return A_(t).get(hn.key).next(function(n){return ne(n!==null),n})},e.prototype.Zt=function(t,n){return A_(t).put(hn.key,n)},e.prototype.te=function(t,n){return ks(t).put(gx(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=ql(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),u=null;return ks(t).$t({range:o,index:Zt.queryTargetsIndexName},function(a,c,f){var d=Ra(c);bd(n,d.target)&&(u=d,f.done())}).next(function(){return u})},e.prototype.addMatchingKeys=function(t,n,i){var o=this,u=[],a=fi(t);return n.forEach(function(c){var f=Jn(c.path);u.push(a.put(new gt(i,f))),u.push(o.referenceDelegate.addReference(t,i,c))}),V.waitFor(u)},e.prototype.removeMatchingKeys=function(t,n,i){var o=this,u=fi(t);return V.forEach(n,function(a){var c=Jn(a.path);return V.waitFor([u.delete([i,c]),o.referenceDelegate.removeReference(t,i,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=fi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=fi(t),u=ke();return o.$t({range:i,kt:!0},function(a,c,f){var d=Pr(a[1]),v=new J(d);u=u.add(v)}).next(function(){return u})},e.prototype.containsKey=function(t,n){var i=Jn(n.path),o=IDBKeyRange.bound([i],[OC(i)],!1,!0),u=0;return fi(t).$t({index:gt.documentTargetsIndex,kt:!0,range:o},function(a,c,f){var d=a[0];a[1],d!==0&&(u++,f.done())}).next(function(){return u>0})},e.prototype.lt=function(t,n){return ks(t).get(n).next(function(i){return i?Ra(i):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(e){return sn(e,Zt.store)}function A_(e){return sn(e,hn.store)}function fi(e){return sn(e,gt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(e){return F(this,void 0,void 0,function(){return M(this,function(t){if(e.code!==D.FAILED_PRECONDITION||e.message!==hx)throw e;return z("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(e,t){var n=e[0],i=e[1],o=t[0],u=t[1],a=de(n,o);return a===0?de(i,u):a}var p5=function(){function e(t){this.ne=t,this.buffer=new at(D_),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();D_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),v5=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;z("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return F(n,void 0,void 0,function(){var o;return M(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return qo(o=u.sent())?(z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Ko(o)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return u.sent(),[2]}})})})},e}(),m5=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return V.resolve(vn.o);var o=new p5(n);return this.ae.forEachTarget(t,function(u){return o.re(u.sequenceNumber)}).next(function(){return i.ae.le(t,function(u){return o.re(u)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(x_)):this.getCacheSize(t).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),x_):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,o,u,a,c,f,d,v=this,m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(y){return y>v.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+v.params.maximumSequenceNumbersToCollect+" from "+y),o=v.params.maximumSequenceNumbersToCollect):o=y,a=Date.now(),v.nthSequenceNumber(t,o)}).next(function(y){return i=y,c=Date.now(),v.removeTargets(t,i,n)}).next(function(y){return u=y,f=Date.now(),v.removeOrphanedDocuments(t,i)}).next(function(y){return d=Date.now(),gy()<=ge.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-m)+`ms
	Determined least recently used `+o+" in "+(c-a)+`ms
	Removed `+u+" targets in "+(f-c)+`ms
	Removed `+y+" documents in "+(d-f)+`ms
Total Duration: `+(d-m)+"ms"),V.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:y})})},e}(),g5=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,o){return new m5(i,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(o){return i+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,o){return n(o)})},e.prototype.addReference=function(t,n,i){return Nf(t,i)},e.prototype.removeReference=function(t,n,i){return Nf(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return Nf(t,n)},e.prototype._e=function(t,n){return function(i,o){var u=!1;return Ix(i).Ot(function(a){return Ex(i,a,o).next(function(c){return c&&(u=!0),V.resolve(!c)})}).next(function(){return u})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],a=0;return this.we(t,function(c,f){if(f<=n){var d=i._e(t,c).next(function(v){if(!v)return a++,o.getEntry(t,c).next(function(){return o.removeEntry(c),fi(t).delete([0,Jn(c.path)])})});u.push(d)}}).next(function(){return V.waitFor(u)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return Nf(t,n)},e.prototype.we=function(t,n){var i,o=fi(t),u=vn.o;return o.$t({index:gt.documentTargetsIndex},function(a,c){var f=a[0];a[1];var d=c.path,v=c.sequenceNumber;f===0?(u!==vn.o&&n(new J(Pr(i)),u),u=v,i=d):u=vn.o}).next(function(){u!==vn.o&&n(new J(Pr(i)),u)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Nf(e,t){return fi(e).put(function(n,i){return new gt(0,Jn(n.path),i)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cu=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var o=0,u=i;o<u.length;o++){var a=u[o],c=a[0],f=a[1];if(this.equalsFn(c,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Bo(this.inner,function(n,i){for(var o=0,u=i;o<u.length;o++){var a=u[o],c=a[0],f=a[1];t(c,f)}})},e.prototype.isEmpty=function(){return LC(this.inner)},e}(),Sx=function(){function e(){this.changes=new Cu(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:le.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Rt.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?V.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),y5=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return ui(t).put(Cf(n),i)},e.prototype.removeEntry=function(t,n){var i=ui(t),o=Cf(n);return i.delete(o)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,i.me(t,o)})},e.prototype.getEntry=function(t,n){var i=this;return ui(t).get(Cf(n)).next(function(o){return i.ye(n,o)})},e.prototype.ge=function(t,n){var i=this;return ui(t).get(Cf(n)).next(function(o){return{document:i.ye(n,o),size:Mh(o)}})},e.prototype.getEntries=function(t,n){var i=this,o=Yn();return this.pe(t,n,function(u,a){var c=i.ye(u,a);o=o.insert(u,c)}).next(function(){return o})},e.prototype.Ee=function(t,n){var i=this,o=Yn(),u=new Pt(J.comparator);return this.pe(t,n,function(a,c){var f=i.ye(a,c);o=o.insert(a,f),u=u.insert(a,Mh(c))}).next(function(){return{documents:o,Te:u}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return V.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator(),a=u.getNext();return ui(t).$t({range:o},function(c,f,d){for(var v=J.fromSegments(c);a&&J.comparator(a,v)<0;)i(a,null),a=u.getNext();a&&a.isEqual(v)&&(i(a,f),a=u.hasNext()?u.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=u.hasNext()?u.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var o=this,u=Yn(),a=n.path.length+1,c={};if(i.isEqual(le.min())){var f=n.path.toArray();c.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),v=pw(i);c.range=IDBKeyRange.lowerBound([d,v],!0),c.index=Be.collectionReadTimeIndex}return ui(t).$t(c,function(m,y,E){if(m.length===a){var T=_y(o.R,y);n.path.isPrefixOf(T.key.path)?Wl(n,T)&&(u=u.insert(T.key,T)):E.done()}}).next(function(){return u})},e.prototype.newChangeBuffer=function(t){return new w5(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return R_(t).get(pr.key).next(function(n){return ne(!!n),n})},e.prototype.me=function(t,n){return R_(t).put(pr.key,n)},e.prototype.ye=function(t,n){if(n){var i=_y(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(le.min()))return i}return Rt.newInvalidDocument(t)},e}(),w5=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new Cu(function(u){return u.toString()},function(u,a){return u.isEqual(a)}),o}return ee(t,e),t.prototype.applyChanges=function(n){var i=this,o=[],u=0,a=new at(function(c,f){return de(c.canonicalString(),f.canonicalString())});return this.changes.forEach(function(c,f){var d=i.Ae.get(c);if(f.document.isValidDocument()){var v=k_(i.Ie.R,f.document,i.getReadTime(c));a=a.add(c.path.popLast());var m=Mh(v);u+=m-d,o.push(i.Ie.addEntry(n,c,v))}else if(u-=d,i.trackRemovals){var y=k_(i.Ie.R,Rt.newNoDocument(c,le.min()),i.getReadTime(c));o.push(i.Ie.addEntry(n,c,y))}else o.push(i.Ie.removeEntry(n,c))}),a.forEach(function(c){o.push(i.Ie.Ut.addToCollectionParentIndex(n,c))}),o.push(this.Ie.updateMetadata(n,u)),V.waitFor(o)},t.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(u){return o.Ae.set(i,u.size),u.document})},t.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(u){var a=u.documents;return u.Te.forEach(function(c,f){o.Ae.set(c,f)}),a})},t}(Sx);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(e){return sn(e,pr.store)}function ui(e){return sn(e,Be.store)}function Cf(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E5=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,o){var u=this;ne(i<o&&i>=0&&o<=11);var a=new px("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(fn.store)}(t),function(f){f.createObjectStore(ki.store,{keyPath:ki.keyPath}),f.createObjectStore(Ce.store,{keyPath:Ce.keyPath,autoIncrement:!0}).createIndex(Ce.userMutationsIndex,Ce.userMutationsKeyPath,{unique:!0}),f.createObjectStore(Nt.store)}(t),P_(t),function(f){f.createObjectStore(Be.store)}(t));var c=V.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(gt.store),f.deleteObjectStore(Zt.store),f.deleteObjectStore(hn.store)}(t),P_(t)),c=c.next(function(){return function(f){var d=f.store(hn.store),v=new hn(0,0,le.min().toTimestamp(),0);return d.put(hn.key,v)}(a)})),i<4&&o>=4&&(i!==0&&(c=c.next(function(){return function(f,d){return d.store(Ce.store).Nt().next(function(v){f.deleteObjectStore(Ce.store),f.createObjectStore(Ce.store,{keyPath:Ce.keyPath,autoIncrement:!0}).createIndex(Ce.userMutationsIndex,Ce.userMutationsKeyPath,{unique:!0});var m=d.store(Ce.store),y=v.map(function(E){return m.put(E)});return V.waitFor(y)})}(t,a)})),c=c.next(function(){(function(f){f.createObjectStore(Mr.store,{keyPath:Mr.keyPath})})(t)})),i<5&&o>=5&&(c=c.next(function(){return u.Re(a)})),i<6&&o>=6&&(c=c.next(function(){return function(f){f.createObjectStore(pr.store)}(t),u.be(a)})),i<7&&o>=7&&(c=c.next(function(){return u.ve(a)})),i<8&&o>=8&&(c=c.next(function(){return u.Pe(t,a)})),i<9&&o>=9&&(c=c.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(Be.store);d.createIndex(Be.readTimeIndex,Be.readTimeIndexPath,{unique:!1}),d.createIndex(Be.collectionReadTimeIndex,Be.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(c=c.next(function(){return u.Ve(a)})),i<11&&o>=11&&(c=c.next(function(){(function(f){f.createObjectStore(du.store,{keyPath:du.keyPath})})(t),function(f){f.createObjectStore(pu.store,{keyPath:pu.keyPath})}(t)})),c},e.prototype.be=function(t){var n=0;return t.store(Be.store).$t(function(i,o){n+=Mh(o)}).next(function(){var i=new pr(n);return t.store(pr.store).put(pr.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(ki.store),o=t.store(Ce.store);return i.Nt().next(function(u){return V.forEach(u,function(a){var c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(Ce.userMutationsIndex,c).next(function(f){return V.forEach(f,function(d){ne(d.userId===a.userId);var v=Cs(n.R,d);return wx(t,a.userId,v).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(gt.store),i=t.store(Be.store);return t.store(hn.store).get(hn.key).next(function(o){var u=[];return i.$t(function(a,c){var f=new ye(a),d=function(v){return[0,Jn(v)]}(f);u.push(n.get(d).next(function(v){return v?V.resolve():function(m){return n.put(new gt(0,Jn(m),o.highestListenSequenceNumber))}(f)}))}).next(function(){return V.waitFor(u)})})},e.prototype.Pe=function(t,n){t.createObjectStore(_o.store,{keyPath:_o.keyPath});var i=n.store(_o.store),o=new vw,u=function(a){if(o.add(a)){var c=a.lastSegment(),f=a.popLast();return i.put({collectionId:c,parent:Jn(f)})}};return n.store(Be.store).$t({kt:!0},function(a,c){var f=new ye(a);return u(f.popLast())}).next(function(){return n.store(Nt.store).$t({kt:!0},function(a,c){a[0];var f=a[1];a[2];var d=Pr(f);return u(d.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(Zt.store);return i.$t(function(o,u){var a=Ra(u),c=gx(n.R,a);return i.put(c)})},e}();function P_(e){e.createObjectStore(gt.store,{keyPath:gt.keyPath}).createIndex(gt.documentTargetsIndex,gt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Zt.store,{keyPath:Zt.keyPath}).createIndex(Zt.queryTargetsIndexName,Zt.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(hn.store)}var rg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",I5=function(){function e(t,n,i,o,u,a,c,f,d,v){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=u,this.window=a,this.document=c,this.De=d,this.Ce=v,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(m){return Promise.resolve()},!e.yt())throw new U(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new g5(this,o),this.Le=n+"main",this.R=new vx(f),this.Be=new vu(this.Le,11,new E5(this.R)),this.qe=new d5(this.referenceDelegate,this.R),this.Ut=new f5,this.Ue=function(m,y){return new y5(m,y)}(this.R,this.Ut),this.Ke=new l5,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,v===!1&&Ze("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new U(D.FAILED_PRECONDITION,rg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new vn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return F(n,void 0,void 0,function(){return M(this,function(o){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return F(n,void 0,void 0,function(){return M(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return F(n,void 0,void 0,function(){return M(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return xf(n).put(new Mr(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(qo(n))return z("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return z("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return ba(t).get(fn.key).next(function(i){return V.resolve(n.tn(i))})},e.prototype.en=function(t){return xf(t).delete(this.clientId)},e.prototype.nn=function(){return F(this,void 0,void 0,function(){var t,n,i,o,u=this;return M(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var f=sn(c,Mr.store);return f.Nt().next(function(d){var v=u.rn(d,18e5),m=d.filter(function(y){return v.indexOf(y)===-1});return V.forEach(m,function(y){return f.delete(y.clientId)}).next(function(){return m})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?V.resolve(!0):ba(t).get(fn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new U(D.FAILED_PRECONDITION,rg);return!1}}return!(!n.networkEnabled||!n.inForeground)||xf(t).Nt().next(function(o){return n.rn(o,5e3).find(function(u){if(n.clientId!==u.clientId){var a=!n.networkEnabled&&u.networkEnabled,c=!n.inForeground&&u.inForeground,f=n.networkEnabled===u.networkEnabled;if(a||c&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&z("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return F(this,void 0,void 0,function(){var t=this;return M(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[fn.store,Mr.store],function(i){var o=new __(i,vn.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return xf(n).Nt().next(function(i){return t.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return h5.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;z("IndexedDbPersistence","Starting transaction:",t);var u,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,o5,function(c){return u=new __(c,o.Ne?o.Ne.next():vn.o),n==="readwrite-primary"?o.Je(u).next(function(f){return!!f||o.Ye(u)}).next(function(f){if(!f)throw Ze("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new U(D.FAILED_PRECONDITION,hx);return i(u)}).next(function(f){return o.Ze(u).next(function(){return f})}):o.dn(u).next(function(){return i(u)})}).then(function(c){return u.raiseOnCommittedEvent(),c})},e.prototype.dn=function(t){var n=this;return ba(t).get(fn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new U(D.FAILED_PRECONDITION,rg)})},e.prototype.Ze=function(t){var n=new fn(this.clientId,this.allowTabSynchronization,Date.now());return ba(t).put(fn.key,n)},e.yt=function(){return vu.yt()},e.prototype.Xe=function(t){var n=this,i=ba(t);return i.get(fn.key).next(function(o){return n.tn(o)?(z("IndexedDbPersistence","Releasing primary lease."),i.delete(fn.key)):V.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(Ze("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Fe=function(){n.un(),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return z("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Ze("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Ze("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function ba(e){return sn(e,fn.store)}function xf(e){return sn(e,Mr.store)}function mw(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Tx=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return i.yn(t,n,o)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(o){for(var u=0,a=i;u<a.length;u++)a[u].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(i,o){for(var u=0,a=n;u<a.length;u++)a[u].applyToLocalView(o)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(o){return i.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return i.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):uw(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new J(n)).next(function(i){var o=Sy();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},e.prototype.In=function(t,n,i){var o=this,u=n.collectionGroup,a=Sy();return this.Ut.getCollectionParents(t,u).next(function(c){return V.forEach(c,function(f){var d=function(v,m){return new Kr(m,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(u));return o.An(t,d,i).next(function(v){v.forEach(function(m,y){a=a.insert(m,y)})})}).next(function(){return a})})},e.prototype.An=function(t,n,i){var o,u,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(c){return o=c,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(c){return u=c,a.Rn(t,u,o).next(function(f){o=f;for(var d=0,v=u;d<v.length;d++)for(var m=v[d],y=0,E=m.mutations;y<E.length;y++){var T=E[y],k=T.key,x=o.get(k);x==null&&(x=Rt.newInvalidDocument(k),o=o.insert(k,x)),Iy(T,x,m.localWriteTime),x.isFoundDocument()||(o=o.remove(k))}})}).next(function(){return o.forEach(function(c,f){Wl(n,f)||(o=o.remove(c))}),o})},e.prototype.Rn=function(t,n,i){for(var o=ke(),u=0,a=n;u<a.length;u++)for(var c=0,f=a[u].mutations;c<f.length;c++){var d=f[c];d instanceof Mi&&i.get(d.key)===null&&(o=o.add(d.key))}var v=i;return this.Ue.getEntries(t,o).next(function(m){return m.forEach(function(y,E){E.isFoundDocument()&&(v=v.insert(y,E))}),v})},e}(),S5=function(){function e(t,n,i,o){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=o}return e.Pn=function(t,n){for(var i=ke(),o=ke(),u=0,a=n.docChanges;u<a.length;u++){var c=a[u];switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}}return new e(t,n.fromCache,i,o)},e}(),_x=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,o){var u=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(le.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var c=u.Cn(n,a);return(qf(n)||Oh(n))&&u.Nn(n.limitType,c,o,i)?u.Dn(t,n):(gy()<=ge.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ey(n)),u.Sn.getDocumentsMatchingQuery(t,n,i).next(function(f){return c.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var i=new at(qC(t));return n.forEach(function(o,u){Wl(t,u)&&(i=i.add(u))}),i},e.prototype.Nn=function(t,n,i,o){if(i.size!==n.size)return!0;var u=t==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return gy()<=ge.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Ey(n)),this.Sn.getDocumentsMatchingQuery(t,n,le.min())},e}(),T5=function(){function e(t,n,i,o){this.persistence=t,this.xn=n,this.R=o,this.Fn=new Pt(de),this.kn=new Cu(function(u){return ql(u)},bd),this.$n=le.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Tx(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.Fn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(e,t,n,i){return new T5(e,t,n,i)}function bx(e,t){return F(this,void 0,void 0,function(){var n,i,o,u;return M(this,function(a){switch(a.label){case 0:return n=H(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var f;return n._n.getAllMutationBatches(c).next(function(d){return f=d,i=n.persistence.getMutationQueue(t),o=new Tx(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(c)}).next(function(d){for(var v=[],m=[],y=ke(),E=0,T=f;E<T.length;E++){var k=T[E];v.push(k.batchId);for(var x=0,S=k.mutations;x<S.length;x++){var I=S[x];y=y.add(I.key)}}for(var _=0,A=d;_<A.length;_++){var L=A[_];m.push(L.batchId);for(var R=0,q=L.mutations;R<q.length;R++){var P=q[R];y=y.add(P.key)}}return o.pn(c,y).next(function(te){return{Ln:te,removedBatchIds:v,addedBatchIds:m}})})})];case 1:return u=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),u)]}})})}function _5(e,t){var n=H(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=t.batch.keys(),u=n.On.newChangeBuffer({trackRemovals:!0});return function(a,c,f,d){var v=f.batch,m=v.keys(),y=V.resolve();return m.forEach(function(E){y=y.next(function(){return d.getEntry(c,E)}).next(function(T){var k=f.docVersions.get(E);ne(k!==null),T.version.compareTo(k)<0&&(v.applyToRemoteDocument(T,f),T.isValidDocument()&&d.addEntry(T,f.commitVersion))})}),y.next(function(){return a._n.removeMutationBatch(c,v)})}(n,i,t,u).next(function(){return u.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function Nx(e){var t=H(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function k5(e,t){var n=H(e),i=t.snapshotVersion,o=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.Fn;var c=[];t.targetChanges.forEach(function(v,m){var y=o.get(m);if(y){c.push(n.qe.removeMatchingKeys(u,v.removedDocuments,m).next(function(){return n.qe.addMatchingKeys(u,v.addedDocuments,m)}));var E=v.resumeToken;if(E.approximateByteSize()>0){var T=y.withResumeToken(E,i).withSequenceNumber(u.currentSequenceNumber);o=o.insert(m,T),function(k,x,S){return ne(x.resumeToken.approximateByteSize()>0),k.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8||S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(y,T,v)&&c.push(n.qe.updateTargetData(u,T))}}});var f=Yn();if(t.documentUpdates.forEach(function(v,m){t.resolvedLimboDocuments.has(v)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),c.push(b5(u,a,t.documentUpdates,i).next(function(v){f=v})),!i.isEqual(le.min())){var d=n.qe.getLastRemoteSnapshotVersion(u).next(function(v){return n.qe.setTargetsMetadata(u,u.currentSequenceNumber,i)});c.push(d)}return V.waitFor(c).next(function(){return a.apply(u)}).next(function(){return n.Mn.En(u,f)}).next(function(){return f})}).then(function(u){return n.Fn=o,u})}function b5(e,t,n,i,o){var u=ke();return n.forEach(function(a){return u=u.add(a)}),t.getEntries(e,u).next(function(a){var c=Yn();return n.forEach(function(f,d){var v=a.get(f),m=i;d.isNoDocument()&&d.version.isEqual(le.min())?(t.removeEntry(f,m),c=c.insert(f,d)):!v.isValidDocument()||d.version.compareTo(v.version)>0||d.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(d,m),c=c.insert(f,d)):z("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",d.version)}),c})}function N5(e,t){var n=H(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function Fh(e,t){var n=H(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,t).next(function(u){return u?(o=u,V.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new Ad(t,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.Fn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(i.targetId,i),n.kn.set(t,i.targetId)),i})}function yu(e,t,n){return F(this,void 0,void 0,function(){var i,o,u,a;return M(this,function(c){switch(c.label){case 0:i=H(e),o=i.Fn.get(t),u=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",u,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!qo(a=c.sent()))throw a;return z("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return i.Fn=i.Fn.remove(t),i.kn.delete(o.target),[2]}})})}function Uh(e,t,n){var i=H(e),o=le.min(),u=ke();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(c,f,d){var v=H(c),m=v.kn.get(d);return m!==void 0?V.resolve(v.Fn.get(m)):v.qe.getTargetData(f,d)}(i,a,wr(t)).next(function(c){if(c)return o=c.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,c.targetId).next(function(f){u=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,t,n?o:le.min(),n?u:ke())}).next(function(c){return{documents:c,Bn:u}})})}function Cx(e,t){var n=H(e),i=H(n.qe),o=n.Fn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(u){return i.lt(u,t).next(function(a){return a?a.target:null})})}function xx(e){var t=H(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,u){var a=H(i),c=Yn(),f=pw(u),d=ui(o),v=IDBKeyRange.lowerBound(f,!0);return d.$t({index:Be.readTimeIndex,range:v},function(m,y){var E=_y(a.R,y);c=c.insert(E.key,E),f=y.readTime}).next(function(){return{wn:c,readTime:mx(f)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,o=n.readTime;return t.$n=o,i})}function C5(e){return F(this,void 0,void 0,function(){var t;return M(this,function(n){return[2,(t=H(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var u=ui(o),a=le.min();return u.$t({index:Be.readTimeIndex,reverse:!0},function(c,f,d){f.readTime&&(a=mx(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){t.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x5=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return V.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:$t(i.createTime)}),V.resolve()},e.prototype.getNamedQuery=function(t,n){return V.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:yx(i.bundledQuery),readTime:$t(i.readTime)}}(n)),V.resolve()},e}(),gw=function(){function e(){this.Wn=new at(ct.Gn),this.zn=new at(ct.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new ct(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(o){return i.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new ct(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(o){return i.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,i=new J(new ye([])),o=new ct(i,t),u=new ct(i,t+1),a=[];return this.zn.forEachInRange([o,u],function(c){n.Yn(c),a.push(c.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new J(new ye([])),i=new ct(n,t),o=new ct(n,t+1),u=ke();return this.zn.forEachInRange([i,o],function(a){u=u.add(a.key)}),u},e.prototype.containsKey=function(t){var n=new ct(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),ct=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return J.comparator(t.key,n.key)||de(t.ns,n.ns)},e.Hn=function(t,n){return de(t.ns,n.ns)||J.comparator(t.key,n.key)},e}(),A5=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new at(ct.Gn)}return e.prototype.checkEmpty=function(t){return V.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,o){var u=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new dw(u,n,i,o);this._n.push(a);for(var c=0,f=o;c<f.length;c++){var d=f[c];this.rs=this.rs.add(new ct(d.key,u)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return V.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return V.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,o=this.cs(i),u=o<0?0:o;return V.resolve(this._n.length>u?this._n[u]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return V.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return V.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=new ct(n,0),u=new ct(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,u],function(c){var f=i.os(c.ns);a.push(f)}),V.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new at(de);return n.forEach(function(u){var a=new ct(u,0),c=new ct(u,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,c],function(f){o=o.add(f.ns)})}),V.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,o=i.length+1,u=i;J.isDocumentKey(u)||(u=u.child(""));var a=new ct(new J(u),0),c=new at(de);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(c=c.add(f.ns)),!0)},a),V.resolve(this.us(c))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(o){var u=n.os(o);u!==null&&i.push(u)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;ne(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return V.forEach(n.mutations,function(u){var a=new ct(u.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(function(){i.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new ct(n,0),o=this.rs.firstAfterOrEqual(i);return V.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,V.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),D5=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Pt(J.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var o=n.key,u=this.docs.get(o),a=u?u.size:0,c=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:c,readTime:i}),this.size+=c-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return V.resolve(i?i.document.clone():Rt.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,o=Yn();return n.forEach(function(u){var a=i.docs.get(u);o=o.insert(u,a?a.document.clone():Rt.newInvalidDocument(u))}),V.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var o=Yn(),u=new J(n.path.child("")),a=this.docs.getIteratorFrom(u);a.hasNext();){var c=a.getNext(),f=c.key,d=c.value,v=d.document,m=d.readTime;if(!n.path.isPrefixOf(f.path))break;m.compareTo(i)<=0||Wl(n,v)&&(o=o.insert(v.key,v.clone()))}return V.resolve(o)},e.prototype.fs=function(t,n){return V.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new R5(this)},e.prototype.getSize=function(t){return V.resolve(this.size)},e}(),R5=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return ee(t,e),t.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(u,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(u))):i.Ie.removeEntry(u)}),V.waitFor(o)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(Sx),P5=function(){function e(t){this.persistence=t,this.ds=new Cu(function(n){return ql(n)},bd),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.ws=0,this._s=new gw,this.targetCount=0,this.ys=jh.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,o){return n(o)}),V.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return V.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return V.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),V.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),V.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new jh(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,V.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),V.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,V.resolve()},e.prototype.removeTargets=function(t,n,i){var o=this,u=0,a=[];return this.ds.forEach(function(c,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(c),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),u++)}),V.waitFor(a).next(function(){return u})},e.prototype.getTargetCount=function(t){return V.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return V.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),V.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(function(a){u.push(o.markPotentiallyOrphaned(t,a))}),V.waitFor(u)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),V.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return V.resolve(i)},e.prototype.containsKey=function(t,n){return V.resolve(this._s.containsKey(n))},e}(),O5=function(){function e(t,n){var i=this;this.gs={},this.Ne=new vn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new P5(this),this.Ut=new c5,this.Ue=function(o,u){return new D5(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new vx(n),this.Ke=new x5(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new A5(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;z("MemoryPersistence","Starting transaction:",t);var u=new L5(this.Ne.next());return this.referenceDelegate.Es(),i(u).next(function(a){return o.referenceDelegate.Ts(u).next(function(){return a})}).toPromise().then(function(a){return u.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return V.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),L5=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return ee(t,e),t}(dx),M5=function(){function e(t){this.persistence=t,this.As=new gw,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Y()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),V.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),V.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),V.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(u){return i.vs.add(u.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(u){u.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.vs,function(o){var u=J.fromPath(o);return n.Ps(t,u).next(function(a){a||i.removeEntry(u)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return V.or([function(){return V.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),Yt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(e,t){return"firestore_clients_"+e+"_"+t}function L_(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function ig(e,t){return"firestore_targets_"+e+"_"+t}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid");var M_=function(){function e(t,n,i,o){this.user=t,this.batchId=n,this.state=i,this.error=o}return e.Vs=function(t,n,i){var o,u=JSON.parse(i),a=typeof u=="object"&&["pending","acknowledged","rejected"].indexOf(u.state)!==-1&&(u.error===void 0||typeof u.error=="object");return a&&u.error&&(a=typeof u.error.message=="string"&&typeof u.error.code=="string")&&(o=new U(u.error.code,u.error.message)),a?new e(t,n,u.state,o):(Ze("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),og=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,o=JSON.parse(n),u=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new U(o.error.code,o.error.message)),u?new e(t,o.state,i):(Ze("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),j_=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,u=xd(),a=0;o&&a<i.activeTargetIds.length;++a)o=FC(i.activeTargetIds[a]),u=u.add(i.activeTargetIds[a]);return o?new e(t,u):(Ze("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),j5=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Ze("SharedClientState","Failed to parse online state: "+t),null)},e}(),ky=function(){function e(){this.activeTargetIds=xd()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),sg=function(){function e(t,n,i,o,u){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Pt(de),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=O_(this.persistenceKey,this.Ns),this.Ms=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new ky),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.Ks=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return F(this,void 0,void 0,function(){var t,n,i,o,u,a,c,f,d,v,m,y=this;return M(this,function(E){switch(E.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=E.sent(),n=0,i=t;n<i.length;n++)(o=i[n])!==this.Ns&&(u=this.getItem(O_(this.persistenceKey,o)))&&(a=j_.Vs(o,u))&&(this.ks=this.ks.insert(a.clientId,a));for(this.Qs(),(c=this.storage.getItem(this.Us))&&(f=this.js(c))&&this.Ws(f),d=0,v=this.$s;d<v.length;d++)m=v[d],this.Fs(m);return this.$s=[],this.window.addEventListener("pagehide",function(){return y.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.ks.forEach(function(i,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(ig(this.persistenceKey,t));if(i){var o=og.Vs(t,i);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(ig(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var o=this;n.forEach(function(u){o.Hs(u)}),this.currentUser=t,i.forEach(function(u){o.addPendingMutation(u)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return z("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){z("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){z("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.Fs=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(z("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Ze("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return F(n,void 0,void 0,function(){var o,u,a,c,f,d;return M(this,function(v){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(u=this.ni(i.key,i.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(c=this.ri(i.key,i.newValue)))return[2,this.oi(c)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(m){var y=vn.o;if(m!=null)try{var E=JSON.parse(m);ne(typeof E=="number"),y=E}catch(T){Ze("SharedClientState","Failed to read sequence number from WebStorage",T)}return y}(i.newValue))!==vn.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var o=new M_(this.currentUser,t,n,i),u=L_(this.persistenceKey,this.currentUser,t);this.setItem(u,o.Ss())},e.prototype.Hs=function(t){var n=L_(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var o=ig(this.persistenceKey,t),u=new og(t,n,i);this.setItem(o,u.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return j_.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),o=Number(i[1]),u=i[2]!==void 0?i[2]:null;return M_.Vs(new Yt(u),o,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),o=Number(i[1]);return og.Vs(o,n)},e.prototype.js=function(t){return j5.Vs(t)},e.prototype.ii=function(t){return F(this,void 0,void 0,function(){return M(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(z("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,o=n?this.ks.insert(t,n):this.ks.remove(t),u=this.Gs(this.ks),a=this.Gs(o),c=[],f=[];return a.forEach(function(d){u.has(d)||c.push(d)}),u.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(c,f).then(function(){i.ks=o})},e.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=xd();return t.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),Ax=function(){function e(){this.li=new ky,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new ky,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),F5=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),F_=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),U5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},V5=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),$5=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return ee(t,e),t.prototype.ki=function(n,i,o,u){return new Promise(function(a,c){var f=new g6;f.listenOnce(p6.COMPLETE,function(){try{switch(f.getLastErrorCode()){case ng.NO_ERROR:var v=f.getResponseJson();z("Connection","XHR received:",JSON.stringify(v)),a(v);break;case ng.TIMEOUT:z("Connection",'RPC "'+n+'" timed out'),c(new U(D.DEADLINE_EXCEEDED,"Request time out"));break;case ng.HTTP_ERROR:var m=f.getStatus();if(z("Connection",'RPC "'+n+'" failed with status:',m,"response text:",f.getResponseText()),m>0){var y=f.getResponseJson().error;if(y&&y.status&&y.message){var E=function(T){var k=T.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(k)>=0?k:D.UNKNOWN}(y.status);c(new U(E,y.message))}else c(new U(D.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new U(D.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{z("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(u);f.send(i,"POST",d,o,15)})},t.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=h6(),a=d6(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new m6({})),this.Fi(c.initMessageHeaders,i),yM()||SM()||TM()||_M()||kM()||IM()||(c.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");z("Connection","Creating WebChannel: "+f,c);var d=u.createWebChannel(f,c),v=!1,m=!1,y=new V5({Ei:function(T){m?z("Connection","Not sending because WebChannel is closed:",T):(v||(z("Connection","Opening WebChannel transport."),d.open(),v=!0),z("Connection","WebChannel sending:",T),d.send(T))},Ti:function(){return d.close()}}),E=function(T,k,x){T.listen(k,function(S){try{x(S)}catch(I){setTimeout(function(){throw I},0)}})};return E(d,kf.EventType.OPEN,function(){m||z("Connection","WebChannel transport opened.")}),E(d,kf.EventType.CLOSE,function(){m||(m=!0,z("Connection","WebChannel transport closed"),y.Vi())}),E(d,kf.EventType.ERROR,function(T){m||(m=!0,xh("Connection","WebChannel transport errored:",T),y.Vi(new U(D.UNAVAILABLE,"The operation could not be completed")))}),E(d,kf.EventType.MESSAGE,function(T){var k;if(!m){var x=T.data[0];ne(!!x);var S=x,I=S.error||((k=S[0])===null||k===void 0?void 0:k.error);if(I){z("Connection","WebChannel received error:",I);var _=I.status,A=function(R){var q=Xe[R];if(q!==void 0)return ex(q)}(_),L=I.message;A===void 0&&(A=D.INTERNAL,L="Unknown error status: "+_+" with message "+I.message),m=!0,y.Vi(new U(A,L)),d.close()}else z("Connection","WebChannel received:",x),y.Si(x)}}),E(a,v6.STAT_EVENT,function(T){T.stat===t_.PROXY?z("Connection","Detected buffering proxy"):T.stat===t_.NOPROXY&&z("Connection","Detected no buffering proxy")}),setTimeout(function(){y.Pi()},0),y},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,o){var u=this.xi(t,n);z("RestConnection","Sending: ",u,i);var a={};return this.Fi(a,o),this.ki(t,u,a,i).then(function(c){return z("RestConnection","Received: ",c),c},function(c){throw xh("RestConnection",t+" failed with error: ",c,"url: ",u,"request:",i),c})},e.prototype.$i=function(t,n,i,o){return this.Ni(t,n,i,o)},e.prototype.Fi=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.7.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=U5[t];return this.Di+"/v1/"+n+":"+i},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(){return typeof window<"u"?window:null}function Wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(e){return new W6(e,!0)}var yw=function(){function e(t,n,i,o,u){i===void 0&&(i=1e3),o===void 0&&(o=1.5),u===void 0&&(u=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),u=Math.max(0,i-o);u>0&&z("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Rx=function(){function e(t,n,i,o,u,a){this.Se=t,this.zi=i,this.Hi=o,this.Ji=u,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new yw(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return F(this,void 0,void 0,function(){return M(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return F(this,void 0,void 0,function(){return M(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return F(this,void 0,void 0,function(){return M(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Ze(n.toString()),Ze("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===D.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){t.Yi===i&&t.lr(o)},function(o){n(function(){var u=new U(D.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(u)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return F(t,void 0,void 0,function(){return M(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return z("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),B5=function(e){function t(n,i,o,u,a){var c=this;return(c=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=u,c}return ee(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(u,a){var c;if("targetChange"in a){a.targetChange;var f=function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:Y()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],v=function(x,S){return x.I?(ne(S===void 0||typeof S=="string"),on.fromBase64String(S||"")):(ne(S===void 0||S instanceof Uint8Array),on.fromUint8Array(S||new Uint8Array))}(u,a.targetChange.resumeToken),m=(y=a.targetChange.cause)&&function(x){var S=x.code===void 0?D.UNKNOWN:ex(x.code);return new U(S,x.message||"")}(y);c=new nx(f,d,v,m||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=Lr(u,f.document.name),v=$t(f.document.updateTime);var y=new dn({mapValue:{fields:f.document.fields}}),E=(m=Rt.newFoundDocument(d,v,y),f.targetIds||[]),T=f.removedTargetIds||[];c=new Hf(E,T,m.key,m)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=Lr(u,f.document),v=f.readTime?$t(f.readTime):le.min(),y=Rt.newNoDocument(d,v),m=f.removedTargetIds||[],c=new Hf([],m,y.key,y);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=Lr(u,f.document),v=f.removedTargetIds||[],c=new Hf([],v,d,null);else{if(!("filter"in a))return Y();a.filter;var k=a.filter;k.targetId,f=k.count||0,d=new j6(f),v=k.targetId,c=new tx(v,d)}return c}(this.R,n),o=function(u){if(!("targetChange"in u))return le.min();var a=u.targetChange;return a.targetIds&&a.targetIds.length?le.min():a.readTime?$t(a.readTime):le.min()}(n);return this.listener._r(i,o)},t.prototype.mr=function(n){var i={};i.database=Tl(this.R),i.addTarget=function(u,a){var c,f=a.target;return(c=Rh(f)?{documents:ux(u,f)}:{query:ax(u,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=rx(u,a.resumeToken):a.snapshotVersion.compareTo(le.min())>0&&(c.readTime=Il(u,a.snapshotVersion.toTimestamp())),c}(this.R,n);var o=function(u,a){var c=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Y()}}(0,a.purpose);return c==null?null:{"goog-listen-tags":c}}(this.R,n);o&&(i.labels=o),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=Tl(this.R),i.removeTarget=n,this.cr(i)},t}(Rx),z5=function(e){function t(n,i,o,u,a){var c=this;return(c=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=u,c.gr=!1,c}return ee(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(ne(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(u,a){return u&&u.length>0?(ne(a!==void 0),u.map(function(c){return function(f,d){var v=f.updateTime?$t(f.updateTime):$t(d);return v.isEqual(le.min())&&(v=$t(d)),new O6(v,f.transformResults||[])}(c,a)})):[]}(n.writeResults,n.commitTime),o=$t(n.commitTime);return this.listener.Tr(o,i)}return ne(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Tl(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(u){return Lh(i.R,u)})};this.cr(o)},t}(Rx),q5=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).credentials=n,u.Hi=i,u.R=o,u.Rr=!1,u}return ee(t,e),t.prototype.br=function(){if(this.Rr)throw new U(D.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new U(D.UNKNOWN,a.toString())})},t.prototype.$i=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new U(D.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),K5=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.Fr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Ze(n),this.Vr=!1):z("OnlineStateTracker",n)},e.prototype.Fr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),H5=function(e,t,n,i,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return F(u,void 0,void 0,function(){return M(this,function(c){switch(c.label){case 0:return ji(this)?(z("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return F(this,void 0,void 0,function(){var d;return M(this,function(v){switch(v.label){case 0:return(d=H(f)).Or.add(4),[4,xu(d)];case 1:return v.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,Yl(d)];case 2:return v.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Br=new K5(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(e){return F(this,void 0,void 0,function(){var t,n;return M(this,function(i){switch(i.label){case 0:if(!ji(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function xu(e){return F(this,void 0,void 0,function(){var t,n;return M(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Rd(e,t){var n=H(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Iw(n)?Ew(n):Du(n).er()&&ww(n,t))}function _l(e,t){var n=H(e),i=Du(n);n.$r.delete(t),i.er()&&Px(n,t),n.$r.size===0&&(i.er()?i.ir():ji(n)&&n.Br.set("Unknown"))}function ww(e,t){e.qr.U(t.targetId),Du(e).mr(t)}function Px(e,t){e.qr.U(t),Du(e).yr(t)}function Ew(e){e.qr=new q6({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Du(e).start(),e.Br.Sr()}function Iw(e){return ji(e)&&!Du(e).tr()&&e.$r.size>0}function ji(e){return H(e).Or.size===0}function Ox(e){e.qr=void 0}function W5(e){return F(this,void 0,void 0,function(){return M(this,function(t){return e.$r.forEach(function(n,i){ww(e,n)}),[2]})})}function G5(e,t){return F(this,void 0,void 0,function(){return M(this,function(n){return Ox(e),Iw(e)?(e.Br.Nr(t),Ew(e)):e.Br.set("Unknown"),[2]})})}function Q5(e,t,n){return F(this,void 0,void 0,function(){var i,o,u;return M(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof nx&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(c,f){return F(this,void 0,void 0,function(){var d,v,m,y;return M(this,function(E){switch(E.label){case 0:d=f.cause,v=0,m=f.targetIds,E.label=1;case 1:return v<m.length?(y=m[v],c.$r.has(y)?[4,c.remoteSyncer.rejectListen(y,d)]:[3,3]):[3,5];case 2:E.sent(),c.$r.delete(y),c.qr.removeTarget(y),E.label=3;case 3:E.label=4;case 4:return v++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),z("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,Vh(e,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Hf?e.qr.X(t):t instanceof tx?e.qr.rt(t):e.qr.et(t),n.isEqual(le.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Nx(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(c,f){var d=c.qr.ut(f);return d.targetChanges.forEach(function(v,m){if(v.resumeToken.approximateByteSize()>0){var y=c.$r.get(m);y&&c.$r.set(m,y.withResumeToken(v.resumeToken,f))}}),d.targetMismatches.forEach(function(v){var m=c.$r.get(v);if(m){c.$r.set(v,m.withResumeToken(on.EMPTY_BYTE_STRING,m.snapshotVersion)),Px(c,v);var y=new Ad(m.target,v,1,m.sequenceNumber);ww(c,y)}}),c.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return z("RemoteStore","Failed to raise snapshot:",u=a.sent()),[4,Vh(e,u)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Vh(e,t,n){return F(this,void 0,void 0,function(){var i=this;return M(this,function(o){switch(o.label){case 0:if(!qo(t))throw t;return e.Or.add(1),[4,xu(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return Nx(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return F(i,void 0,void 0,function(){return M(this,function(u){switch(u.label){case 0:return z("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return u.sent(),e.Or.delete(1),[4,Yl(e)];case 2:return u.sent(),[2]}})})}),[2]}})})}function Lx(e,t){return t().catch(function(n){return Vh(e,n,t)})}function Au(e){return F(this,void 0,void 0,function(){var t,n,i,o,u;return M(this,function(a){switch(a.label){case 0:t=H(e),n=Ai(t),i=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(c){return ji(c)&&c.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,N5(t.localStore,i)];case 3:return(o=a.sent())===null?(t.kr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(c,f){c.kr.push(f);var d=Ai(c);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return u=a.sent(),[4,Vh(t,u)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Mx(t)&&jx(t),[2]}})})}function Mx(e){return ji(e)&&!Ai(e).tr()&&e.kr.length>0}function jx(e){Ai(e).start()}function X5(e){return F(this,void 0,void 0,function(){return M(this,function(t){return Ai(e).Ar(),[2]})})}function Y5(e){return F(this,void 0,void 0,function(){var t,n,i,o;return M(this,function(u){for(t=Ai(e),n=0,i=e.kr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function J5(e,t,n){return F(this,void 0,void 0,function(){var i,o;return M(this,function(u){switch(u.label){case 0:return i=e.kr.shift(),o=a5.from(i,t,n),[4,Lx(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return u.sent(),[4,Au(e)];case 2:return u.sent(),[2]}})})}function Z5(e,t){return F(this,void 0,void 0,function(){return M(this,function(n){switch(n.label){case 0:return t&&Ai(e).pr?[4,function(i,o){return F(this,void 0,void 0,function(){var u,a;return M(this,function(c){switch(c.label){case 0:return ZC(a=o.code)&&a!==D.ABORTED?(u=i.kr.shift(),Ai(i).sr(),[4,Lx(i,function(){return i.remoteSyncer.rejectFailedWrite(u.batchId,o)})]):[3,3];case 1:return c.sent(),[4,Au(i)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Mx(e)&&jx(e),[2]}})})}function by(e,t){return F(this,void 0,void 0,function(){var n;return M(this,function(i){switch(i.label){case 0:return n=H(e),t?(n.Or.delete(2),[4,Yl(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,xu(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Du(e){var t=this;return e.Ur||(e.Ur=function(n,i,o){var u=H(n);return u.br(),new B5(i,u.Hi,u.credentials,u.R,o)}(e.datastore,e.asyncQueue,{Ii:W5.bind(null,e),Ri:G5.bind(null,e),_r:Q5.bind(null,e)}),e.Mr.push(function(n){return F(t,void 0,void 0,function(){return M(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),Iw(e)?Ew(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),Ox(e),i.label=3;case 3:return[2]}})})})),e.Ur}function Ai(e){var t=this;return e.Kr||(e.Kr=function(n,i,o){var u=H(n);return u.br(),new z5(i,u.Hi,u.credentials,u.R,o)}(e.datastore,e.asyncQueue,{Ii:X5.bind(null,e),Ri:Z5.bind(null,e),Ir:Y5.bind(null,e),Tr:J5.bind(null,e)}),e.Mr.push(function(n){return F(t,void 0,void 0,function(){return M(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,Au(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.kr.length>0&&(z("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}var eF=function(){function e(t,n,i,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new In,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,i,o,u){var a=new e(t,n,Date.now()+i,o,u);return a.start(i),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(D.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Ru(e,t){if(Ze("AsyncQueue",t+": "+e),qo(e))return new U(D.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fx=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||J.comparator(n.key,i.key)}:function(n,i){return J.comparator(n.key,i.key)},this.keyedMap=Sy(),this.sortedSet=new Pt(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),U_=function(){function e(){this.Qr=new Pt(J.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):Y():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),$h=function(){function e(t,n,i,o,u,a,c,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,i,o){var u=[];return n.forEach(function(a){u.push({type:0,doc:a})}),new e(t,n,Fx.emptySet(n),u,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},e}(),tF=function(){this.Wr=void 0,this.listeners=[]},nF=function(){this.queries=new Cu(function(e){return zC(e)},Hl),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(e,t){return F(this,void 0,void 0,function(){var n,i,o,u,a,c,f;return M(this,function(d){switch(d.label){case 0:if(n=H(e),i=t.query,o=!1,(u=n.queries.get(i))||(o=!0,u=new tF),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=u,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return c=d.sent(),f=Ru(c,"Initialization of query '"+Ey(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(i,u),u.listeners.push(t),t.zr(n.onlineState),u.Wr&&t.Hr(u.Wr)&&_w(n),[2]}})})}function Tw(e,t){return F(this,void 0,void 0,function(){var n,i,o,u,a;return M(this,function(c){return n=H(e),i=t.query,o=!1,(u=n.queries.get(i))&&(a=u.listeners.indexOf(t))>=0&&(u.listeners.splice(a,1),o=u.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function rF(e,t){for(var n=H(e),i=!1,o=0,u=t;o<u.length;o++){var a=u[o],c=a.query,f=n.queries.get(c);if(f){for(var d=0,v=f.listeners;d<v.length;d++)v[d].Hr(a)&&(i=!0);f.Wr=a}}i&&_w(n)}function iF(e,t,n){var i=H(e),o=i.queries.get(t);if(o)for(var u=0,a=o.listeners;u<a.length;u++)a[u].onError(n);i.queries.delete(t)}function _w(e){e.Gr.forEach(function(t){t.next()})}var kw=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=t.docChanges;i<o.length;i++){var u=o[i];u.type!==3&&n.push(u)}t=new $h(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=$h.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ux=function(e){this.key=e},Vx=function(e){this.key=e},$x=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=ke(),this.mutatedKeys=ke(),this.lo=qC(t),this.fo=new Fx(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,o=n?n.mo:new U_,u=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,c=u,f=!1,d=qf(this.query)&&u.size===this.query.limit?u.last():null,v=Oh(this.query)&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal(function(y,E){var T=u.get(y),k=Wl(i.query,E)?E:null,x=!!T&&i.mutatedKeys.has(T.key),S=!!k&&(k.hasLocalMutations||i.mutatedKeys.has(k.key)&&k.hasCommittedMutations),I=!1;T&&k?T.data.isEqual(k.data)?x!==S&&(o.track({type:3,doc:k}),I=!0):i.yo(T,k)||(o.track({type:2,doc:k}),I=!0,(d&&i.lo(k,d)>0||v&&i.lo(k,v)<0)&&(f=!0)):!T&&k?(o.track({type:0,doc:k}),I=!0):T&&!k&&(o.track({type:1,doc:T}),I=!0,(d||v)&&(f=!0)),I&&(k?(c=c.add(k),a=S?a.add(y):a.delete(y)):(c=c.delete(y),a=a.delete(y)))}),qf(this.query)||Oh(this.query))for(;c.size>this.query.limit;){var m=qf(this.query)?c.last():c.first();c=c.delete(m.key),a=a.delete(m.key),o.track({type:1,doc:m})}return{fo:c,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var o=this,u=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(v,m){return function(y,E){var T=function(k){switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return T(y)-T(E)}(v.type,m.type)||o.lo(v.doc,m.doc)}),this.po(i);var c=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new $h(this.query,t.fo,u,a,t.mutatedKeys,f===0,d,!1),To:c}:{To:c}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new U_,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=ke(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var i=[];return n.forEach(function(o){t.ho.has(o)||i.push(new Vx(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new Ux(o))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ke();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return $h.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),oF=function(e,t,n){this.query=e,this.targetId=t,this.view=n},sF=function(e){this.key=e,this.bo=!1},uF=function(){function e(t,n,i,o,u,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Cu(function(c){return zC(c)},Hl),this.Vo=new Map,this.So=new Set,this.Do=new Pt(J.comparator),this.Co=new Map,this.No=new gw,this.xo={},this.Fo=new Map,this.ko=jh.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function aF(e,t){return F(this,void 0,void 0,function(){var n,i,o,u,a,c;return M(this,function(f){switch(f.label){case 0:return n=Aw(e),(u=n.Po.get(t))?(i=u.targetId,n.sharedClientState.addLocalQueryTarget(i),o=u.view.Ro(),[3,4]):[3,1];case 1:return[4,Fh(n.localStore,wr(t))];case 2:return a=f.sent(),c=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,bw(n,t,i,c==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Rd(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function bw(e,t,n,i){return F(this,void 0,void 0,function(){var o,u,a,c,f,d;return M(this,function(v){switch(v.label){case 0:return e.Oo=function(m,y,E){return function(T,k,x,S){return F(this,void 0,void 0,function(){var I,_,A;return M(this,function(L){switch(L.label){case 0:return I=k.view._o(x),I.Nn?[4,Uh(T.localStore,k.query,!1).then(function(R){var q=R.documents;return k.view._o(q,I)})]:[3,2];case 1:I=L.sent(),L.label=2;case 2:return _=S&&S.targetChanges.get(k.targetId),A=k.view.applyChanges(I,T.isPrimaryClient,_),[2,(Ny(T,k.targetId,A.To),A.snapshot)]}})})}(e,m,y,E)},[4,Uh(e.localStore,t,!0)];case 1:return o=v.sent(),u=new $x(t,o.Bn),a=u._o(o.documents),c=cw.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),f=u.applyChanges(a,e.isPrimaryClient,c),Ny(e,n,f.To),d=new oF(t,n,u),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function lF(e,t){return F(this,void 0,void 0,function(){var n,i,o;return M(this,function(u){switch(u.label){case 0:return n=H(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!Hl(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,yu(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),_l(n.remoteStore,i.targetId),wu(n,i.targetId)}).catch(Ko)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return wu(n,i.targetId),[4,yu(n.localStore,i.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function cF(e,t,n){return F(this,void 0,void 0,function(){var i,o,u,a;return M(this,function(c){switch(c.label){case 0:i=Dw(e),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(f,d){var v,m=H(f),y=rn.now(),E=d.reduce(function(T,k){return T.add(k.key)},ke());return m.persistence.runTransaction("Locally write mutations","readwrite",function(T){return m.Mn.pn(T,E).next(function(k){v=k;for(var x=[],S=0,I=d;S<I.length;S++){var _=I[S],A=M6(_,v.get(_.key));A!=null&&x.push(new Mi(_.key,A,UC(A.value.mapValue),xt.exists(!0)))}return m._n.addMutationBatch(T,y,x,d)})}).then(function(T){return T.applyToLocalDocumentSet(v),{batchId:T.batchId,changes:v}})}(i.localStore,t)];case 2:return o=c.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,v){var m=f.xo[f.currentUser.toKey()];m||(m=new Pt(de)),m=m.insert(d,v),f.xo[f.currentUser.toKey()]=m}(i,o.batchId,n),[4,Fi(i,o.changes)];case 3:return c.sent(),[4,Au(i.remoteStore)];case 4:return c.sent(),[3,6];case 5:return u=c.sent(),a=Ru(u,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function Bx(e,t){return F(this,void 0,void 0,function(){var n,i;return M(this,function(o){switch(o.label){case 0:n=H(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,k5(n.localStore,t)];case 2:return i=o.sent(),t.targetChanges.forEach(function(u,a){var c=n.Co.get(a);c&&(ne(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?c.bo=!0:u.modifiedDocuments.size>0?ne(c.bo):u.removedDocuments.size>0&&(ne(c.bo),c.bo=!1))}),[4,Fi(n,i,t)];case 3:return o.sent(),[3,6];case 4:return[4,Ko(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function V_(e,t,n){var i=H(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(u,a){var c=a.view.zr(t);c.snapshot&&o.push(c.snapshot)}),function(u,a){var c=H(u);c.onlineState=a;var f=!1;c.queries.forEach(function(d,v){for(var m=0,y=v.listeners;m<y.length;m++)y[m].zr(a)&&(f=!0)}),f&&_w(c)}(i.eventManager,t),o.length&&i.vo._r(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function fF(e,t,n){return F(this,void 0,void 0,function(){var i,o,u,a,c,f;return M(this,function(d){switch(d.label){case 0:return(i=H(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(u=o&&o.key)?(a=(a=new Pt(J.comparator)).insert(u,Rt.newNoDocument(u,le.min())),c=ke().add(u),f=new lw(le.min(),new Map,new at(de),a,c),[4,Bx(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(u),i.Co.delete(t),xw(i),[3,4];case 2:return[4,yu(i.localStore,t,!1).then(function(){return wu(i,t,n)}).catch(Ko)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function hF(e,t){return F(this,void 0,void 0,function(){var n,i,o;return M(this,function(u){switch(u.label){case 0:n=H(e),i=t.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,_5(n.localStore,t)];case 2:return o=u.sent(),Cw(n,i,null),Nw(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Fi(n,o)];case 3:return u.sent(),[3,6];case 4:return[4,Ko(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function dF(e,t,n){return F(this,void 0,void 0,function(){var i,o;return M(this,function(u){switch(u.label){case 0:i=H(e),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,function(a,c){var f=H(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var v;return f._n.lookupMutationBatch(d,c).next(function(m){return ne(m!==null),v=m.keys(),f._n.removeMutationBatch(d,m)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,v)})})}(i.localStore,t)];case 2:return o=u.sent(),Cw(i,t,n),Nw(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,Fi(i,o)];case 3:return u.sent(),[3,6];case 4:return[4,Ko(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function pF(e,t){return F(this,void 0,void 0,function(){var n,i,o,u,a;return M(this,function(c){switch(c.label){case 0:ji((n=H(e)).remoteStore)||z("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(f){var d=H(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(v){return d._n.getHighestUnacknowledgedBatchId(v)})}(n.localStore)];case 2:return(i=c.sent())===-1?[2,void t.resolve()]:((o=n.Fo.get(i)||[]).push(t),n.Fo.set(i,o),[3,4]);case 3:return u=c.sent(),a=Ru(u,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function Nw(e,t){(e.Fo.get(t)||[]).forEach(function(n){n.resolve()}),e.Fo.delete(t)}function Cw(e,t,n){var i=H(e),o=i.xo[i.currentUser.toKey()];if(o){var u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),i.xo[i.currentUser.toKey()]=o}}function wu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,o=e.Vo.get(t);i<o.length;i++){var u=o[i];e.Po.delete(u),n&&e.vo.Mo(u,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||zx(e,a)})}function zx(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(_l(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),xw(e))}function Ny(e,t,n){for(var i=0,o=n;i<o.length;i++){var u=o[i];u instanceof Ux?(e.No.addReference(u.key,t),vF(e,u)):u instanceof Vx?(z("SyncEngine","Document no longer in limbo: "+u.key),e.No.removeReference(u.key,t),e.No.containsKey(u.key)||zx(e,u.key)):Y()}}function vF(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(z("SyncEngine","New document in limbo: "+n),e.So.add(i),xw(e))}function xw(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new J(ye.fromString(t)),i=e.ko.next();e.Co.set(i,new sF(n)),e.Do=e.Do.insert(n,i),Rd(e.remoteStore,new Ad(wr(Kl(n.path)),i,2,vn.o))}}function Fi(e,t,n){return F(this,void 0,void 0,function(){var i,o,u,a;return M(this,function(c){switch(c.label){case 0:return i=H(e),o=[],u=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,t,n).then(function(v){if(v){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,v.fromCache?"not-current":"current"),o.push(v);var m=S5.Pn(d.targetId,v);u.push(m)}}))}),[4,Promise.all(a)]);case 1:return c.sent(),i.vo._r(o),[4,function(f,d){return F(this,void 0,void 0,function(){var v,m,y,E,T,k,x,S,I;return M(this,function(_){switch(_.label){case 0:v=H(f),_.label=1;case 1:return _.trys.push([1,3,,4]),[4,v.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(A){return V.forEach(d,function(L){return V.forEach(L.bn,function(R){return v.persistence.referenceDelegate.addReference(A,L.targetId,R)}).next(function(){return V.forEach(L.vn,function(R){return v.persistence.referenceDelegate.removeReference(A,L.targetId,R)})})})})];case 2:return _.sent(),[3,4];case 3:if(!qo(m=_.sent()))throw m;return z("LocalStore","Failed to update sequence numbers: "+m),[3,4];case 4:for(y=0,E=d;y<E.length;y++)T=E[y],k=T.targetId,T.fromCache||(x=v.Fn.get(k),S=x.snapshotVersion,I=x.withLastLimboFreeSnapshotVersion(S),v.Fn=v.Fn.insert(k,I));return[2]}})})}(i.localStore,u)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function mF(e,t){return F(this,void 0,void 0,function(){var n,i;return M(this,function(o){switch(o.label){case 0:return(n=H(e)).currentUser.isEqual(t)?[3,3]:(z("SyncEngine","User change. New user:",t.toKey()),[4,bx(n.localStore,t)]);case 1:return i=o.sent(),n.currentUser=t,function(u,a){u.Fo.forEach(function(c){c.forEach(function(f){f.reject(new U(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,Fi(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function gF(e,t){var n=H(e),i=n.Co.get(t);if(i&&i.bo)return ke().add(i.key);var o=ke(),u=n.Vo.get(t);if(!u)return o;for(var a=0,c=u;a<c.length;a++){var f=c[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function yF(e,t){return F(this,void 0,void 0,function(){var n,i,o;return M(this,function(u){switch(u.label){case 0:return[4,Uh((n=H(e)).localStore,t.query,!0)];case 1:return i=u.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&Ny(n,t.targetId,o.To),o)]}})})}function wF(e){return F(this,void 0,void 0,function(){var t;return M(this,function(n){return[2,xx((t=H(e)).localStore).then(function(i){return Fi(t,i)})]})})}function EF(e,t,n,i){return F(this,void 0,void 0,function(){var o,u;return M(this,function(a){switch(a.label){case 0:return[4,function(c,f){var d=H(c),v=H(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(m){return v.jt(m,f).next(function(y){return y?d.Mn.pn(m,y):V.resolve(null)})})}((o=H(e)).localStore,t)];case 1:return(u=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Au(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Cw(o,t,i||null),Nw(o,t),function(c,f){H(H(c)._n).Gt(f)}(o.localStore,t)):Y(),a.label=4;case 4:return[4,Fi(o,u)];case 5:return a.sent(),[3,7];case 6:z("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function IF(e,t){return F(this,void 0,void 0,function(){var n,i,o,u,a,c,f,d;return M(this,function(v){switch(v.label){case 0:return Aw(n=H(e)),Dw(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,$_(n,i.toArray())]);case 1:return o=v.sent(),n.$o=!0,[4,by(n.remoteStore,!0)];case 2:for(v.sent(),u=0,a=o;u<a.length;u++)c=a[u],Rd(n.remoteStore,c);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(m,y){n.sharedClientState.isLocalQueryTarget(y)?f.push(y):d=d.then(function(){return wu(n,y),yu(n.localStore,y,!0)}),_l(n.remoteStore,y)}),[4,d]);case 4:return v.sent(),[4,$_(n,f)];case 5:return v.sent(),function(m){var y=H(m);y.Co.forEach(function(E,T){_l(y.remoteStore,T)}),y.No.ts(),y.Co=new Map,y.Do=new Pt(J.comparator)}(n),n.$o=!1,[4,by(n.remoteStore,!1)];case 6:v.sent(),v.label=7;case 7:return[2]}})})}function $_(e,t,n){return F(this,void 0,void 0,function(){var i,o,u,a,c,f,d,v,m,y,E,T,k,x;return M(this,function(S){switch(S.label){case 0:i=H(e),o=[],u=[],a=0,c=t,S.label=1;case 1:return a<c.length?(f=c[a],d=void 0,(v=i.Vo.get(f))&&v.length!==0?[4,Fh(i.localStore,wr(v[0]))]:[3,7]):[3,13];case 2:d=S.sent(),m=0,y=v,S.label=3;case 3:return m<y.length?(E=y[m],T=i.Po.get(E),[4,yF(i,T)]):[3,6];case 4:(k=S.sent()).snapshot&&u.push(k.snapshot),S.label=5;case 5:return m++,[3,3];case 6:return[3,11];case 7:return[4,Cx(i.localStore,f)];case 8:return x=S.sent(),[4,Fh(i.localStore,x)];case 9:return d=S.sent(),[4,bw(i,qx(x),f,!1)];case 10:S.sent(),S.label=11;case 11:o.push(d),S.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(u),o)]}})})}function qx(e){return $C(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function SF(e){var t=H(e);return H(H(t.localStore).persistence).fn()}function TF(e,t,n,i){return F(this,void 0,void 0,function(){var o,u,a;return M(this,function(c){switch(c.label){case 0:return(o=H(e)).$o?(z("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,xx(o.localStore)];case 3:return u=c.sent(),a=lw.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Fi(o,u,a)];case 4:return c.sent(),[3,8];case 5:return[4,yu(o.localStore,t,!0)];case 6:return c.sent(),wu(o,t,i),[3,8];case 7:Y(),c.label=8;case 8:return[2]}})})}function _F(e,t,n){return F(this,void 0,void 0,function(){var i,o,u,a,c,f,d,v,m,y;return M(this,function(E){switch(E.label){case 0:if(!(i=Aw(e)).$o)return[3,10];o=0,u=t,E.label=1;case 1:return o<u.length?(a=u[o],i.Vo.has(a)?(z("SyncEngine","Adding an already active target "+a),[3,5]):[4,Cx(i.localStore,a)]):[3,6];case 2:return c=E.sent(),[4,Fh(i.localStore,c)];case 3:return f=E.sent(),[4,bw(i,qx(c),f.targetId,!1)];case 4:E.sent(),Rd(i.remoteStore,f),E.label=5;case 5:return o++,[3,1];case 6:d=function(T){return M(this,function(k){switch(k.label){case 0:return i.Vo.has(T)?[4,yu(i.localStore,T,!1).then(function(){_l(i.remoteStore,T),wu(i,T)}).catch(Ko)]:[3,2];case 1:k.sent(),k.label=2;case 2:return[2]}})},v=0,m=n,E.label=7;case 7:return v<m.length?(y=m[v],[5,d(y)]):[3,10];case 8:E.sent(),E.label=9;case 9:return v++,[3,7];case 10:return[2]}})})}function Aw(e){var t=H(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gF.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fF.bind(null,t),t.vo._r=rF.bind(null,t.eventManager),t.vo.Mo=iF.bind(null,t.eventManager),t}function Dw(e){var t=H(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hF.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dF.bind(null,t),t}var Kx=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return F(this,void 0,void 0,function(){return M(this,function(n){switch(n.label){case 0:return this.R=Dd(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return kx(this.persistence,new _x,t.initialUser,this.R)},e.prototype.qo=function(t){return new O5(M5.bs,this.R)},e.prototype.Bo=function(t){return new Ax},e.prototype.terminate=function(){return F(this,void 0,void 0,function(){return M(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),Hx=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).Qo=n,u.cacheSizeBytes=i,u.forceOwnership=o,u.synchronizeTabs=!1,u}return ee(t,e),t.prototype.initialize=function(n){return F(this,void 0,void 0,function(){return M(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,C5(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,Dw(this.Qo.syncEngine)];case 4:return i.sent(),[4,Au(this.Qo.remoteStore)];case 5:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return kx(this.persistence,new _x,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new v5(i,n.asyncQueue)},t.prototype.qo=function(n){var i=mw(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?hr.withCacheSize(this.cacheSizeBytes):hr.DEFAULT;return new I5(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,Dx(),Wf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new Ax},t}(Kx),kF=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return ee(t,e),t.prototype.initialize=function(n){return F(this,void 0,void 0,function(){var i,o=this;return M(this,function(u){switch(u.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return u.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof sg?(this.sharedClientState.syncEngine={ui:EF.bind(null,i),ai:TF.bind(null,i),hi:_F.bind(null,i),fn:SF.bind(null,i),ci:wF.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(a){return F(o,void 0,void 0,function(){return M(this,function(c){switch(c.label){case 0:return[4,IF(this.Qo.syncEngine,a)];case 1:return c.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},t.prototype.Bo=function(n){var i=Dx();if(!sg.yt(i))throw new U(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=mw(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new sg(i,n.asyncQueue,o,n.clientId,n.initialUser)},t}(Hx),Cy=function(){function e(){}return e.prototype.initialize=function(t,n){return F(this,void 0,void 0,function(){var i=this;return M(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return V_(i.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=mF.bind(null,this.syncEngine),[4,by(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new nF},e.prototype.createDatastore=function(t){var n,i=Dd(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new $5(n));return function(u,a,c){return new q5(u,a,c)}(t.credentials,o,i)},e.prototype.createRemoteStore=function(t){var n,i,o,u,a,c=this;return n=this.localStore,i=this.datastore,o=t.asyncQueue,u=function(f){return V_(c.syncEngine,f,0)},a=F_.yt()?new F_:new F5,new H5(n,i,o,u,a)},e.prototype.createSyncEngine=function(t,n){return function(i,o,u,a,c,f,d){var v=new uF(i,o,u,a,c,f);return d&&(v.$o=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return F(this,void 0,void 0,function(){var n;return M(this,function(i){switch(i.label){case 0:return n=H(t),z("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,xu(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pd=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),bF=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return F(this,void 0,void 0,function(){var n,i=this;return M(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new U(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,a){return F(this,void 0,void 0,function(){var c,f,d,v,m,y;return M(this,function(E){switch(E.label){case 0:return c=H(u),f=Tl(c.R)+"/documents",d={documents:a.map(function(T){return Sl(c.R,T)})},[4,c.$i("BatchGetDocuments",f,d)];case 1:return v=E.sent(),m=new Map,v.forEach(function(T){var k=function(x,S){return"found"in S?function(I,_){ne(!!_.found),_.found.name,_.found.updateTime;var A=Lr(I,_.found.name),L=$t(_.found.updateTime),R=new dn({mapValue:{fields:_.found.fields}});return Rt.newFoundDocument(A,L,R)}(x,S):"missing"in S?function(I,_){ne(!!_.missing),ne(!!_.readTime);var A=Lr(I,_.missing),L=$t(_.readTime);return Rt.newNoDocument(A,L)}(x,S):Y()}(c.R,T);m.set(k.key.toString(),k)}),y=[],[2,(a.forEach(function(T){var k=m.get(T.toString());ne(!!k),y.push(k)}),y)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(u){return i.recordVersion(u)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Xl(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return F(this,void 0,void 0,function(){var t,n=this;return M(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,u){var a=J.fromPath(u);n.mutations.push(new aw(a,n.precondition(a)))}),[4,function(o,u){return F(this,void 0,void 0,function(){var a,c,f;return M(this,function(d){switch(d.label){case 0:return a=H(o),c=Tl(a.R)+"/documents",f={writes:u.map(function(v){return Lh(a.R,v)})},[4,a.Ni("Commit",c,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Y();n=le.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new U(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?xt.updateTime(n):xt.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(le.min()))throw new U(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xt.updateTime(n)}return xt.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),NF=function(){function e(t,n,i,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new yw(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return F(t,void 0,void 0,function(){var n,i,o=this;return M(this,function(u){return n=new bF(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(c){o.ic(c)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!zo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!ZC(n)}return!1},e}(),CF=function(){function e(t,n,i){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=PC.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(u){return F(o,void 0,void 0,function(){return M(this,function(a){switch(a.label){case 0:return z("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return a.sent(),this.user=u,[2]}})})})}return e.prototype.getConfiguration=function(){return F(this,void 0,void 0,function(){return M(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new U(D.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new In;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return F(t,void 0,void 0,function(){var i,o;return M(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=u.sent(),o=Ru(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(e,t){return F(this,void 0,void 0,function(){var n,i,o=this;return M(this,function(u){switch(u.label){case 0:return e.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=u.sent(),[4,t.initialize(n)];case 2:return u.sent(),i=n.initialUser,e.setCredentialChangeListener(function(a){return F(o,void 0,void 0,function(){return M(this,function(c){switch(c.label){case 0:return i.isEqual(a)?[3,2]:[4,bx(t.localStore,a)];case 1:c.sent(),i=a,c.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function Gx(e,t){return F(this,void 0,void 0,function(){var n,i;return M(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Rw(e)];case 1:return n=o.sent(),z("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(u){return function(a,c){return F(this,void 0,void 0,function(){var f,d;return M(this,function(v){switch(v.label){case 0:return(f=H(a)).asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials"),d=ji(f),f.Or.add(3),[4,xu(f)];case 1:return v.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(c)];case 2:return v.sent(),f.Or.delete(3),[4,Yl(f)];case 3:return v.sent(),[2]}})})}(t.remoteStore,u)}),e.onlineComponents=t,[2]}})})}function Rw(e){return F(this,void 0,void 0,function(){return M(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(z("FirestoreClient","Using default OfflineComponentProvider"),[4,Wx(e,new Kx)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Od(e){return F(this,void 0,void 0,function(){return M(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(z("FirestoreClient","Using default OnlineComponentProvider"),[4,Gx(e,new Cy)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function B_(e){return Rw(e).then(function(t){return t.persistence})}function Qx(e){return Rw(e).then(function(t){return t.localStore})}function z_(e){return Od(e).then(function(t){return t.remoteStore})}function Xx(e){return Od(e).then(function(t){return t.syncEngine})}function Eu(e){return F(this,void 0,void 0,function(){var t,n;return M(this,function(i){switch(i.label){case 0:return[4,Od(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=aF.bind(null,t.syncEngine),n.onUnlisten=lF.bind(null,t.syncEngine),n)]}})})}function q_(e,t,n){var i=this;n===void 0&&(n={});var o=new In;return e.asyncQueue.enqueueAndForget(function(){return F(i,void 0,void 0,function(){var u;return M(this,function(a){switch(a.label){case 0:return u=function(c,f,d,v,m){var y=new Pd({next:function(T){f.enqueueAndForget(function(){return Tw(c,E)});var k=T.docs.has(d);!k&&T.fromCache?m.reject(new U(D.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&T.fromCache&&v&&v.source==="server"?m.reject(new U(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:function(T){return m.reject(T)}}),E=new kw(Kl(d.path),y,{includeMetadataChanges:!0,so:!0});return Sw(c,E)},[4,Eu(e)];case 1:return[2,u.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function K_(e,t,n){var i=this;n===void 0&&(n={});var o=new In;return e.asyncQueue.enqueueAndForget(function(){return F(i,void 0,void 0,function(){var u;return M(this,function(a){switch(a.label){case 0:return u=function(c,f,d,v,m){var y=new Pd({next:function(T){f.enqueueAndForget(function(){return Tw(c,E)}),T.fromCache&&v.source==="server"?m.reject(new U(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:function(T){return m.reject(T)}}),E=new kw(d,y,{includeMetadataChanges:!0,so:!0});return Sw(c,E)},[4,Eu(e)];case 1:return[2,u.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var xF=function(e,t,n,i,o,u,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=a,this.useFetchStreams=c},Bh=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),H_=new Map,Yx=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},W_=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Yt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),AF=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),DF=function(){function e(t){var n=this;this.currentUser=Yt.UNAUTHENTICATED,this.oc=new In,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){z("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?i(o):(z("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return t.cc!==n?(z("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(ne(typeof o.accessToken=="string"),new Yx(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return F(i,void 0,void 0,function(){return M(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ne(t===null||typeof t=="string"),new Yt(t)},e}(),RF=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=Yt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),PF=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new RF(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Yt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(e,t,n){if(!n)throw new U(D.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Ow(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new U(D.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Jx(e,t,n,i){if(t===!0&&i===!0)throw new U(D.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function G_(e){if(!J.isDocumentKey(e))throw new U(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Q_(e){if(J.isDocumentKey(e))throw new U(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Ld(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Y()}function we(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new U(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ld(e);throw new U(D.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function X_(e,t){if(t<=0)throw new U(D.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y_=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new U(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new U(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Jx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),kl=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y_({}),this._settingsFrozen=!1,t instanceof Bh?(this._databaseId=t,this._credentials=new W_):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new U(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bh(i.options.projectId)}(t),this._credentials=new DF(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new U(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new U(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y_(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new W_;switch(n.type){case"gapi":var i=n.client;return ne(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new PF(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new U(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=H_.get(t))&&(z("ComponentProvider","Removing Datastore"),H_.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),je=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new bi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),yn=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),bi=function(e){function t(n,i,o){var u=this;return(u=e.call(this,n,i,Kl(o))||this)._path=o,u.type="collection",u}return ee(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new je(this.firestore,null,new J(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(yn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=tt(e),Pw("collection","path",t),e instanceof kl)return Q_(n=ye.fromString.apply(ye,ze([t],i))),new bi(e,null,n);if(!(e instanceof je||e instanceof bi))throw new U(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Q_(n=ye.fromString.apply(ye,ze([e.path],i)).child(ye.fromString(t))),new bi(e.firestore,null,n)}function Gf(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=tt(e),arguments.length===1&&(t=PC.u()),Pw("doc","path",t),e instanceof kl)return G_(n=ye.fromString.apply(ye,ze([t],i))),new je(e,null,new J(n));if(!(e instanceof je||e instanceof bi))throw new U(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return G_(n=e._path.child(ye.fromString.apply(ye,ze([t],i)))),new je(e.firestore,e instanceof bi?e.converter:null,new J(n))}function eA(e,t){return e=tt(e),t=tt(t),(e instanceof je||e instanceof bi)&&(t instanceof je||t instanceof bi)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function tA(e,t){return e=tt(e),t=tt(t),e instanceof yn&&t instanceof yn&&e.firestore===t.firestore&&Hl(e._query,t._query)&&e.converter===t.converter}var OF=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new yw(this,"async_queue_retry"),this.Tc=function(){var i=Wf();i&&z("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=Wf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ic(),this.Ac(t)},e.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var t=Wf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Tc)}},e.prototype.enqueue=function(t){return this.Ic(),this._c?new Promise(function(n){}):this.Ac(t)},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.Rc()})},e.prototype.Rc=function(){return F(this,void 0,void 0,function(){var t,n=this;return M(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!qo(t=i.sent()))throw t;return z("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.Rc()}),i.label=5;case 5:return[2]}})})},e.prototype.Ac=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Ze("INTERNAL UNHANDLED ERROR: ",function(u){var a=u.message||"";return u.stack&&(a=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var o=this;this.Ic(),this.Ec.indexOf(t)>-1&&(n=0);var u=eF.createAndSchedule(this,t,n,i,function(a){return o.bc(a)});return this.mc.push(u),u},e.prototype.Ic=function(){this.yc&&Y()},e.prototype.verifyOperationInProgress=function(){},e.prototype.vc=function(){return F(this,void 0,void 0,function(){var t;return M(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Pc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Vc=function(t){var n=this;return this.vc().then(function(){n.mc.sort(function(a,c){return a.targetTimeMs-c.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var u=o[i];if(u.skipDelay(),t!=="all"&&u.timerId===t)break}return n.vc()})},e.prototype.Sc=function(t){this.Ec.push(t)},e.prototype.bc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Iu(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,o=0,u=["next","error","complete"];o<u.length;o++){var a=u[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(e)}var LF=-1,st=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).type="firestore",o._queue=new OF,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return ee(t,e),t.prototype._terminate=function(){return this._firestoreClient||nA(this),this._firestoreClient.terminate()},t}(kl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(e){return e._firestoreClient||nA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function nA(e){var t,n=e._freezeSettings(),i=function(o,u,a,c){return new xF(o,u,a,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new CF(e._credentials,e._queue,i)}function J_(e,t,n){var i=this,o=new In;return e.asyncQueue.enqueue(function(){return F(i,void 0,void 0,function(){var u;return M(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,Wx(e,n)];case 1:return a.sent(),[4,Gx(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===D.FAILED_PRECONDITION||c.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(u=a.sent()))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function Z_(e){if(e._initialized||e._terminated)throw new U(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new U(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new er(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Fo=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(on.fromBase64String(t))}catch(n){throw new U(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(on.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Ho=function(e){this._methodName=e},Md=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new U(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new U(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return de(this._lat,t._lat)||de(this._long,t._long)},e}(),MF=/^__.*__$/,jF=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Mi(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ql(t,this.data,n,this.fieldTransforms)},e}(),rA=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new Mi(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}var oA=function(){function e(t,n,i,o,u,a){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Dc(),this.fieldTransforms=u||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),e.prototype.Nc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.xc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Nc({path:i,Fc:!1});return o.kc(t),o},e.prototype.$c=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Nc({path:i,Fc:!1});return o.Dc(),o},e.prototype.Oc=function(t){return this.Nc({path:void 0,Fc:!0})},e.prototype.Mc=function(t){return zh(t,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Dc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.kc(this.path.get(t))},e.prototype.kc=function(t){if(t.length===0)throw this.Mc("Document fields must not be empty");if(iA(this.Cc)&&MF.test(t))throw this.Mc('Document fields cannot begin and end with "__"')},e}(),FF=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||Dd(t)}return e.prototype.qc=function(t,n,i,o){return o===void 0&&(o=!1),new oA({Cc:t,methodName:n,Bc:i,path:er.emptyPath(),Fc:!1,Lc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Wo(e){var t=e._freezeSettings(),n=Dd(e._databaseId);return new FF(e._databaseId,!!t.ignoreUndefinedProperties,n)}function jd(e,t,n,i,o,u){u===void 0&&(u={});var a=e.qc(u.merge||u.mergeFields?2:0,t,n,o);Fw("Data must be an object, but it was:",a,i);var c,f,d=aA(i,a);if(u.merge)c=new uu(a.fieldMask),f=a.fieldTransforms;else if(u.mergeFields){for(var v=[],m=0,y=u.mergeFields;m<y.length;m++){var E=xy(t,y[m],n);if(!a.contains(E))throw new U(D.INVALID_ARGUMENT,"Field '"+E+"' is specified in your field mask but missing from your input data.");cA(v,E)||v.push(E)}c=new uu(v),f=a.fieldTransforms.filter(function(T){return c.covers(T.field)})}else c=null,f=a.fieldTransforms;return new jF(new dn(d),c,f)}var Lw=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype._toFieldTransform=function(n){if(n.Cc!==2)throw n.Cc===1?n.Mc(this._methodName+"() can only appear at the top level of your update data"):n.Mc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Ho);function sA(e,t,n){return new oA({Cc:3,Bc:t.settings.Bc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var UF=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype._toFieldTransform=function(n){return new Gl(n.path,new fu)},t.prototype.isEqual=function(n){return n instanceof t},t}(Ho),VF=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Uc=i,o}return ee(t,e),t.prototype._toFieldTransform=function(n){var i=sA(this,n,!0),o=this.Uc.map(function(a){return Go(a,i)}),u=new Mo(o);return new Gl(n.path,u)},t.prototype.isEqual=function(n){return this===n},t}(Ho),$F=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Uc=i,o}return ee(t,e),t.prototype._toFieldTransform=function(n){var i=sA(this,n,!0),o=this.Uc.map(function(a){return Go(a,i)}),u=new jo(o);return new Gl(n.path,u)},t.prototype.isEqual=function(n){return this===n},t}(Ho),BF=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return ee(t,e),t.prototype._toFieldTransform=function(n){var i=new hu(n.R,WC(n.R,this.Kc));return new Gl(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(Ho);function Mw(e,t,n,i){var o=e.qc(1,t,n);Fw("Data must be an object, but it was:",o,i);var u=[],a=dn.empty();Bo(i,function(f,d){var v=Uw(t,f,n);d=tt(d);var m=o.$c(v);if(d instanceof Lw)u.push(v);else{var y=Go(d,m);y!=null&&(u.push(v),a.set(v,y))}});var c=new uu(u);return new rA(a,c,o.fieldTransforms)}function jw(e,t,n,i,o,u){var a=e.qc(1,t,n),c=[xy(t,i,n)],f=[o];if(u.length%2!=0)throw new U(D.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<u.length;d+=2)c.push(xy(t,u[d])),f.push(u[d+1]);for(var v=[],m=dn.empty(),y=c.length-1;y>=0;--y)if(!cA(v,c[y])){var E=c[y],T=f[y];T=tt(T);var k=a.$c(E);if(T instanceof Lw)v.push(E);else{var x=Go(T,k);x!=null&&(v.push(E),m.set(E,x))}}var S=new uu(v);return new rA(m,S,a.fieldTransforms)}function uA(e,t,n,i){return i===void 0&&(i=!1),Go(n,e.qc(i?4:3,t))}function Go(e,t){if(lA(e=tt(e)))return Fw("Unsupported field value:",t,e),aA(e,t);if(e instanceof Ho)return function(n,i){if(!iA(i.Cc))throw i.Mc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Mc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Cc!==4)throw t.Mc("Nested arrays are not supported");return function(n,i){for(var o=[],u=0,a=0,c=n;a<c.length;a++){var f=Go(c[a],i.Oc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(e,t)}return function(n,i){if((n=tt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return WC(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=rn.fromDate(n);return{timestampValue:Il(i.R,o)}}if(n instanceof rn)return o=new rn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Il(i.R,o)};if(n instanceof Md)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Fo)return{bytesValue:rx(i.R,n._byteString)};if(n instanceof je){o=i.databaseId;var u=n.firestore._databaseId;if(!u.isEqual(o))throw i.Mc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:fw(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Mc("Unsupported field value: "+Ld(n))}(e,t)}function aA(e,t){var n={};return LC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bo(e,function(i,o){var u=Go(o,t.xc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function lA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof rn||e instanceof Md||e instanceof Fo||e instanceof je||e instanceof Ho)}function Fw(e,t,n){if(!lA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=Ld(n);throw i==="an object"?t.Mc(e+" a custom object"):t.Mc(e+" "+i)}}function xy(e,t,n){if((t=tt(t))instanceof gr)return t._internalPath;if(typeof t=="string")return Uw(e,t);throw zh("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var zF=new RegExp("[~\\*/\\[\\]]");function Uw(e,t,n){if(t.search(zF)>=0)throw zh("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(gr.bind.apply(gr,ze([void 0],t.split("."))))()._internalPath}catch{throw zh("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function zh(e,t,n,i,o){var u=i&&!i.isEmpty(),a=o!==void 0,c="Function "+t+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var f="";return(u||a)&&(f+=" (found",u&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new U(D.INVALID_ARGUMENT,(c+=". ")+e+f)}function cA(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bl=function(){function e(t,n,i,o,u){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new je(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new qF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(qh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),qF=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(bl);function qh(e,t){return typeof t=="string"?Uw(e,t):t instanceof gr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eo=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),jr=function(e){function t(n,i,o,u,a,c){var f=this;return(f=e.call(this,n,i,o,u,c)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return ee(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new Wa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(qh("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},t}(bl),Wa=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(jr),hi=function(){function e(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Eo(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(o){t.call(n,new Wa(i._firestore,i._userDataWriter,o.key,o,new Eo(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var u=0;return i._snapshot.docChanges.map(function(c){return{type:"added",doc:new Wa(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Eo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(c){return o||c.type!==3}).map(function(c){var f=new Wa(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Eo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,v=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(v=(a=a.add(c.doc)).indexOf(c.doc.key)),{type:KF(c.type),doc:f,oldIndex:d,newIndex:v}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function KF(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}function fA(e,t){return e instanceof jr&&t instanceof jr?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof hi&&t instanceof hi&&e._firestore===t._firestore&&tA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(e){if(Oh(e)&&e.explicitOrderBy.length===0)throw new U(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jl=function(){};function ii(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=t;i<o.length;i++){var u=o[i];e=u._apply(e)}return e}var HF=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).Qc=n,u.jc=i,u.Wc=o,u.type="where",u}return ee(t,e),t.prototype._apply=function(n){var i=Wo(n.firestore),o=function(u,a,c,f,d,v,m){var y;if(d.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new U(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+v+"' queries on FieldPath.documentId().");if(v==="in"||v==="not-in"){ik(m,v);for(var E=[],T=0,k=m;T<k.length;T++){var x=k[T];E.push(rk(f,u,x))}y={arrayValue:{values:E}}}else y=rk(f,u,m)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||ik(m,v),y=uA(c,"where",m,v==="in"||v==="not-in");var S=mn.create(d,v,y);return function(I,_){if(_.g()){var A=sw(I);if(A!==null&&!A.isEqual(_.field))throw new U(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+A.toString()+"' and '"+_.field.toString()+"'");var L=ow(I);L!==null&&pA(I,_.field,L)}var R=function(q,P){for(var te=0,N=q.filters;te<N.length;te++){var pt=N[te];if(P.indexOf(pt.op)>=0)return pt.op}return null}(I,function(q){switch(q){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(_.op));if(R!==null)throw R===_.op?new U(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+_.op.toString()+"' filter."):new U(D.INVALID_ARGUMENT,"Invalid query. You cannot use '"+_.op.toString()+"' filters with '"+R.toString()+"' filters.")}(u,S),S}(n._query,0,i,n.firestore._databaseId,this.Qc,this.jc,this.Wc);return new yn(n.firestore,n.converter,function(u,a){var c=u.filters.concat([a]);return new Kr(u.path,u.collectionGroup,u.explicitOrderBy.slice(),c,u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))},t}(Jl),WF=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Qc=n,o.Gc=i,o.type="orderBy",o}return ee(t,e),t.prototype._apply=function(n){var i=function(o,u,a){if(o.startAt!==null)throw new U(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new U(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new Xs(u,a);return function(f,d){if(ow(f)===null){var v=sw(f);v!==null&&pA(f,v,d.field)}}(o,c),c}(n._query,this.Qc,this.Gc);return new yn(n.firestore,n.converter,function(o,u){var a=o.explicitOrderBy.concat([u]);return new Kr(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(Jl),ek=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.zc=i,u.Hc=o,u}return ee(t,e),t.prototype._apply=function(n){return new yn(n.firestore,n.converter,BC(n._query,this.zc,this.Hc))},t}(Jl),tk=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Jc=i,u.Yc=o,u}return ee(t,e),t.prototype._apply=function(n){var i=dA(n,this.type,this.Jc,this.Yc);return new yn(n.firestore,n.converter,function(o,u){return new Kr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(n._query,i))},t}(Jl),nk=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Jc=i,u.Yc=o,u}return ee(t,e),t.prototype._apply=function(n){var i=dA(n,this.type,this.Jc,this.Yc);return new yn(n.firestore,n.converter,function(o,u){return new Kr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)}(n._query,i))},t}(Jl);function dA(e,t,n,i){if(n[0]=tt(n[0]),n[0]instanceof bl)return function(u,a,c,f,d){if(!f)throw new U(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var v=[],m=0,y=cu(u);m<y.length;m++){var E=y[m];if(E.field.isKeyField())v.push(Dh(a,f.key));else{var T=f.data.field(E.field);if(nw(T))throw new U(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(T===null){var k=E.field.canonicalString();throw new U(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+k+"' (used as the orderBy) does not exist.")}v.push(T)}}return new El(v,d)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=Wo(e.firestore);return function(u,a,c,f,d,v){var m=u.explicitOrderBy;if(d.length>m.length)throw new U(D.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var y=[],E=0;E<d.length;E++){var T=d[E];if(m[E].field.isKeyField()){if(typeof T!="string")throw new U(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof T);if(!uw(u)&&T.indexOf("/")!==-1)throw new U(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+T+"' contains a slash.");var k=u.path.child(ye.fromString(T));if(!J.isDocumentKey(k))throw new U(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+k+"' is not because it contains an odd number of segments.");var x=new J(k);y.push(Dh(a,x))}else{var S=uA(c,f,T);y.push(S)}}return new El(y,v)}(e._query,e.firestore._databaseId,o,t,n,i)}function rk(e,t,n){if(typeof(n=tt(n))=="string"){if(n==="")throw new U(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!uw(t)&&n.indexOf("/")!==-1)throw new U(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(ye.fromString(n));if(!J.isDocumentKey(i))throw new U(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Dh(e,new J(i))}if(n instanceof je)return Dh(e,n._key);throw new U(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ld(n)+".")}function ik(e,t){if(!Array.isArray(e)||e.length===0)throw new U(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new U(D.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function pA(e,t,n){if(!n.isEqual(t))throw new U(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vw=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Lo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(au(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Y()}},e.prototype.convertObject=function(t,n){var i=this,o={};return Bo(t.fields,function(u,a){o[u]=i.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new Md(Ye(t.latitude),Ye(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(o){return i.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=jC(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(yl(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=zr(t);return new rn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=ye.fromString(t);ne(fx(i));var o=new Bh(i.get(1),i.get(3)),u=new J(i.popFirst(5));return o.isEqual(n)||Ze("Document "+u+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),u},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var GF=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return ee(t,e),t.prototype.convertBytes=function(n){return new Fo(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new je(this.firestore,null,i)},t}(Vw),QF=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Wo(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var o=di(t,this._firestore),u=Fd(o.converter,n,i),a=jd(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,xt.none())),this},e.prototype.update=function(t,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this._verifyNotCommitted();var a,c=di(t,this._firestore);return a=typeof(n=tt(n))=="string"||n instanceof gr?jw(this._dataReader,"WriteBatch.update",c._key,n,i,o):Mw(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(a.toMutation(c._key,xt.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=di(t,this._firestore);return this._mutations=this._mutations.concat(new Xl(n._key,xt.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new U(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(e,t){if((e=tt(e)).firestore!==t)throw new U(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ko=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return ee(t,e),t.prototype.convertBytes=function(n){return new Fo(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new je(this.firestore,null,i)},t}(Vw);function ok(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=we(e,je);var u=we(e.firestore,st),a=Wo(u);return Nl(u,[(typeof(t=tt(t))=="string"||t instanceof gr?jw(a,"updateDoc",e._key,t,n,i):Mw(a,"updateDoc",e._key,t)).toMutation(e._key,xt.exists(!0))])}function vA(e){for(var t,n,i,o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];e=tt(e);var a={includeMetadataChanges:!1},c=0;typeof o[c]!="object"||Iu(o[c])||(a=o[c],c++);var f,d,v,m={includeMetadataChanges:a.includeMetadataChanges};if(Iu(o[c])){var y=o[c];o[c]=(t=y.next)===null||t===void 0?void 0:t.bind(y),o[c+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),o[c+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}if(e instanceof je)d=we(e.firestore,st),v=Kl(e._key.path),f={next:function(k){o[c]&&o[c](Ay(d,e,k))},error:o[c+1],complete:o[c+2]};else{var E=we(e,yn);d=we(E.firestore,st),v=E._query;var T=new ko(d);f={next:function(k){o[c]&&o[c](new hi(d,T,E,k))},error:o[c+1],complete:o[c+2]},hA(e._query)}return function(k,x,S,I){var _=this,A=new Pd(I),L=new kw(x,A,S);return k.asyncQueue.enqueueAndForget(function(){return F(_,void 0,void 0,function(){var R;return M(this,function(q){switch(q.label){case 0:return R=Sw,[4,Eu(k)];case 1:return[2,R.apply(void 0,[q.sent(),L])]}})})}),function(){A.Wo(),k.asyncQueue.enqueueAndForget(function(){return F(_,void 0,void 0,function(){var R;return M(this,function(q){switch(q.label){case 0:return R=Tw,[4,Eu(k)];case 1:return[2,R.apply(void 0,[q.sent(),L])]}})})})}}(Ct(d),v,m,f)}function Nl(e,t){return function(n,i){var o=this,u=new In;return n.asyncQueue.enqueueAndForget(function(){return F(o,void 0,void 0,function(){var a;return M(this,function(c){switch(c.label){case 0:return a=cF,[4,Xx(n)];case 1:return[2,a.apply(void 0,[c.sent(),i,u])]}})})}),u.promise}(Ct(e),t)}function Ay(e,t,n){var i=n.docs.get(t._key),o=new ko(e);return new jr(e,o,t._key,i,new Eo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XF=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this)._firestore=n,o}return ee(t,e),t.prototype.get=function(n){var i=this,o=di(n,this._firestore),u=new ko(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new jr(i._firestore,u,o._key,a._document,new Eo(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Wo(t)}return e.prototype.get=function(t){var n=this,i=di(t,this._firestore),o=new GF(this._firestore);return this._transaction.lookup([i._key]).then(function(u){if(!u||u.length!==1)return Y();var a=u[0];if(a.isFoundDocument())return new bl(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new bl(n._firestore,o,i._key,null,i.converter);throw Y()})},e.prototype.set=function(t,n,i){var o=di(t,this._firestore),u=Fd(o.converter,n,i),a=jd(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,i);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];var a,c=di(t,this._firestore);return a=typeof(n=tt(n))=="string"||n instanceof gr?jw(this._dataReader,"Transaction.update",c._key,n,i,o):Mw(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,a),this},e.prototype.delete=function(t){var n=di(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(){if(typeof Uint8Array>"u")throw new U(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function uk(){if(typeof atob>"u")throw new U(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var mA=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return uk(),new e(Fo.fromBase64String(t))},e.fromUint8Array=function(t){return sk(),new e(Fo.fromUint8Array(t))},e.prototype.toBase64=function(){return uk(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return sk(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),YF=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,o){Z_(i=we(i,st));var u=Ct(i),a=i._freezeSettings(),c=new Cy;return J_(u,c,new Hx(c,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){Z_(n=we(n,st));var i=Ct(n),o=n._freezeSettings(),u=new Cy;return J_(i,u,new kF(u,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new U(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new In;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return F(i,void 0,void 0,function(){var u;return M(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(c){return F(this,void 0,void 0,function(){var f;return M(this,function(d){switch(d.label){case 0:return vu.yt()?(f=c+"main",[4,vu.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(mw(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return u=a.sent(),o.reject(u),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),gA=function(){function e(t,n,i){var o=this;this._delegate=n,this.Xc=i,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Bh||(this.Zc=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||xh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(o,u,a,c){c===void 0&&(c={});var f=(o=we(o,kl))._getSettings();if(f.host!=="firestore.googleapis.com"&&f.host!==u&&xh("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},f),{host:u+":"+a,ssl:!1})),c.mockUserToken){var d=gM(c.mockUserToken),v=c.mockUserToken.sub||c.mockUserToken.user_id;if(!v)throw new U(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o._credentials=new AF(new Yx(d,new Yt(v)))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return F(n,void 0,void 0,function(){var i,o;return M(this,function(u){switch(u.label){case 0:return[4,B_(t)];case 1:return i=u.sent(),[4,z_(t)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!0),function(a){var c=H(a);return c.Or.delete(0),Yl(c)}(o))]}})})})}(Ct(we(this._delegate,st)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return F(n,void 0,void 0,function(){var i,o;return M(this,function(u){switch(u.label){case 0:return[4,B_(t)];case 1:return i=u.sent(),[4,z_(t)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!1),function(a){return F(this,void 0,void 0,function(){var c;return M(this,function(f){switch(f.label){case 0:return(c=H(a)).Or.add(0),[4,xu(c)];case 1:return f.sent(),c.Br.set("Offline"),[2]}})})}(o))]}})})})}(Ct(we(this._delegate,st)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&Jx("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new In;return t.asyncQueue.enqueueAndForget(function(){return F(n,void 0,void 0,function(){var o;return M(this,function(u){switch(u.label){case 0:return o=pF,[4,Xx(t)];case 1:return[2,o.apply(void 0,[u.sent(),i])]}})})}),i.promise}(Ct(we(this._delegate,st)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(o,u){var a=this,c=new Pd(u);return o.asyncQueue.enqueueAndForget(function(){return F(a,void 0,void 0,function(){var f;return M(this,function(d){switch(d.label){case 0:return f=function(v,m){H(v).Gr.add(m),m.next()},[4,Eu(o)];case 1:return[2,f.apply(void 0,[d.sent(),c])]}})})}),function(){c.Wo(),o.asyncQueue.enqueueAndForget(function(){return F(a,void 0,void 0,function(){var f;return M(this,function(d){switch(d.label){case 0:return f=function(v,m){H(v).Gr.delete(m)},[4,Eu(o)];case 1:return[2,f.apply(void 0,[d.sent(),c])]}})})})}}(Ct(n=we(n,st)),Iu(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Zc)throw new U(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Kh(this,Zx(this._delegate,t))}catch(n){throw jt(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new bo(this,Gf(this._delegate,t))}catch(n){throw jt(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new $d(this,function(n,i){if(n=we(n,kl),Pw("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new U(D.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new yn(n,null,function(o){return new Kr(ye.emptyPath(),o)}(i))}(this._delegate,t))}catch(n){throw jt(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,o){return function(u,a){var c=this,f=new In;return u.asyncQueue.enqueueAndForget(function(){return F(c,void 0,void 0,function(){var d;return M(this,function(v){switch(v.label){case 0:return[4,function(m){return Od(m).then(function(y){return y.datastore})}(u)];case 1:return d=v.sent(),new NF(u.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(Ct(i),function(u){return o(new XF(i,u))})}(this._delegate,function(i){return t(new yA(n,i))})},e.prototype.batch=function(){var t=this;return Ct(this._delegate),new wA(new QF(this._delegate,function(n){return Nl(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new U(D.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new U(D.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Ud=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return ee(t,e),t.prototype.convertBytes=function(n){return new mA(new Fo(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return bo.tu(i,this.firestore,null)},t}(Vw);function JF(e){var t;t=e,Xn.setLogLevel(t)}var yA=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Ud(t)}return e.prototype.get=function(t){var n=this,i=Io(t);return this._delegate.get(i).then(function(o){return new Cl(n._firestore,new jr(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},e.prototype.set=function(t,n,i){var o=Io(t);return i?(Ow("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var c=Io(t);return arguments.length===2?this._delegate.update(c,n):(o=this._delegate).update.apply(o,ze([c,n,i],u)),this},e.prototype.delete=function(t){var n=Io(t);return this._delegate.delete(n),this},e}(),wA=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var o=Io(t);return i?(Ow("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var c=Io(t);return arguments.length===2?this._delegate.update(c,n):(o=this._delegate).update.apply(o,ze([c,n,i],u)),this},e.prototype.delete=function(t){var n=Io(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Vd=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new Wa(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new xl(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.eu=function(t,n){var i=e.nu,o=i.get(t);o||(o=new WeakMap,i.set(t,o));var u=o.get(n);return u||(u=new e(t,new Ud(t),n),o.set(n,u)),u},e}();Vd.nu=new WeakMap;var bo=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Ud(t)}return e.su=function(t,n,i){if(t.length%2!=0)throw new U(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new je(n._delegate,i,new J(t)))},e.tu=function(t,n,i){return new e(n,new je(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Kh(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Kh(this.firestore,Zx(this._delegate,t))}catch(n){throw jt(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=tt(t))instanceof je&&eA(this._delegate,t)},e.prototype.set=function(t,n){n=Ow("DocumentReference.set",n);try{return function(i,o,u){i=we(i,je);var a=we(i.firestore,st),c=Fd(i.converter,o,u);return Nl(a,[jd(Wo(a),"setDoc",i._key,c,i.converter!==null,u).toMutation(i._key,xt.none())])}(this._delegate,t,n)}catch(i){throw jt(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?ok(this._delegate,t):ok.apply(void 0,ze([this._delegate,t,n],i))}catch(u){throw jt(u,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Nl(we((t=this._delegate).firestore,st),[new Xl(t._key,xt.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=EA(n),u=IA(n,function(a){return new Cl(t.firestore,new jr(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return vA(this._delegate,o,u)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=we(i,je);var o=we(i.firestore,st),u=Ct(o),a=new ko(o);return function(c,f){var d=this,v=new In;return c.asyncQueue.enqueueAndForget(function(){return F(d,void 0,void 0,function(){var m;return M(this,function(y){switch(y.label){case 0:return m=function(E,T,k){return F(this,void 0,void 0,function(){var x,S;return M(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,function(_,A){var L=H(_);return L.persistence.runTransaction("read document","readonly",function(R){return L.Mn.mn(R,A)})}(E,T)];case 1:return(S=I.sent()).isFoundDocument()?k.resolve(S):S.isNoDocument()?k.resolve(null):k.reject(new U(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return x=I.sent(),S=Ru(x,"Failed to get document '"+T+" from cache"),k.reject(S),[3,3];case 3:return[2]}})})},[4,Qx(c)];case 1:return[2,m.apply(void 0,[y.sent(),f,v])]}})})}),v.promise}(u,i._key).then(function(c){return new jr(o,a,i._key,c,new Eo(c!==null&&c.hasLocalMutations,!0),i.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=we(i,je);var o=we(i.firestore,st);return q_(Ct(o),i._key,{source:"server"}).then(function(u){return Ay(o,i,u)})}(this._delegate):function(i){i=we(i,je);var o=we(i.firestore,st);return q_(Ct(o),i._key).then(function(u){return Ay(o,i,u)})}(this._delegate)).then(function(i){return new Cl(n.firestore,new jr(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Vd.eu(this.firestore,t)):this._delegate.withConverter(null))},e}();function jt(e,t,n){return e.message=e.message.replace(t,n),e}function EA(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!Iu(i))return i}return{}}function IA(e,t){var n,i,o;return{next:function(u){o.next&&o.next(t(u))},error:(n=(o=Iu(e[0])?e[0]:Iu(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var Cl=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new bo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return fA(this._delegate,t._delegate)},e}(),xl=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Cl),$d=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Ud(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,ii(this._delegate,function(o,u,a){var c=u,f=qh("where",o);return new HF(f,c,a)}(t,n,i)))}catch(o){throw jt(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ii(this._delegate,function(i,o){o===void 0&&(o="asc");var u=o,a=qh("orderBy",i);return new WF(a,u)}(t,n)))}catch(i){throw jt(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ii(this._delegate,function(n){return X_("limit",n),new ek("limit",n,"F")}(t)))}catch(n){throw jt(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ii(this._delegate,function(n){return X_("limitToLast",n),new ek("limitToLast",n,"L")}(t)))}catch(n){throw jt(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ii(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new tk("startAt",i,!0)}).apply(void 0,t)))}catch(i){throw jt(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ii(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new tk("startAfter",i,!1)}).apply(void 0,t)))}catch(i){throw jt(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ii(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new nk("endBefore",i,!0)}).apply(void 0,t)))}catch(i){throw jt(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ii(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new nk("endAt",i,!1)}).apply(void 0,t)))}catch(i){throw jt(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return tA(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=we(i,yn);var o=we(i.firestore,st),u=Ct(o),a=new ko(o);return function(c,f){var d=this,v=new In;return c.asyncQueue.enqueueAndForget(function(){return F(d,void 0,void 0,function(){var m;return M(this,function(y){switch(y.label){case 0:return m=function(E,T,k){return F(this,void 0,void 0,function(){var x,S,I,_,A;return M(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,,3]),[4,Uh(E,T,!0)];case 1:return A=L.sent(),x=new $x(T,A.Bn),S=x._o(A.documents),I=x.applyChanges(S,!1),k.resolve(I.snapshot),[3,3];case 2:return _=L.sent(),A=Ru(_,"Failed to execute query '"+T+" against cache"),k.reject(A),[3,3];case 3:return[2]}})})},[4,Qx(c)];case 1:return[2,m.apply(void 0,[y.sent(),f,v])]}})})}),v.promise}(u,i._query).then(function(c){return new hi(o,a,i,c)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=we(i,yn);var o=we(i.firestore,st),u=Ct(o),a=new ko(o);return K_(u,i._query,{source:"server"}).then(function(c){return new hi(o,a,i,c)})}(this._delegate):function(i){i=we(i,yn);var o=we(i.firestore,st),u=Ct(o),a=new ko(o);return hA(i._query),K_(u,i._query).then(function(c){return new hi(o,a,i,c)})}(this._delegate)).then(function(i){return new Dy(n.firestore,new hi(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=EA(n),u=IA(n,function(a){return new Dy(t.firestore,new hi(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return vA(this._delegate,o,u)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Vd.eu(this.firestore,t)):this._delegate.withConverter(null))},e}(),ZF=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new xl(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Dy=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new $d(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new xl(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new ZF(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(o){t.call(n,new xl(i._firestore,o))})},e.prototype.isEqual=function(t){return fA(this._delegate,t._delegate)},e}(),Kh=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).firestore=n,o._delegate=i,o}return ee(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new bo(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new bo(this.firestore,n===void 0?Gf(this._delegate):Gf(this._delegate,n))}catch(i){throw jt(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(o,u){var a=we(o.firestore,st),c=Gf(o),f=Fd(o.converter,u);return Nl(a,[jd(Wo(o.firestore),"addDoc",c._key,f,o.converter!==null,{}).toMutation(c._key,xt.exists(!1))]).then(function(){return c})}(this._delegate,n).then(function(o){return new bo(i.firestore,o)})},t.prototype.isEqual=function(n){return eA(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Vd.eu(this.firestore,n)):this._delegate.withConverter(null))},t}($d);function Io(e){return we(e,je)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e8=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(gr.bind.apply(gr,ze([void 0],t)))}return e.documentId=function(){return new e(er.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=tt(t))instanceof gr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),t8=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new UF("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Lw("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new VF("arrayUnion",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new $F("arrayRemove",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new BF("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),n8={Firestore:gA,GeoPoint:Md,Timestamp:rn,Blob:mA,Transaction:yA,WriteBatch:wA,DocumentReference:bo,DocumentSnapshot:Cl,Query:$d,QueryDocumentSnapshot:xl,QuerySnapshot:Dy,CollectionReference:Kh,FieldPath:e8,FieldValue:t8,setLogLevel:JF,CACHE_SIZE_UNLIMITED:LF};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(e){(function(t,n){t.INTERNAL.registerComponent(new cd("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},n8)))})(e,function(t,n){return new gA(t,new st(t,n),new YF)}),e.registerVersion("@firebase/firestore","2.3.8")}r8(re);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,l){r!=Array.prototype&&r!=Object.prototype&&(r[s]=l.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var l=r[s];if(l&&l.Math==Math)return l}return globalThis}var i=n(this);function o(r,s){if(s){var l=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var p=r[h];p in l||(l[p]={}),l=l[p]}r=r[r.length-1],h=l[r],s=s(h),s!=h&&s!=null&&t(l,r,{configurable:!0,writable:!0,value:s})}}function u(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function a(r){var s=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:u(r)}}o("Promise",function(r){function s(w){this.b=0,this.c=void 0,this.a=[];var b=this.f();try{w(b.resolve,b.reject)}catch(O){b.reject(O)}}function l(){this.a=null}function h(w){return w instanceof s?w:new s(function(b){b(w)})}if(r)return r;l.prototype.b=function(w){if(this.a==null){this.a=[];var b=this;this.c(function(){b.g()})}this.a.push(w)};var p=i.setTimeout;l.prototype.c=function(w){p(w,0)},l.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var b=0;b<w.length;++b){var O=w[b];w[b]=null;try{O()}catch(j){this.f(j)}}}this.a=null},l.prototype.f=function(w){this.c(function(){throw w})},s.prototype.f=function(){function w(j){return function(ie){O||(O=!0,j.call(b,ie))}}var b=this,O=!1;return{resolve:w(this.m),reject:w(this.g)}},s.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof s)this.s(w);else{e:switch(typeof w){case"object":var b=w!=null;break e;case"function":b=!0;break e;default:b=!1}b?this.v(w):this.h(w)}},s.prototype.v=function(w){var b=void 0;try{b=w.then}catch(O){this.g(O);return}typeof b=="function"?this.u(b,w):this.h(w)},s.prototype.g=function(w){this.i(2,w)},s.prototype.h=function(w){this.i(1,w)},s.prototype.i=function(w,b){if(this.b!=0)throw Error("Cannot settle("+w+", "+b+"): Promise already settled in state"+this.b);this.b=w,this.c=b,this.l()},s.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)g.b(this.a[w]);this.a=null}};var g=new l;return s.prototype.s=function(w){var b=this.f();w.Ra(b.resolve,b.reject)},s.prototype.u=function(w,b){var O=this.f();try{w.call(b,O.resolve,O.reject)}catch(j){O.reject(j)}},s.prototype.then=function(w,b){function O(me,lt){return typeof me=="function"?function(br){try{j(me(br))}catch(wm){ie(wm)}}:lt}var j,ie,Ee=new s(function(me,lt){j=me,ie=lt});return this.Ra(O(w,j),O(b,ie)),Ee},s.prototype.catch=function(w){return this.then(void 0,w)},s.prototype.Ra=function(w,b){function O(){switch(j.b){case 1:w(j.c);break;case 2:b(j.c);break;default:throw Error("Unexpected state: "+j.b)}}var j=this;this.a==null?g.b(O):this.a.push(O)},s.resolve=h,s.reject=function(w){return new s(function(b,O){O(w)})},s.race=function(w){return new s(function(b,O){for(var j=a(w),ie=j.next();!ie.done;ie=j.next())h(ie.value).Ra(b,O)})},s.all=function(w){var b=a(w),O=b.next();return O.done?h([]):new s(function(j,ie){function Ee(br){return function(wm){me[br]=wm,lt--,lt==0&&j(me)}}var me=[],lt=0;do me.push(void 0),lt++,h(O.value).Ra(Ee(me.length-1),ie),O=b.next();while(!O.done)})},s});var c=c||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,v=null;function m(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function y(){}function E(r){var s=typeof r;return s!="object"?s:r?Array.isArray(r)?"array":s:"null"}function T(r){var s=E(r);return s=="array"||s=="object"&&typeof r.length=="number"}function k(r){return E(r)=="function"}function x(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function S(r){return Object.prototype.hasOwnProperty.call(r,I)&&r[I]||(r[I]=++_)}var I="closure_uid_"+(1e9*Math.random()>>>0),_=0;function A(r,s,l){return r.call.apply(r.bind,arguments)}function L(r,s,l){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,h),r.apply(s,p)}}return function(){return r.apply(s,arguments)}}function R(r,s,l){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R=A:R=L,R.apply(null,arguments)}function q(r,s){var l=Array.prototype.slice.call(arguments,1);return function(){var h=l.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function P(r,s){function l(){}l.prototype=s.prototype,r.bb=s.prototype,r.prototype=new l,r.prototype.constructor=r}function te(r){return r}function N(r,s,l){this.code=On+r,this.message=s||Ui[r]||"",this.a=l||null}P(N,Error),N.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},N.prototype.toJSON=function(){return this.w()};function pt(r){var s=r&&r.code;return s?new N(s.substring(On.length),r.message,r.serverResponse):null}var On="auth/",Ui={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Yo={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Vi(r){for(var s in Yo)if(Yo[s].id===r)return r=Yo[s],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var Er;Er=Vi("__EID__")?"__EID__":void 0;function Jo(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function K(r){if(Error.captureStackTrace)Error.captureStackTrace(this,K);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}P(K,Error),K.prototype.name="CustomError";function oe(r,s){r=r.split("%s");for(var l="",h=r.length-1,p=0;p<h;p++)l+=r[p]+(p<s.length?s[p]:"%s");K.call(this,l+r[h])}P(oe,K),oe.prototype.name="AssertionError";function se(r,s){throw new oe("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function be(r,s){this.c=r,this.f=s,this.b=0,this.a=null}be.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function qe(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function $i(){this.b=this.a=null}var tr=new be(function(){return new Ln},function(r){r.reset()});$i.prototype.add=function(r,s){var l=tr.get();l.set(r,s),this.b?this.b.next=l:this.a=l,this.b=l};function Ou(){var r=p1,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function Ln(){this.next=this.b=this.a=null}Ln.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},Ln.prototype.reset=function(){this.next=this.b=this.a=null};var Bi=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var l=0;l<r.length;l++)if(l in r&&r[l]===s)return l;return-1},Oe=Array.prototype.forEach?function(r,s,l){Array.prototype.forEach.call(r,s,l)}:function(r,s,l){for(var h=r.length,p=typeof r=="string"?r.split(""):r,g=0;g<h;g++)g in p&&s.call(l,p[g],g,r)};function OA(r,s){for(var l=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in l&&s.call(void 0,l[h],h,r)}var LA=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var l=r.length,h=[],p=0,g=typeof r=="string"?r.split(""):r,w=0;w<l;w++)if(w in g){var b=g[w];s.call(void 0,b,w,r)&&(h[p++]=b)}return h},ec=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var l=r.length,h=Array(l),p=typeof r=="string"?r.split(""):r,g=0;g<l;g++)g in p&&(h[g]=s.call(void 0,p[g],g,r));return h},MA=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var l=r.length,h=typeof r=="string"?r.split(""):r,p=0;p<l;p++)if(p in h&&s.call(void 0,h[p],p,r))return!0;return!1};function jA(r){e:{for(var s=mR,l=r.length,h=typeof r=="string"?r.split(""):r,p=0;p<l;p++)if(p in h&&s.call(void 0,h[p],p,r)){s=p;break e}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function Ir(r,s){return 0<=Bi(r,s)}function tc(r,s){s=Bi(r,s);var l;return(l=0<=s)&&Array.prototype.splice.call(r,s,1),l}function Mn(r,s){var l=0;OA(r,function(h,p){s.call(void 0,h,p,r)&&Array.prototype.splice.call(r,p,1).length==1&&l++})}function qd(r){return Array.prototype.concat.apply([],arguments)}function zi(r){var s=r.length;if(0<s){for(var l=Array(s),h=0;h<s;h++)l[h]=r[h];return l}return[]}var zw=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},FA=/&/g,UA=/</g,VA=/>/g,$A=/"/g,BA=/'/g,zA=/\x00/g,qA=/[\x00&<>"']/;function Te(r,s){return r.indexOf(s)!=-1}function Kd(r,s){return r<s?-1:r>s?1:0}var Zo;e:{var qw=f.navigator;if(qw){var Kw=qw.userAgent;if(Kw){Zo=Kw;break e}}Zo=""}function rt(r){return Te(Zo,r)}function Hw(r,s){for(var l in r)s.call(void 0,r[l],l,r)}function qi(r){for(var s in r)return!1;return!0}function Hr(r){var s={},l;for(l in r)s[l]=r[l];return s}var Ww="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kt(r,s){for(var l,h,p=1;p<arguments.length;p++){h=arguments[p];for(l in h)r[l]=h[l];for(var g=0;g<Ww.length;g++)l=Ww[g],Object.prototype.hasOwnProperty.call(h,l)&&(r[l]=h[l])}}function Gw(r,s){e:{try{var l=r&&r.ownerDocument,h=l&&(l.defaultView||l.parentWindow);if(h=h||f,h.Element&&h.Location){var p=h;break e}}catch{}p=null}if(p&&typeof p[s]<"u"&&(!r||!(r instanceof p[s])&&(r instanceof p.Location||r instanceof p.Element))){if(x(r))try{var g=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{g="<object could not be stringified>"}else g=r===void 0?"undefined":r===null?"null":typeof r;se("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,g)}}function nr(r,s){this.a=r===nc&&s||"",this.b=Qw}nr.prototype.ta=!0,nr.prototype.sa=function(){return this.a},nr.prototype.toString=function(){return"Const{"+this.a+"}"};function Hd(r){return r instanceof nr&&r.constructor===nr&&r.b===Qw?r.a:(se("expected object of type Const, got '"+r+"'"),"type_error:Const")}var Qw={},nc={},rc;function Xw(){if(rc===void 0){var r=null,s=f.trustedTypes;if(s&&s.createPolicy){try{r=s.createPolicy("goog#html",{createHTML:te,createScript:te,createScriptURL:te})}catch(l){f.console&&f.console.error(l.message)}rc=r}else rc=r}return rc}function es(r,s){this.a=s===Jw?r:""}es.prototype.ta=!0,es.prototype.sa=function(){return this.a.toString()},es.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Yw(r){return r instanceof es&&r.constructor===es?r.a:(se("expected object of type TrustedResourceUrl, got '"+r+"' of type "+E(r)),"type_error:TrustedResourceUrl")}function Wd(r,s){var l=Hd(r);if(!HA.test(l))throw Error("Invalid TrustedResourceUrl format: "+l);return r=l.replace(KA,function(h,p){if(!Object.prototype.hasOwnProperty.call(s,p))throw Error('Found marker, "'+p+'", in format string, "'+l+'", but no valid label mapping found in args: '+JSON.stringify(s));return h=s[p],h instanceof nr?Hd(h):encodeURIComponent(String(h))}),WA(r)}var KA=/%{(\w+)}/g,HA=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Jw={};function WA(r){var s=Xw();return r=s?s.createScriptURL(r):r,new es(r,Jw)}function Ht(r,s){this.a=s===Lu?r:""}Ht.prototype.ta=!0,Ht.prototype.sa=function(){return this.a.toString()},Ht.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function ic(r){return r instanceof Ht&&r.constructor===Ht?r.a:(se("expected object of type SafeUrl, got '"+r+"' of type "+E(r)),"type_error:SafeUrl")}var GA=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,QA=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Zw=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function e1(r){if(r instanceof Ht)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),Zw.test(r))r=new Ht(r,Lu);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var s=r.match(QA);r=s&&GA.test(s[1])?new Ht(r,Lu):null}return r}function t1(r){return r instanceof Ht?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),Zw.test(r)||(r="about:invalid#zClosurez"),new Ht(r,Lu))}var Lu={},n1=new Ht("about:invalid#zClosurez",Lu);function ts(r,s,l){this.a=l===r1?r:""}ts.prototype.ta=!0,ts.prototype.sa=function(){return this.a.toString()},ts.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function XA(r){return r instanceof ts&&r.constructor===ts?r.a:(se("expected object of type SafeHtml, got '"+r+"' of type "+E(r)),"type_error:SafeHtml")}var r1={};function YA(r,s){Gw(r,"HTMLScriptElement"),r.src=Yw(s),(s=r.ownerDocument&&r.ownerDocument.defaultView)&&s!=f?s=m(s.document):(v===null&&(v=m(f.document)),s=v),s&&r.setAttribute("nonce",s)}function i1(r,s,l,h){return r=r instanceof Ht?r:t1(r),s=s||f,l=l instanceof nr?Hd(l):l||"",s.open(ic(r),l,h,void 0)}function o1(r,s){for(var l=r.split("%s"),h="",p=Array.prototype.slice.call(arguments,1);p.length&&1<l.length;)h+=l.shift()+p.shift();return h+l.join("%s")}function Gd(r){return qA.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(FA,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(UA,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(VA,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace($A,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(BA,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(zA,"&#0;"))),r}function Qd(r){return Qd[" "](r),r}Qd[" "]=y;function JA(r,s){var l=nD;return Object.prototype.hasOwnProperty.call(l,r)?l[r]:l[r]=s(r)}var ZA=rt("Opera"),jn=rt("Trident")||rt("MSIE"),s1=rt("Edge"),eD=s1||jn,u1=rt("Gecko")&&!(Te(Zo.toLowerCase(),"webkit")&&!rt("Edge"))&&!(rt("Trident")||rt("MSIE"))&&!rt("Edge"),tD=Te(Zo.toLowerCase(),"webkit")&&!rt("Edge");function a1(){var r=f.document;return r?r.documentMode:void 0}var oc;e:{var Xd="",Yd=function(){var r=Zo;if(u1)return/rv:([^\);]+)(\)|;)/.exec(r);if(s1)return/Edge\/([\d\.]+)/.exec(r);if(jn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(tD)return/WebKit\/(\S+)/.exec(r);if(ZA)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(Yd&&(Xd=Yd?Yd[1]:""),jn){var Jd=a1();if(Jd!=null&&Jd>parseFloat(Xd)){oc=String(Jd);break e}}oc=Xd}var nD={};function l1(r){return JA(r,function(){for(var s=0,l=zw(String(oc)).split("."),h=zw(String(r)).split("."),p=Math.max(l.length,h.length),g=0;s==0&&g<p;g++){var w=l[g]||"",b=h[g]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],w[0].length==0&&b[0].length==0)break;s=Kd(w[1].length==0?0:parseInt(w[1],10),b[1].length==0?0:parseInt(b[1],10))||Kd(w[2].length==0,b[2].length==0)||Kd(w[2],b[2]),w=w[3],b=b[3]}while(s==0)}return 0<=s})}var Zd;if(f.document&&jn){var c1=a1();Zd=c1||parseInt(oc,10)||void 0}else Zd=void 0;var Wr=Zd;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var rD=!jn||9<=Number(Wr);function Mu(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function f1(r,s){Hw(s,function(l,h){l&&typeof l=="object"&&l.ta&&(l=l.sa()),h=="style"?r.style.cssText=l:h=="class"?r.className=l:h=="for"?r.htmlFor=l:h1.hasOwnProperty(h)?r.setAttribute(h1[h],l):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,l):r[h]=l})}var h1={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function iD(r,s,l){var h=arguments,p=document,g=String(h[0]),w=h[1];if(!rD&&w&&(w.name||w.type)){if(g=["<",g],w.name&&g.push(' name="',Gd(w.name),'"'),w.type){g.push(' type="',Gd(w.type),'"');var b={};Kt(b,w),delete b.type,w=b}g.push(">"),g=g.join("")}return g=sc(p,g),w&&(typeof w=="string"?g.className=w:Array.isArray(w)?g.className=w.join(" "):f1(g,w)),2<h.length&&oD(p,g,h),g}function oD(r,s,l){function h(b){b&&s.appendChild(typeof b=="string"?r.createTextNode(b):b)}for(var p=2;p<l.length;p++){var g=l[p];if(!T(g)||x(g)&&0<g.nodeType)h(g);else{e:{if(g&&typeof g.length=="number"){if(x(g)){var w=typeof g.item=="function"||typeof g.item=="string";break e}if(k(g)){w=typeof g.item=="function";break e}}w=!1}Oe(w?zi(g):g,h)}}}function sc(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function d1(r){f.setTimeout(function(){throw r},0)}var ep;function sD(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!rt("Presto")&&(r=function(){var p=sc(document,"IFRAME");p.style.display="none",document.documentElement.appendChild(p);var g=p.contentWindow;p=g.document,p.open(),p.close();var w="callImmediate"+Math.random(),b=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;p=R(function(O){(b=="*"||O.origin==b)&&O.data==w&&this.port1.onmessage()},this),g.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(w,b)}}}),typeof r<"u"&&!rt("Trident")&&!rt("MSIE")){var s=new r,l={},h=l;return s.port1.onmessage=function(){if(l.next!==void 0){l=l.next;var p=l.Hb;l.Hb=null,p()}},function(p){h.next={Hb:p},h=h.next,s.port2.postMessage(0)}}return function(p){f.setTimeout(p,0)}}function uc(r,s){ac||uD(),tp||(ac(),tp=!0),p1.add(r,s)}var ac;function uD(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);ac=function(){r.then(v1)}}else ac=function(){var s=v1;!k(f.setImmediate)||f.Window&&f.Window.prototype&&!rt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(ep||(ep=sD()),ep(s)):f.setImmediate(s)}}var tp=!1,p1=new $i;function v1(){for(var r;r=Ou();){try{r.a.call(r.b)}catch(s){d1(s)}qe(tr,r)}tp=!1}function ce(r,s){if(this.a=Ki,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=y)try{var l=this;r.call(s,function(h){Hi(l,ju,h)},function(h){if(!(h instanceof ns))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}Hi(l,Sr,h)})}catch(h){Hi(this,Sr,h)}}var Ki=0,ju=2,Sr=3;function m1(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}m1.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var g1=new be(function(){return new m1},function(r){r.reset()});function np(r,s,l){var h=g1.get();return h.g=r,h.b=s,h.f=l,h}function Z(r){if(r instanceof ce)return r;var s=new ce(y);return Hi(s,ju,r),s}function Ae(r){return new ce(function(s,l){l(r)})}function y1(r,s,l){S1(r,s,l,null)||uc(q(s,r))}function aD(r){return new ce(function(s,l){var h=r.length,p=[];if(h)for(var g=function(j,ie){h--,p[j]=ie,h==0&&s(p)},w=function(j){l(j)},b=0,O;b<r.length;b++)O=r[b],y1(O,q(g,b),w);else s(p)})}function w1(r){return new ce(function(s){var l=r.length,h=[];if(l)for(var p=function(b,O,j){l--,h[b]=O?{Qb:!0,value:j}:{Qb:!1,reason:j},l==0&&s(h)},g=0,w;g<r.length;g++)w=r[g],y1(w,q(p,g,!0),q(p,g,!1));else s(h)})}ce.prototype.then=function(r,s,l){return I1(this,k(r)?r:null,k(s)?s:null,l)},ce.prototype.$goog_Thenable=!0,e=ce.prototype,e.oa=function(r,s){return r=np(r,r,s),r.c=!0,rp(this,r),this},e.o=function(r,s){return I1(this,null,r,s)},e.cancel=function(r){if(this.a==Ki){var s=new ns(r);uc(function(){E1(this,s)},this)}};function E1(r,s){if(r.a==Ki)if(r.c){var l=r.c;if(l.b){for(var h=0,p=null,g=null,w=l.b;w&&(w.c||(h++,w.a==r&&(p=w),!(p&&1<h)));w=w.next)p||(g=w);p&&(l.a==Ki&&h==1?E1(l,s):(g?(h=g,h.next==l.f&&(l.f=h),h.next=h.next.next):_1(l),k1(l,p,Sr,s)))}r.c=null}else Hi(r,Sr,s)}function rp(r,s){r.b||r.a!=ju&&r.a!=Sr||T1(r),r.f?r.f.next=s:r.b=s,r.f=s}function I1(r,s,l,h){var p=np(null,null,null);return p.a=new ce(function(g,w){p.g=s?function(b){try{var O=s.call(h,b);g(O)}catch(j){w(j)}}:g,p.b=l?function(b){try{var O=l.call(h,b);O===void 0&&b instanceof ns?w(b):g(O)}catch(j){w(j)}}:w}),p.a.c=r,rp(r,p),p.a}e.$c=function(r){this.a=Ki,Hi(this,ju,r)},e.ad=function(r){this.a=Ki,Hi(this,Sr,r)};function Hi(r,s,l){r.a==Ki&&(r===l&&(s=Sr,l=new TypeError("Promise cannot resolve to itself")),r.a=1,S1(l,r.$c,r.ad,r)||(r.i=l,r.a=s,r.c=null,T1(r),s!=Sr||l instanceof ns||cD(r,l)))}function S1(r,s,l,h){if(r instanceof ce)return rp(r,np(s||y,l||null,h)),!0;if(Jo(r))return r.then(s,l,h),!0;if(x(r))try{var p=r.then;if(k(p))return lD(r,p,s,l,h),!0}catch(g){return l.call(h,g),!0}return!1}function lD(r,s,l,h,p){function g(O){b||(b=!0,h.call(p,O))}function w(O){b||(b=!0,l.call(p,O))}var b=!1;try{s.call(r,w,g)}catch(O){g(O)}}function T1(r){r.h||(r.h=!0,uc(r.gc,r))}function _1(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}e.gc=function(){for(var r;r=_1(this);)k1(this,r,this.a,this.i);this.h=!1};function k1(r,s,l,h){if(l==Sr&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,b1(s,l,h);else try{s.c?s.g.call(s.f):b1(s,l,h)}catch(p){N1.call(null,p)}qe(g1,s)}function b1(r,s,l){s==ju?r.g.call(r.f,l):r.b&&r.b.call(r.f,l)}function cD(r,s){r.g=!0,uc(function(){r.g&&N1.call(null,s)})}var N1=d1;function ns(r){K.call(this,r)}P(ns,K),ns.prototype.name="cancel";function lc(){this.ya=this.ya,this.pa=this.pa}var fD=0;lc.prototype.ya=!1;function C1(r){!r.ya&&(r.ya=!0,r.Da(),fD!=0)&&S(r)}lc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var hD=Object.freeze||function(r){return r},x1=!jn||9<=Number(Wr),dD=jn&&!l1("9"),pD=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",y,s),f.removeEventListener("test",y,s)}catch{}return r}();function Wt(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}Wt.prototype.preventDefault=function(){this.defaultPrevented=!0};function Wi(r,s){if(Wt.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var l=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(u1){e:{try{Qd(s.nodeName);var p=!0;break e}catch{}p=!1}p||(s=null)}}else l=="mouseover"?s=r.fromElement:l=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:vD[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}P(Wi,Wt);var vD=hD({2:"touch",3:"pen",4:"mouse"});Wi.prototype.preventDefault=function(){Wi.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,dD)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},Wi.prototype.g=function(){return this.a};var Fu="closure_listenable_"+(1e6*Math.random()|0),mD=0;function gD(r,s,l,h,p){this.listener=r,this.proxy=null,this.src=s,this.type=l,this.capture=!!h,this.Wa=p,this.key=++mD,this.wa=this.Qa=!1}function cc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function fc(r){this.src=r,this.a={},this.b=0}fc.prototype.add=function(r,s,l,h,p){var g=r.toString();r=this.a[g],r||(r=this.a[g]=[],this.b++);var w=op(r,s,h,p);return-1<w?(s=r[w],l||(s.Qa=!1)):(s=new gD(s,this.src,g,!!h,p),s.Qa=l,r.push(s)),s};function ip(r,s){var l=s.type;l in r.a&&tc(r.a[l],s)&&(cc(s),r.a[l].length==0&&(delete r.a[l],r.b--))}function op(r,s,l,h){for(var p=0;p<r.length;++p){var g=r[p];if(!g.wa&&g.listener==s&&g.capture==!!l&&g.Wa==h)return p}return-1}var sp="closure_lm_"+(1e6*Math.random()|0),up={};function _n(r,s,l,h,p){if(h&&h.once)ap(r,s,l,h,p);else if(Array.isArray(s))for(var g=0;g<s.length;g++)_n(r,s[g],l,h,p);else l=cp(l),r&&r[Fu]?L1(r,s,l,x(h)?!!h.capture:!!h,p):A1(r,s,l,!1,h,p)}function A1(r,s,l,h,p,g){if(!s)throw Error("Invalid event type");var w=x(p)?!!p.capture:!!p,b=hc(r);if(b||(r[sp]=b=new fc(r)),l=b.add(s,l,h,w,g),!l.proxy)if(h=yD(),l.proxy=h,h.src=r,h.listener=l,r.addEventListener)pD||(p=w),p===void 0&&(p=!1),r.addEventListener(s.toString(),h,p);else if(r.attachEvent)r.attachEvent(R1(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function yD(){var r=wD,s=x1?function(l){return r.call(s.src,s.listener,l)}:function(l){if(l=r.call(s.src,s.listener,l),!l)return l};return s}function ap(r,s,l,h,p){if(Array.isArray(s))for(var g=0;g<s.length;g++)ap(r,s[g],l,h,p);else l=cp(l),r&&r[Fu]?fp(r,s,l,x(h)?!!h.capture:!!h,p):A1(r,s,l,!0,h,p)}function un(r,s,l,h,p){if(Array.isArray(s))for(var g=0;g<s.length;g++)un(r,s[g],l,h,p);else h=x(h)?!!h.capture:!!h,l=cp(l),r&&r[Fu]?(r=r.v,s=String(s).toString(),s in r.a&&(g=r.a[s],l=op(g,l,h,p),-1<l&&(cc(g[l]),Array.prototype.splice.call(g,l,1),g.length==0&&(delete r.a[s],r.b--)))):r&&(r=hc(r))&&(s=r.a[s.toString()],r=-1,s&&(r=op(s,l,h,p)),(l=-1<r?s[r]:null)&&D1(l))}function D1(r){if(typeof r!="number"&&r&&!r.wa){var s=r.src;if(s&&s[Fu])ip(s.v,r);else{var l=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(l,h,r.capture):s.detachEvent?s.detachEvent(R1(l),h):s.addListener&&s.removeListener&&s.removeListener(h),(l=hc(s))?(ip(l,r),l.b==0&&(l.src=null,s[sp]=null)):cc(r)}}}function R1(r){return r in up?up[r]:up[r]="on"+r}function P1(r,s,l,h){var p=!0;if((r=hc(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var g=s[r];g&&g.capture==l&&!g.wa&&(g=O1(g,h),p=p&&g!==!1)}return p}function O1(r,s){var l=r.listener,h=r.Wa||r.src;return r.Qa&&D1(r),l.call(h,s)}function wD(r,s){if(r.wa)return!0;if(!x1){if(!s)e:{s=["window","event"];for(var l=f,h=0;h<s.length;h++)if(l=l[s[h]],l==null){s=null;break e}s=l}if(h=s,s=new Wi(h,this),l=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var p=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{p=!0}(p||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],p=s.b;p;p=p.parentNode)h.push(p);for(r=r.type,p=h.length-1;0<=p;p--){s.b=h[p];var g=P1(h[p],r,!0,s);l=l&&g}for(p=0;p<h.length;p++)s.b=h[p],g=P1(h[p],r,!1,s),l=l&&g}return l}return O1(r,new Wi(s,this))}function hc(r){return r=r[sp],r instanceof fc?r:null}var lp="__closure_events_fn_"+(1e9*Math.random()>>>0);function cp(r){return k(r)?r:(r[lp]||(r[lp]=function(s){return r.handleEvent(s)}),r[lp])}function Ot(){lc.call(this),this.v=new fc(this),this.bc=this,this.hb=null}P(Ot,lc),Ot.prototype[Fu]=!0,Ot.prototype.addEventListener=function(r,s,l,h){_n(this,r,s,l,h)},Ot.prototype.removeEventListener=function(r,s,l,h){un(this,r,s,l,h)},Ot.prototype.dispatchEvent=function(r){var s,l=this.hb;if(l)for(s=[];l;l=l.hb)s.push(l);l=this.bc;var h=r.type||r;if(typeof r=="string")r=new Wt(r,l);else if(r instanceof Wt)r.target=r.target||l;else{var p=r;r=new Wt(h,l),Kt(r,p)}if(p=!0,s)for(var g=s.length-1;0<=g;g--){var w=r.b=s[g];p=dc(w,h,!0,r)&&p}if(w=r.b=l,p=dc(w,h,!0,r)&&p,p=dc(w,h,!1,r)&&p,s)for(g=0;g<s.length;g++)w=r.b=s[g],p=dc(w,h,!1,r)&&p;return p},Ot.prototype.Da=function(){if(Ot.bb.Da.call(this),this.v){var r=this.v,s;for(s in r.a){for(var l=r.a[s],h=0;h<l.length;h++)cc(l[h]);delete r.a[s],r.b--}}this.hb=null};function L1(r,s,l,h,p){r.v.add(String(s),l,!1,h,p)}function fp(r,s,l,h,p){r.v.add(String(s),l,!0,h,p)}function dc(r,s,l,h){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var p=!0,g=0;g<s.length;++g){var w=s[g];if(w&&!w.wa&&w.capture==l){var b=w.listener,O=w.Wa||w.src;w.Qa&&ip(r.v,w),p=b.call(O,h)!==!1&&p}}return p&&!h.defaultPrevented}function hp(r,s,l){if(k(r))l&&(r=R(r,l));else if(r&&typeof r.handleEvent=="function")r=R(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:f.setTimeout(r,s||0)}function rs(r){var s=null;return new ce(function(l,h){s=hp(function(){l(void 0)},r),s==-1&&h(Error("Failed to schedule timer."))}).o(function(l){throw f.clearTimeout(s),l})}function M1(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(T(r)){for(var s=[],l=r.length,h=0;h<l;h++)s.push(r[h]);return s}s=[],l=0;for(h in r)s[l++]=r[h];return s}function j1(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(T(r)||typeof r=="string"){var s=[];r=r.length;for(var l=0;l<r;l++)s.push(l);return s}s=[],l=0;for(var h in r)s[l++]=h;return s}}function ED(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(T(r)||typeof r=="string")Oe(r,s,void 0);else for(var l=j1(r),h=M1(r),p=h.length,g=0;g<p;g++)s.call(void 0,h[g],l&&l[g],r)}function is(r,s){this.b={},this.a=[],this.c=0;var l=arguments.length;if(1<l){if(l%2)throw Error("Uneven number of arguments");for(var h=0;h<l;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof is)for(l=r.Y(),h=0;h<l.length;h++)this.set(l[h],r.get(l[h]));else for(h in r)this.set(h,r[h])}e=is.prototype,e.X=function(){dp(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},e.Y=function(){return dp(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function dp(r){if(r.c!=r.a.length){for(var s=0,l=0;s<r.a.length;){var h=r.a[s];Gi(r.b,h)&&(r.a[l++]=h),s++}r.a.length=l}if(r.c!=r.a.length){var p={};for(l=s=0;s<r.a.length;)h=r.a[s],Gi(p,h)||(r.a[l++]=h,p[h]=1),s++;r.a.length=l}}e.get=function(r,s){return Gi(this.b,r)?this.b[r]:s},e.set=function(r,s){Gi(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},e.forEach=function(r,s){for(var l=this.Y(),h=0;h<l.length;h++){var p=l[h],g=this.get(p);r.call(s,g,p,this)}};function Gi(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var F1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ID(r,s){if(r){r=r.split("&");for(var l=0;l<r.length;l++){var h=r[l].indexOf("="),p=null;if(0<=h){var g=r[l].substring(0,h);p=r[l].substring(h+1)}else g=r[l];s(g,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function Gr(r,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var l;r instanceof Gr?(this.i=s!==void 0?s:r.i,Uu(this,r.c),this.l=r.l,this.a=r.a,Vu(this,r.g),this.f=r.f,pp(this,B1(r.b)),this.h=r.h):r&&(l=String(r).match(F1))?(this.i=!!s,Uu(this,l[1]||"",!0),this.l=$u(l[2]||""),this.a=$u(l[3]||"",!0),Vu(this,l[4]),this.f=$u(l[5]||"",!0),pp(this,l[6]||"",!0),this.h=$u(l[7]||"")):(this.i=!!s,this.b=new Qi(null,this.i))}Gr.prototype.toString=function(){var r=[],s=this.c;s&&r.push(Bu(s,U1,!0),":");var l=this.a;return(l||s=="file")&&(r.push("//"),(s=this.l)&&r.push(Bu(s,U1,!0),"@"),r.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l=this.g,l!=null&&r.push(":",String(l))),(l=this.f)&&(this.a&&l.charAt(0)!="/"&&r.push("/"),r.push(Bu(l,l.charAt(0)=="/"?_D:TD,!0))),(l=this.b.toString())&&r.push("?",l),(l=this.h)&&r.push("#",Bu(l,bD)),r.join("")},Gr.prototype.resolve=function(r){var s=new Gr(this),l=!!r.c;l?Uu(s,r.c):l=!!r.l,l?s.l=r.l:l=!!r.a,l?s.a=r.a:l=r.g!=null;var h=r.f;if(l)Vu(s,r.g);else if(l=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var p=s.f.lastIndexOf("/");p!=-1&&(h=s.f.substr(0,p+1)+h)}if(p=h,p==".."||p==".")h="";else if(Te(p,"./")||Te(p,"/.")){h=p.lastIndexOf("/",0)==0,p=p.split("/");for(var g=[],w=0;w<p.length;){var b=p[w++];b=="."?h&&w==p.length&&g.push(""):b==".."?((1<g.length||g.length==1&&g[0]!="")&&g.pop(),h&&w==p.length&&g.push("")):(g.push(b),h=!0)}h=g.join("/")}else h=p}return l?s.f=h:l=r.b.toString()!=="",l?pp(s,B1(r.b)):l=!!r.h,l&&(s.h=r.h),s};function Uu(r,s,l){r.c=l?$u(s,!0):s,r.c&&(r.c=r.c.replace(/:$/,""))}function Vu(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function pp(r,s,l){s instanceof Qi?(r.b=s,ND(r.b,r.i)):(l||(s=Bu(s,kD)),r.b=new Qi(s,r.i))}function Ke(r,s,l){r.b.set(s,l)}function kn(r,s){return r.b.get(s)}function Gt(r){return r instanceof Gr?new Gr(r):new Gr(r,void 0)}function pc(r,s,l,h){var p=new Gr(null,void 0);return r&&Uu(p,r),s&&(p.a=s),l&&Vu(p,l),h&&(p.f=h),p}function $u(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Bu(r,s,l){return typeof r=="string"?(r=encodeURI(r).replace(s,SD),l&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function SD(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var U1=/[#\/\?@]/g,TD=/[#\?:]/g,_D=/[#\?]/g,kD=/[#\?@]/g,bD=/#/g;function Qi(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function Qr(r){r.a||(r.a=new is,r.b=0,r.c&&ID(r.c,function(s,l){r.add(decodeURIComponent(s.replace(/\+/g," ")),l)}))}function V1(r){var s=j1(r);if(typeof s>"u")throw Error("Keys are undefined");var l=new Qi(null,void 0);r=M1(r);for(var h=0;h<s.length;h++){var p=s[h],g=r[h];Array.isArray(g)?$1(l,p,g):l.add(p,g)}return l}e=Qi.prototype,e.add=function(r,s){Qr(this),this.c=null,r=os(this,r);var l=this.a.get(r);return l||this.a.set(r,l=[]),l.push(s),this.b+=1,this};function rr(r,s){Qr(r),s=os(r,s),Gi(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,Gi(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&dp(r)))}e.clear=function(){this.a=this.c=null,this.b=0};function vp(r,s){return Qr(r),s=os(r,s),Gi(r.a.b,s)}e.forEach=function(r,s){Qr(this),this.a.forEach(function(l,h){Oe(l,function(p){r.call(s,p,h,this)},this)},this)},e.Y=function(){Qr(this);for(var r=this.a.X(),s=this.a.Y(),l=[],h=0;h<s.length;h++)for(var p=r[h],g=0;g<p.length;g++)l.push(s[h]);return l},e.X=function(r){Qr(this);var s=[];if(typeof r=="string")vp(this,r)&&(s=qd(s,this.a.get(os(this,r))));else{r=this.a.X();for(var l=0;l<r.length;l++)s=qd(s,r[l])}return s},e.set=function(r,s){return Qr(this),this.c=null,r=os(this,r),vp(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},e.get=function(r,s){return r?(r=this.X(r),0<r.length?String(r[0]):s):s};function $1(r,s,l){rr(r,s),0<l.length&&(r.c=null,r.a.set(os(r,s),zi(l)),r.b+=l.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),l=0;l<s.length;l++){var h=s[l],p=encodeURIComponent(String(h));h=this.X(h);for(var g=0;g<h.length;g++){var w=p;h[g]!==""&&(w+="="+encodeURIComponent(String(h[g]))),r.push(w)}}return this.c=r.join("&")};function B1(r){var s=new Qi;return s.c=r.c,r.a&&(s.a=new is(r.a),s.b=r.b),s}function os(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function ND(r,s){s&&!r.f&&(Qr(r),r.c=null,r.a.forEach(function(l,h){var p=h.toLowerCase();h!=p&&(rr(this,h),$1(this,p,l))},r)),r.f=s}function z1(r){var s=[];return mp(new CD,r,s),s.join("")}function CD(){}function mp(r,s,l){if(s==null)l.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var h=s;s=h.length,l.push("[");for(var p="",g=0;g<s;g++)l.push(p),mp(r,h[g],l),p=",";l.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{l.push("{"),p="";for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(g=s[h],typeof g!="function"&&(l.push(p),K1(h,l),l.push(":"),mp(r,g,l),p=","));l.push("}");return}}switch(typeof s){case"string":K1(s,l);break;case"number":l.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":l.push(String(s));break;case"function":l.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var q1={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},xD=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function K1(r,s){s.push('"',r.replace(xD,function(l){var h=q1[l];return h||(h="\\u"+(l.charCodeAt(0)|65536).toString(16).substr(1),q1[l]=h),h}),'"')}function gp(){var r=vt();return jn&&!!Wr&&Wr==11||/Edge\/\d+/.test(r)}function zu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function H1(r,s){s=s||f.window;var l="about:blank";r&&(l=ic(e1(r)||n1)),s.location.href=l}function W1(r,s){var l=[],h;for(h in r)h in s?typeof r[h]!=typeof s[h]?l.push(h):typeof r[h]=="object"&&r[h]!=null&&s[h]!=null?0<W1(r[h],s[h]).length&&l.push(h):r[h]!==s[h]&&l.push(h):l.push(h);for(h in s)h in r||l.push(h);return l}function AD(){var r=vt();return r=ss(r)!=Y1?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!jn||!Wr||9<Wr}function G1(r){return r=(r||vt()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function Xi(r){r=r||f.window;try{r.close()}catch{}}function Q1(r,s,l){var h=Math.floor(1e9*Math.random()).toString();s=s||500,l=l||600;var p=(window.screen.availHeight-l)/2,g=(window.screen.availWidth-s)/2;s={width:s,height:l,top:0<p?p:0,left:0<g?g:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},l=vt().toLowerCase(),h&&(s.target=h,Te(l,"crios/")&&(s.target="_blank")),ss(vt())==Ep&&(r=r||"http://localhost",s.scrollbars=!0),l=r||"",(r=s)||(r={}),h=window,s=l instanceof Ht?l:e1(typeof l.href<"u"?l.href:String(l))||n1,l=r.target||l.target,p=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":p.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(w+"="+(r[w]?1:0))}var w=p.join(",");if((rt("iPhone")&&!rt("iPod")&&!rt("iPad")||rt("iPad")||rt("iPod"))&&h.navigator&&h.navigator.standalone&&l&&l!="_self"?(w=sc(document,"A"),Gw(w,"HTMLAnchorElement"),s=s instanceof Ht?s:t1(s),w.href=ic(s),w.setAttribute("target",l),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=i1("",h,l,w),r=ic(s),w&&(eD&&Te(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Gd(r)+'">',r=(h=Xw())?h.createHTML(r):r,r=new ts(r,null,r1),h=w.document)&&(h.write(XA(r)),h.close())):(w=i1(s,h,l,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function DD(r){return new ce(function(s){function l(){rs(2e3).then(function(){if(!r||r.closed)s();else return l()})}return l()})}var RD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PD=/^[^@]+@[^@]+$/;function vc(){var r=null;return new ce(function(s){f.document.readyState=="complete"?s():(r=function(){s()},ap(window,"load",r))}).o(function(s){throw un(window,"load",r),s})}function OD(){return yp(void 0)?vc().then(function(){return new ce(function(r,s){var l=f.document,h=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);l.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):Ae(Error("Cordova must run in an Android or iOS file scheme."))}function yp(r){return r=r||vt(),!(as()!=="file:"&&as()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function wp(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function Fn(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function ir(){return re.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":re.INTERNAL.hasOwnProperty("node")?"Node":Fn()?"Worker":"Browser"}function X1(){var r=ir();return r==="ReactNative"||r==="Node"}function LD(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var Ep="Firefox",Y1="Chrome";function ss(r){var s=r.toLowerCase();if(Te(s,"opera/")||Te(s,"opr/")||Te(s,"opios/"))return"Opera";if(Te(s,"iemobile"))return"IEMobile";if(Te(s,"msie")||Te(s,"trident/"))return"IE";if(Te(s,"edge/"))return"Edge";if(Te(s,"firefox/"))return Ep;if(Te(s,"silk/"))return"Silk";if(Te(s,"blackberry"))return"Blackberry";if(Te(s,"webos"))return"Webos";if(!Te(s,"safari/")||Te(s,"chrome/")||Te(s,"crios/")||Te(s,"android"))if(!Te(s,"chrome/")&&!Te(s,"crios/")||Te(s,"edge/")){if(Te(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return Y1;else return"Safari";return"Other"}var J1={md:"FirebaseCore-web",od:"FirebaseUI-web"};function us(r,s){s=s||[];var l=[],h={},p;for(p in J1)h[J1[p]]=!0;for(p=0;p<s.length;p++)typeof h[s[p]]<"u"&&(delete h[s[p]],l.push(s[p]));return l.sort(),s=l,s.length||(s=["FirebaseCore-web"]),l=ir(),l==="Browser"?(h=vt(),l=ss(h)):l==="Worker"&&(h=vt(),l=ss(h)+"-"+l),l+"/JsCore/"+r+"/"+s.join(",")}function vt(){return f.navigator&&f.navigator.userAgent||""}function De(r,s){r=r.split("."),s=s||f;for(var l=0;l<r.length&&typeof s=="object"&&s!=null;l++)s=s[r[l]];return l!=r.length&&(s=void 0),s}function Ip(){try{var r=f.localStorage,s=Ji();if(r)return r.setItem(s,"1"),r.removeItem(s),gp()?!!f.indexedDB:!0}catch{return Fn()&&!!f.indexedDB}return!1}function Yi(){return(mc()||as()==="chrome-extension:"||yp())&&!X1()&&Ip()&&!Fn()}function mc(){return as()==="http:"||as()==="https:"}function as(){return f.location&&f.location.protocol||null}function qu(r){return r=r||vt(),!(G1(r)||ss(r)==Ep)}function Ku(r){return typeof r>"u"?null:z1(r)}function Z1(r){var s={},l;for(l in r)r.hasOwnProperty(l)&&r[l]!==null&&r[l]!==void 0&&(s[l]=r[l]);return s}function ls(r){if(r!==null)return JSON.parse(r)}function Ji(r){return r||Math.floor(1e9*Math.random()).toString()}function eE(r){return r=r||vt(),!(ss(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function tE(){var r=f.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var l=0;l<r.CP.length;l++)r.CP[l]=null}}function Xr(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=vt(),s=ir(),this.b=G1(r)||s==="ReactNative"}Xr.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(mc()||as()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Sp(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function MD(){var r=f.document,s=null;return Sp()||!r?Z():new ce(function(l){s=function(){Sp()&&(r.removeEventListener("visibilitychange",s,!1),l())},r.addEventListener("visibilitychange",s,!1)}).o(function(l){throw r.removeEventListener("visibilitychange",s,!1),l})}function Hu(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function nE(){return!(!De("fireauth.oauthhelper",f)&&!De("fireauth.iframe",f))}function jD(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function FD(){var r=f.navigator;return r&&r.serviceWorker?Z().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):Z(null)}var rE={};function Tp(r){rE[r]||(rE[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var _p;try{var kp={};Object.defineProperty(kp,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(kp,"abcd",{configurable:!0,enumerable:!0,value:2}),_p=kp.abcd==2}catch{_p=!1}function X(r,s,l){_p?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:l}):r[s]=l}function Lt(r,s){if(s)for(var l in s)s.hasOwnProperty(l)&&X(r,l,s[l])}function or(r){var s={};return Lt(s,r),s}function UD(r){var s={},l;for(l in r)r.hasOwnProperty(l)&&(s[l]=r[l]);return s}function VD(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var l=0;l<s.length;l++){var h=r[s[l]];if(h==null||h==="")return!1}return!0}function bp(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var l in r)X(s,l,bp(r[l]))}return s}function Np(r){var s=r&&(r[Dp]?"phone":null);if(s&&r&&r[Ap]){X(this,"uid",r[Ap]),X(this,"displayName",r[iE]||null);var l=null;r[xp]&&(l=new Date(r[xp]).toUTCString()),X(this,"enrollmentTime",l),X(this,"factorId",s)}else throw new N("internal-error","Internal assert: invalid MultiFactorInfo object")}Np.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Cp(r){try{var s=new Wu(r)}catch{s=null}return s}var iE="displayName",xp="enrolledAt",Ap="mfaEnrollmentId",Dp="phoneInfo";function Wu(r){Np.call(this,r),X(this,"phoneNumber",r[Dp])}P(Wu,Np),Wu.prototype.w=function(){var r=Wu.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function $D(r){var s={},l=r[BD],h=r[qD],p=r[KD];if(r=Cp(r[zD]),!p||p!=gc&&p!=Gu&&!l||p==Gu&&!h||p==Rp&&!r)throw Error("Invalid checkActionCode response!");p==Gu?(s[sE]=l||null,s[uE]=l||null,s[oE]=h):(s[sE]=h||null,s[uE]=h||null,s[oE]=l||null),s[HD]=r||null,X(this,GD,p),X(this,WD,bp(s))}var Rp="REVERT_SECOND_FACTOR_ADDITION",gc="EMAIL_SIGNIN",Gu="VERIFY_AND_CHANGE_EMAIL",BD="email",zD="mfaInfo",qD="newEmail",KD="requestType",oE="email",sE="fromEmail",HD="multiFactorInfo",uE="previousEmail",WD="data",GD="operation";function Pp(r){r=Gt(r);var s=kn(r,aE)||null,l=kn(r,lE)||null,h=kn(r,cE)||null;if(h=h&&JD[h]||null,!s||!l||!h)throw new N("argument-error",aE+", "+lE+"and "+cE+" are required in a valid action code URL.");Lt(this,{apiKey:s,operation:h,code:l,continueUrl:kn(r,QD)||null,languageCode:kn(r,XD)||null,tenantId:kn(r,YD)||null})}var aE="apiKey",lE="oobCode",QD="continueUrl",XD="languageCode",cE="mode",YD="tenantId",JD={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Rp,signIn:gc,verifyAndChangeEmail:Gu,verifyEmail:"VERIFY_EMAIL"};function fE(r){try{return new Pp(r)}catch{return null}}function yc(r){var s=r[ZD];if(typeof s>"u")throw new N("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new N("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var l=r[hE];if(l&&typeof l=="object"){s=l[gE];var h=l[vE];if(l=l[mE],typeof s=="string"&&s.length){if(this.a=s,typeof h<"u"&&typeof h!="boolean")throw new N("argument-error",vE+" property must be a boolean when specified.");if(this.g=!!h,typeof l<"u"&&(typeof l!="string"||typeof l=="string"&&!l.length))throw new N("argument-error",mE+" property must be a non empty string when specified.");this.b=l||null}else{if(typeof s<"u")throw new N("argument-error",gE+" property must be a non empty string when specified.");if(typeof h<"u"||typeof l<"u")throw new N("missing-android-pkg-name")}}else if(typeof l<"u")throw new N("argument-error",hE+" property must be a non null object when specified.");if(this.f=null,(s=r[pE])&&typeof s=="object"){if(s=s[yE],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new N("argument-error",yE+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new N("argument-error",pE+" property must be a non null object when specified.");if(s=r[Op],typeof s<"u"&&typeof s!="boolean")throw new N("argument-error",Op+" property must be a boolean when specified.");if(this.c=!!s,r=r[dE],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new N("argument-error",dE+" property must be a non empty string when specified.");this.i=r||null}var hE="android",dE="dynamicLinkDomain",Op="handleCodeInApp",pE="iOS",ZD="url",vE="installApp",mE="minimumVersion",gE="packageName",yE="bundleId";function wc(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var l in s)s[l]===null&&delete s[l];return s}function eR(r){return ec(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var Qu=null;function tR(r){var s=[];return nR(r,function(l){s.push(l)}),s}function nR(r,s){function l(O){for(;h<r.length;){var j=r.charAt(h++),ie=Qu[j];if(ie!=null)return ie;if(!/^[\s\xa0]*$/.test(j))throw Error("Unknown base64 encoding at char: "+j)}return O}rR();for(var h=0;;){var p=l(-1),g=l(0),w=l(64),b=l(64);if(b===64&&p===-1)break;s(p<<2|g>>4),w!=64&&(s(g<<4&240|w>>2),b!=64&&s(w<<6&192|b))}}function rR(){if(!Qu){Qu={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],l=0;5>l;l++)for(var h=r.concat(s[l].split("")),p=0;p<h.length;p++){var g=h[p];Qu[g]===void 0&&(Qu[g]=p)}}}function Ec(r){var s=wE(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=r,this.a=s.exp,this.i=s.sub,r=Date.now()/1e3,this.g=s.iat||(r>this.a?this.a:r),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}Ec.prototype.T=function(){return this.f},Ec.prototype.l=function(){return this.c},Ec.prototype.toString=function(){return this.h};function Ic(r){try{return new Ec(r)}catch{return null}}function wE(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,l=0;l<s;l++)r+=".";try{var h=tR(r);for(r=[],l=s=0;s<h.length;){var p=h[s++];if(128>p)r[l++]=String.fromCharCode(p);else if(191<p&&224>p){var g=h[s++];r[l++]=String.fromCharCode((p&31)<<6|g&63)}else if(239<p&&365>p){g=h[s++];var w=h[s++],b=h[s++],O=((p&7)<<18|(g&63)<<12|(w&63)<<6|b&63)-65536;r[l++]=String.fromCharCode(55296+(O>>10)),r[l++]=String.fromCharCode(56320+(O&1023))}else g=h[s++],w=h[s++],r[l++]=String.fromCharCode((p&15)<<12|(g&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var EE="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Sc=["client_id","response_type","scope","redirect_uri","state"],Lp={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Sc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Sc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Sc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:EE},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Mp(r){for(var s in Lp)if(Lp[s].fa==r)return Lp[s];return null}function IE(r){var s={};s["facebook.com"]=TE,s["google.com"]=kE,s["github.com"]=_E,s["twitter.com"]=bE;var l=r&&r[SE];try{if(l)return s[l]?new s[l](r):new sr(r);if(typeof r[jp]<"u")return new Fp(r)}catch{}return null}var jp="idToken",SE="providerId";function Fp(r){var s=r[SE];if(!s&&r[jp]){var l=Ic(r[jp]);l&&l.b&&(s=l.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),l=!1,typeof r.isNewUser<"u"?l=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(l=!0),X(this,"providerId",s),X(this,"isNewUser",l)}function sr(r){Fp.call(this,r),r=ls(r.rawUserInfo||"{}"),X(this,"profile",bp(r||{}))}P(sr,Fp);function TE(r){if(sr.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}P(TE,sr);function _E(r){if(sr.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");X(this,"username",this.profile&&this.profile.login||null)}P(_E,sr);function kE(r){if(sr.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}P(kE,sr);function bE(r){if(sr.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");X(this,"username",r.screenName||null)}P(bE,sr);function NE(r){var s=Gt(r),l=kn(s,"link"),h=kn(Gt(l),"link");return s=kn(s,"deep_link_id"),kn(Gt(s),"link")||s||h||l||r}function Tc(r,s){if(!r&&!s)throw new N("internal-error","Internal assert: no raw session string available");if(r&&s)throw new N("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?Xu:_c}var Xu="enroll",_c="signin";Tc.prototype.Ha=function(){return this.a?Z(this.a):Z(this.b)},Tc.prototype.w=function(){return this.type==Xu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function cs(){}cs.prototype.ka=function(){},cs.prototype.b=function(){},cs.prototype.c=function(){},cs.prototype.w=function(){};function fs(r,s){return r.then(function(l){if(l[$n]){var h=Ic(l[$n]);if(!h||s!=h.i)throw new N("user-mismatch");return l}throw new N("user-mismatch")}).o(function(l){throw l&&l.code&&l.code==On+"user-not-found"?new N("user-mismatch"):l})}function Zi(r,s){if(s)this.a=s;else throw new N("internal-error","failed to construct a credential");X(this,"providerId",r),X(this,"signInMethod",r)}Zi.prototype.ka=function(r){return av(r,Up(this))},Zi.prototype.b=function(r,s){var l=Up(this);return l.idToken=s,lv(r,l)},Zi.prototype.c=function(r,s){return fs(cv(r,Up(this)),s)};function Up(r){return{pendingToken:r.a,requestUri:"http://localhost"}}Zi.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function iR(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new Zi(r.providerId,r.pendingToken)}catch{}return null}function Tr(r,s,l){if(this.a=null,s.idToken||s.accessToken)s.idToken&&X(this,"idToken",s.idToken),s.accessToken&&X(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&X(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)X(this,"accessToken",s.oauthToken),X(this,"secret",s.oauthTokenSecret);else throw new N("internal-error","failed to construct a credential");X(this,"providerId",r),X(this,"signInMethod",l)}Tr.prototype.ka=function(r){return av(r,Vp(this))},Tr.prototype.b=function(r,s){var l=Vp(this);return l.idToken=s,lv(r,l)},Tr.prototype.c=function(r,s){var l=Vp(this);return fs(cv(r,l),s)};function Vp(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:V1(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}Tr.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function oR(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new Tr(r.providerId,s,r.signInMethod)}catch{}}return null}function eo(r,s){this.Qc=s||[],Lt(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(Mp(r)||{}).Ja||null,this.pb=null}eo.prototype.Ka=function(r){return this.Jb=Hr(r),this};function CE(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new N("argument-error",'SAML provider IDs must be prefixed with "saml."');eo.call(this,r,[])}P(CE,eo);function an(r){eo.call(this,r,Sc),this.a=[]}P(an,eo),an.prototype.Ca=function(r){return Ir(this.a,r)||this.a.push(r),this},an.prototype.Rb=function(){return zi(this.a)},an.prototype.credential=function(r,s){var l;if(x(r)?l={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:l={idToken:r||null,accessToken:s||null},!l.idToken&&!l.accessToken)throw new N("argument-error","credential failed: must provide the ID token and/or the access token.");return new Tr(this.providerId,l,this.providerId)};function to(){an.call(this,"facebook.com")}P(to,an),X(to,"PROVIDER_ID","facebook.com"),X(to,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function xE(r){if(!r)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return x(r)&&(s=r.accessToken),new to().credential({accessToken:s})}function no(){an.call(this,"github.com")}P(no,an),X(no,"PROVIDER_ID","github.com"),X(no,"GITHUB_SIGN_IN_METHOD","github.com");function AE(r){if(!r)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return x(r)&&(s=r.accessToken),new no().credential({accessToken:s})}function ro(){an.call(this,"google.com"),this.Ca("profile")}P(ro,an),X(ro,"PROVIDER_ID","google.com"),X(ro,"GOOGLE_SIGN_IN_METHOD","google.com");function DE(r,s){var l=r;return x(r)&&(l=r.idToken,s=r.accessToken),new ro().credential({idToken:l,accessToken:s})}function hs(){eo.call(this,"twitter.com",EE)}P(hs,eo),X(hs,"PROVIDER_ID","twitter.com"),X(hs,"TWITTER_SIGN_IN_METHOD","twitter.com");function RE(r,s){var l=r;if(x(l)||(l={oauthToken:r,oauthTokenSecret:s}),!l.oauthToken||!l.oauthTokenSecret)throw new N("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Tr("twitter.com",l,"twitter.com")}function Yr(r,s,l){this.a=r,this.f=s,X(this,"providerId","password"),X(this,"signInMethod",l===bn.EMAIL_LINK_SIGN_IN_METHOD?bn.EMAIL_LINK_SIGN_IN_METHOD:bn.EMAIL_PASSWORD_SIGN_IN_METHOD)}Yr.prototype.ka=function(r){return this.signInMethod==bn.EMAIL_LINK_SIGN_IN_METHOD?he(r,zR,{email:this.a,oobCode:this.f}):he(r,sI,{email:this.a,password:this.f})},Yr.prototype.b=function(r,s){return this.signInMethod==bn.EMAIL_LINK_SIGN_IN_METHOD?he(r,qR,{idToken:s,email:this.a,oobCode:this.f}):he(r,oI,{idToken:s,email:this.a,password:this.f})},Yr.prototype.c=function(r,s){return fs(this.ka(r),s)},Yr.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function sR(r){return r&&r.email&&r.password?new Yr(r.email,r.password,r.signInMethod):null}function bn(){Lt(this,{providerId:"password",isOAuthProvider:!1})}function PE(r,s){if(s=$p(s),!s)throw new N("argument-error","Invalid email link!");return new Yr(r,s.code,bn.EMAIL_LINK_SIGN_IN_METHOD)}function $p(r){return r=NE(r),(r=fE(r))&&r.operation===gc?r:null}Lt(bn,{PROVIDER_ID:"password"}),Lt(bn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Lt(bn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Jr(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new N("internal-error");this.a=r,X(this,"providerId","phone"),this.fa="phone",X(this,"signInMethod","phone")}Jr.prototype.ka=function(r){return r.gb(Yu(this))},Jr.prototype.b=function(r,s){var l=Yu(this);return l.idToken=s,he(r,cP,l)},Jr.prototype.c=function(r,s){var l=Yu(this);return l.operation="REAUTH",r=he(r,fP,l),fs(r,s)},Jr.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function uR(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return Oe(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(l){r[l]&&(s[l]=r[l])}),new Jr(s)}return null}function Yu(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function _r(r){try{this.a=r||re.auth()}catch{throw new N("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Lt(this,{providerId:"phone",isOAuthProvider:!1})}_r.prototype.gb=function(r,s){var l=this.a.a;return Z(s.verify()).then(function(h){if(typeof h!="string")throw new N("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var p=x(r)?r.session:null,g=x(r)?r.phoneNumber:r,w;return p&&p.type==Xu?w=p.Ha().then(function(b){return OR(l,{idToken:b,phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:h}})}):p&&p.type==_c?w=p.Ha().then(function(b){return LR(l,{mfaPendingCredential:b,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=PR(l,{phoneNumber:g,recaptchaToken:h}),w.then(function(b){return typeof s.reset=="function"&&s.reset(),b},function(b){throw typeof s.reset=="function"&&s.reset(),b});default:throw new N("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function OE(r,s){if(!r)throw new N("missing-verification-id");if(!s)throw new N("missing-verification-code");return new Jr({fb:r,eb:s})}Lt(_r,{PROVIDER_ID:"phone"}),Lt(_r,{PHONE_SIGN_IN_METHOD:"phone"});function Bp(r){if(r.temporaryProof&&r.phoneNumber)return new Jr({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var l=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,p=r&&r.nonce,g=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(s){case"google.com":return DE(g,l);case"facebook.com":return xE(l);case"github.com":return AE(l);case"twitter.com":return RE(l,h);default:return l||h||g||w?w?s.indexOf("saml.")==0?new Zi(s,w):new Tr(s,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new an(s).credential({idToken:g,accessToken:l,rawNonce:p}):null}}catch{return null}}function zp(r){if(!r.isOAuthProvider)throw new N("invalid-oauth-provider")}function Un(r,s,l,h,p,g,w){if(this.c=r,this.b=s||null,this.g=l||null,this.f=h||null,this.i=g||null,this.h=w||null,this.a=p||null,this.g||this.a){if(this.g&&this.a)throw new N("invalid-auth-event");if(this.g&&!this.f)throw new N("invalid-auth-event")}else throw new N("invalid-auth-event")}Un.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},Un.prototype.T=function(){return this.h},Un.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function LE(r){return r=r||{},r.type?new Un(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&pt(r.error),r.postBody,r.tenantId):null}function aR(){this.b=null,this.a=[]}var qp=null;function lR(r){var s=qp;s.a.push(r),s.b||(s.b=function(l){for(var h=0;h<s.a.length;h++)s.a[h](l)},r=De("universalLinks.subscribe",f),typeof r=="function"&&r(null,s.b))}function Kp(r){var s="unauthorized-domain",l=void 0,h=Gt(r);r=h.a,h=h.c,h=="chrome-extension"?l=o1("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?l=o1("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",N.call(this,s,l)}P(Kp,N);function Ju(r,s,l){N.call(this,r,l),r=s||{},r.Kb&&X(this,"email",r.Kb),r.ea&&X(this,"phoneNumber",r.ea),r.credential&&X(this,"credential",r.credential),r.$b&&X(this,"tenantId",r.$b)}P(Ju,N),Ju.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&Kt(r,s),r},Ju.prototype.toJSON=function(){return this.w()};function kc(r){if(r.code){var s=r.code||"";s.indexOf(On)==0&&(s=s.substring(On.length));var l={credential:Bp(r),$b:r.tenantId};if(r.email)l.Kb=r.email;else if(r.phoneNumber)l.ea=r.phoneNumber;else if(!l.credential)return new N(s,r.message||void 0);return new Ju(s,l,r.message)}return null}function Zu(){}Zu.prototype.c=null;function ME(r){return r.c||(r.c=r.b())}var Hp;function bc(){}P(bc,Zu),bc.prototype.a=function(){var r=jE(this);return r?new ActiveXObject(r):new XMLHttpRequest},bc.prototype.b=function(){var r={};return jE(this)&&(r[0]=!0,r[1]=!0),r};function jE(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],l=0;l<s.length;l++){var h=s[l];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}Hp=new bc;function Nc(){}P(Nc,Zu),Nc.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new FE;throw Error("Unsupported browser")},Nc.prototype.b=function(){return{}};function FE(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=R(this.qc,this),this.a.onerror=R(this.Tb,this),this.a.onprogress=R(this.rc,this),this.a.ontimeout=R(this.vc,this)}e=FE.prototype,e.open=function(r,s,l){if(l!=null&&!l)throw Error("Only async requests are supported.");this.a.open(r,s)},e.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Wp(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Wp(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Wp(this,1)};function Wp(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Gp(r,s,l){this.reset(r,s,l,void 0,void 0)}Gp.prototype.a=null,Gp.prototype.reset=function(r,s,l,h,p){delete this.a};function Qp(r){this.f=r,this.b=this.c=this.a=null}function ea(r,s){this.name=r,this.value=s}ea.prototype.toString=function(){return this.name};var UE=new ea("SEVERE",1e3),Xp=new ea("WARNING",900),cR=new ea("CONFIG",700),fR=new ea("FINE",500);function VE(r){return r.c?r.c:r.a?VE(r.a):(se("Root logger has no level set."),null)}Qp.prototype.log=function(r,s,l){if(r.value>=VE(this).value)for(k(s)&&(s=s()),r=new Gp(r,String(s),this.f),l&&(r.a=l),l=this;l;)l=l.a};var Yp={},Cc=null;function Jp(r){Cc||(Cc=new Qp(""),Yp[""]=Cc,Cc.c=cR);var s;if(!(s=Yp[r])){s=new Qp(r);var l=r.lastIndexOf("."),h=r.substr(l+1);l=Jp(r.substr(0,l)),l.b||(l.b={}),l.b[h]=s,s.a=l,Yp[r]=s}return s}function Nn(r,s){r&&r.log(fR,s,void 0)}function xc(r){this.f=r}P(xc,Zu),xc.prototype.a=function(){return new Ac(this.f)},xc.prototype.b=function(r){return function(){return r}}({});function Ac(r){Ot.call(this),this.u=r,this.h=void 0,this.readyState=Zp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Jp("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}P(Ac,Ot);var Zp=0;e=Ac.prototype,e.open=function(r,s){if(this.readyState!=Zp)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=s,this.readyState=1,na(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(s.body=r),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,ta(this)),this.readyState=Zp},e.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,na(this)),this.a&&(this.readyState=3,na(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,$E(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function $E(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}e.pc=function(r){if(this.a){var s=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?ta(this):na(this),this.readyState==3&&$E(this)}},e.tc=function(r){this.a&&(this.response=this.responseText=r,ta(this))},e.sc=function(r){this.a&&(this.response=r,ta(this))},e.Va=function(r){var s=this.i;s&&s.log(Xp,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&ta(this)};function ta(r){r.readyState=4,r.g=null,r.c=null,r.m=null,na(r)}e.setRequestHeader=function(r,s){this.l.append(r,s)},e.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(Xp,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(Xp,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var s=this.b.entries(),l=s.next();!l.done;)l=l.value,r.push(l[0]+": "+l[1]),l=s.next();return r.join(`\r
`)};function na(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(Ac.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function ra(r){Ot.call(this),this.headers=new is,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=BE,this.u=this.S=!1}P(ra,Ot);var BE="";ra.prototype.b=Jp("goog.net.XhrIo");var hR=/^https?$/i,dR=["POST","PUT"];function pR(r,s,l,h,p){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);l=l?l.toUpperCase():"GET",r.l=s,r.h="",r.P=l,r.J=!1,r.c=!0,r.a=r.D?r.D.a():Hp.a(),r.C=r.D?ME(r.D):ME(Hp),r.a.onreadystatechange=R(r.Wb,r);try{Nn(r.b,kr(r,"Opening Xhr")),r.N=!0,r.a.open(l,String(s),!0),r.N=!1}catch(w){Nn(r.b,kr(r,"Error opening Xhr: "+w.message)),zE(r,w);return}s=h||"";var g=new is(r.headers);p&&ED(p,function(w,b){g.set(b,w)}),p=jA(g.Y()),h=f.FormData&&s instanceof f.FormData,!Ir(dR,l)||p||h||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(w,b){this.a.setRequestHeader(b,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{HE(r),0<r.g&&(r.u=vR(r.a),Nn(r.b,kr(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=R(r.Ma,r)):r.s=hp(r.Ma,r.g,r)),Nn(r.b,kr(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(w){Nn(r.b,kr(r,"Send error: "+w.message)),zE(r,w)}}function vR(r){return jn&&l1(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function mR(r){return r.toLowerCase()=="content-type"}e=ra.prototype,e.Ma=function(){typeof c<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Nn(this.b,kr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function zE(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,qE(r),Dc(r)}function qE(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Nn(this.b,kr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Dc(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Dc(this,!0)),ra.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?KE(this):this.Jc())},e.Jc=function(){KE(this)};function KE(r){if(r.c&&typeof c<"u"){if(r.C[1]&&ia(r)==4&&Rc(r)==2)Nn(r.b,kr(r,"Local request error detected and ignored"));else if(r.i&&ia(r)==4)hp(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),ia(r)==4){Nn(r.b,kr(r,"Request complete")),r.c=!1;try{var s=Rc(r);e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var p;if(p=s===0){var g=String(r.l).match(F1)[1]||null;if(!g&&f.self&&f.self.location){var w=f.self.location.protocol;g=w.substr(0,w.length-1)}p=!hR.test(g?g.toLowerCase():"")}h=p}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var b=2<ia(r)?r.a.statusText:""}catch(O){Nn(r.b,"Can not get status: "+O.message),b=""}r.h=b+" ["+Rc(r)+"]",qE(r)}}finally{Dc(r)}}}}function Dc(r,s){if(r.a){HE(r);var l=r.a,h=r.C[0]?y:null;r.a=null,r.C=null,s||r.dispatchEvent("ready");try{l.onreadystatechange=h}catch(p){(r=r.b)&&r.log(UE,"Problem encountered resetting onreadystatechange: "+p.message,void 0)}}}function HE(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function ia(r){return r.a?r.a.readyState:0}function Rc(r){try{return 2<ia(r)?r.a.status:-1}catch{return-1}}function gR(r){try{return r.a?r.a.responseText:""}catch(s){return Nn(r.b,"Can not get responseText: "+s.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case BE:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(UE,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return Nn(this.b,"Can not get response: "+s.message),null}};function kr(r,s){return s+" ["+r.P+" "+r.l+" "+Rc(r)+"]"}function io(r){var s=ER;this.g=[],this.u=s,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}io.prototype.cancel=function(r){if(this.a)this.c instanceof io&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new sa,Pc(this),oa(this,!1,r))}},io.prototype.m=function(r,s){this.i=!1,oa(this,r,s)};function oa(r,s,l){r.a=!0,r.c=l,r.f=!s,GE(r)}function Pc(r){if(r.a){if(!r.v)throw new Oc;r.v=!1}}function yR(r,s){ev(r,null,s,void 0)}function ev(r,s,l,h){r.g.push([s,l,h]),r.a&&GE(r)}io.prototype.then=function(r,s,l){var h,p,g=new ce(function(w,b){h=w,p=b});return ev(this,h,function(w){w instanceof sa?g.cancel():p(w)}),g.then(r,s,l)},io.prototype.$goog_Thenable=!0;function WE(r){return MA(r.g,function(s){return k(s[1])})}function GE(r){if(r.h&&r.a&&WE(r)){var s=r.h,l=Lc[s];l&&(f.clearTimeout(l.a),delete Lc[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var h=l=!1;r.g.length&&!r.i;){var p=r.g.shift(),g=p[0],w=p[1];if(p=p[2],g=r.f?w:g)try{var b=g.call(p||r.s,s);b!==void 0&&(r.f=r.f&&(b==s||b instanceof Error),r.c=s=b),(Jo(s)||typeof f.Promise=="function"&&s instanceof f.Promise)&&(h=!0,r.i=!0)}catch(O){s=O,r.f=!0,WE(r)||(l=!0)}}r.c=s,h&&(b=R(r.m,r,!0),h=R(r.m,r,!1),s instanceof io?(ev(s,b,h),s.C=!0):s.then(b,h)),l&&(s=new QE(s),Lc[s.a]=s,r.h=s.a)}function Oc(){K.call(this)}P(Oc,K),Oc.prototype.message="Deferred has already fired",Oc.prototype.name="AlreadyCalledError";function sa(){K.call(this)}P(sa,K),sa.prototype.message="Deferred was canceled",sa.prototype.name="CanceledError";function QE(r){this.a=f.setTimeout(R(this.c,this),0),this.b=r}QE.prototype.c=function(){throw delete Lc[this.a],this.b};var Lc={};function tv(r){var s={},l=s.document||document,h=Yw(r).toString(),p=sc(document,"SCRIPT"),g={Xb:p,Ma:void 0},w=new io(g),b=null,O=s.timeout!=null?s.timeout:5e3;return 0<O&&(b=window.setTimeout(function(){Mc(p,!0);var j=new nv(SR,"Timeout reached for loading script "+h);Pc(w),oa(w,!1,j)},O),g.Ma=b),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||(Mc(p,s.xd||!1,b),Pc(w),oa(w,!0,null))},p.onerror=function(){Mc(p,!0,b);var j=new nv(IR,"Error while loading script "+h);Pc(w),oa(w,!1,j)},g=s.attributes||{},Kt(g,{type:"text/javascript",charset:"UTF-8"}),f1(p,g),YA(p,r),wR(l).appendChild(p),w}function wR(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function ER(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&Mc(r,!0,this.Ma)}}function Mc(r,s,l){l!=null&&f.clearTimeout(l),r.onload=y,r.onerror=y,r.onreadystatechange=y,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var IR=0,SR=1;function nv(r,s){var l="Jsloader error (code #"+r+")";s&&(l+=": "+s),K.call(this,l),this.code=r}P(nv,K);function jc(r){this.f=r}P(jc,Zu),jc.prototype.a=function(){return new this.f},jc.prototype.b=function(){return{}};function Vn(r,s,l){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||TR,this.g=Hr(r.secureTokenHeaders||_R),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||kR,this.a=Hr(r.firebaseHeaders||bR),l&&(this.a["X-Client-Version"]=l,this.g["X-Client-Version"]=l),l=ir()=="Node",l=f.XMLHttpRequest||l&&re.INTERNAL.node&&re.INTERNAL.node.XMLHttpRequest,!l&&!Fn())throw new N("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Fn()?this.f=new xc(self):X1()?this.f=new jc(l):this.f=new Nc,this.b=null}var rv,$n="idToken",TR=new Xr(3e4,6e4),_R={"Content-Type":"application/x-www-form-urlencoded"},kR=new Xr(3e4,6e4),bR={"Content-Type":"application/json"};function XE(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function Fc(r,s){s&&(r.l=iv("https://securetoken.googleapis.com/v1/token",s),r.h=iv("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=iv("https://identitytoolkit.googleapis.com/v2/",s))}function iv(r,s){return r=Gt(r),s=Gt(s.url),r.f=r.a+r.f,Uu(r,s.c),r.a=s.a,Vu(r,s.g),r.toString()}function YE(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}Vn.prototype.T=function(){return this.b};function JE(r,s,l,h,p,g,w){AD()||Fn()?r=R(r.u,r):(rv||(rv=new ce(function(b,O){CR(b,O)})),r=R(r.s,r)),r(s,l,h,p,g,w)}Vn.prototype.u=function(r,s,l,h,p,g){if(Fn()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new N("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new ra(this.f);if(g){w.g=Math.max(0,g);var b=setTimeout(function(){w.dispatchEvent("timeout")},g)}L1(w,"complete",function(){b&&clearTimeout(b);var O=null;try{O=JSON.parse(gR(this))||null}catch{O=null}s&&s(O)}),fp(w,"ready",function(){b&&clearTimeout(b),C1(this)}),fp(w,"timeout",function(){b&&clearTimeout(b),C1(this),s&&s(null)}),pR(w,r,l,h,p)};var NR=new nr(nc,"https://apis.google.com/js/client.js?onload=%{onload}"),ZE="__fcb"+Math.floor(1e6*Math.random()).toString();function CR(r,s){if(((window.gapi||{}).client||{}).request)r();else{f[ZE]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var l=Wd(NR,{onload:ZE});yR(tv(l),function(){s(Error("CORS_UNSUPPORTED"))})}}Vn.prototype.s=function(r,s,l,h,p){var g=this;rv.then(function(){window.gapi.client.setApiKey(g.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:l,body:h,headers:p,authType:"none",callback:function(b){window.gapi.auth.setToken(w),s&&s(b)}})}).o(function(w){s&&s({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function xR(r,s){return new ce(function(l,h){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?JE(r,r.l+"?key="+encodeURIComponent(r.c),function(p){p?p.error?h(hv(p)):p.access_token&&p.refresh_token?l(p):h(new N("internal-error")):h(new N("network-request-failed"))},"POST",V1(s).toString(),r.g,r.m.get()):h(new N("internal-error"))})}function eI(r,s,l,h,p,g,w){var b=Gt(s+l);Ke(b,"key",r.c),w&&Ke(b,"cb",Date.now().toString());var O=h=="GET";if(O)for(var j in p)p.hasOwnProperty(j)&&Ke(b,j,p[j]);return new ce(function(ie,Ee){JE(r,b.toString(),function(me){me?me.error?Ee(hv(me,g||{})):ie(me):Ee(new N("network-request-failed"))},h,O?void 0:z1(Z1(p)),r.a,r.v.get())})}function oo(r){if(r=r.email,typeof r!="string"||!PD.test(r))throw new N("invalid-email")}function tI(r){"email"in r&&oo(r)}function AR(r,s){return he(r,VR,{identifier:s,continueUri:mc()?zu():"http://localhost"}).then(function(l){return l.signinMethods||[]})}function DR(r){return he(r,JR,{}).then(function(s){return s.authorizedDomains||[]})}function Qt(r){if(!r[$n])throw r.mfaPendingCredential?new N("multi-factor-auth-required",null,Hr(r)):new N("internal-error")}function ov(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new N("internal-error")}else{if(!r.sessionInfo)throw new N("missing-verification-id");if(!r.code)throw new N("missing-verification-code")}}Vn.prototype.Ab=function(){return he(this,nP,{})},Vn.prototype.Cb=function(r,s){return he(this,iI,{idToken:r,email:s})},Vn.prototype.Db=function(r,s){return he(this,oI,{idToken:r,password:s})};var RR={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Vn.prototype,e.Eb=function(r,s){var l={idToken:r},h=[];return Hw(RR,function(p,g){var w=s[g];w===null?h.push(p):g in s&&(l[g]=w)}),h.length&&(l.deleteAttribute=h),he(this,iI,l)},e.wb=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},Kt(r,s),he(this,YR,r)},e.xb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},Kt(r,s),he(this,GR,r)},e.vb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},Kt(r,s),he(this,QR,r)},e.Fb=function(r,s,l){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},Kt(r,l),he(this,XR,r)};function PR(r,s){return he(r,tP,s)}e.gb=function(r){return he(this,lP,r)};function OR(r,s){return he(r,rP,s).then(function(l){return l.phoneSessionInfo.sessionInfo})}function nI(r){if(!r.phoneVerificationInfo)throw new N("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new N("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new N("missing-verification-code")}function LR(r,s){return he(r,iP,s).then(function(l){return l.phoneResponseInfo.sessionInfo})}function MR(r,s,l){return he(r,BR,{idToken:s,deleteProvider:l})}function sv(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new N("internal-error")}function uv(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new Qi(r.postBody),vp(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function rI(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=kc(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=kc(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=kc(r)):r.errorMessage&&(s=uI(r.errorMessage)),s)throw s;Qt(r)}function av(r,s){return s.returnIdpCredential=!0,he(r,oP,s)}function lv(r,s){return s.returnIdpCredential=!0,he(r,uP,s)}function cv(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,he(r,sP,s)}function fv(r){if(!r.oobCode)throw new N("invalid-action-code")}e.ob=function(r,s){return he(this,eP,{oobCode:r,newPassword:s})},e.Sa=function(r){return he(this,FR,{oobCode:r})},e.kb=function(r){return he(this,jR,{oobCode:r})};var jR={endpoint:"setAccountInfo",A:fv,Z:"email",B:!0},FR={endpoint:"resetPassword",A:fv,G:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new N("internal-error")},B:!0},UR={endpoint:"signupNewUser",A:function(r){if(oo(r),!r.password)throw new N("weak-password")},G:Qt,V:!0,B:!0},VR={endpoint:"createAuthUri",B:!0},$R={endpoint:"deleteAccount",O:["idToken"]},BR={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new N("internal-error")}},zR={endpoint:"emailLinkSignin",O:["email","oobCode"],A:oo,G:Qt,V:!0,B:!0},qR={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:oo,G:Qt,V:!0},KR={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:nI,G:Qt,B:!0,Na:!0},HR={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:nI,G:Qt,B:!0,Na:!0},WR={endpoint:"getAccountInfo"},GR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new N("internal-error");oo(r)},Z:"email",B:!0},QR={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new N("internal-error")},Z:"email",B:!0},XR={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new N("internal-error")},Z:"email",B:!0},YR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new N("internal-error");oo(r)},Z:"email",B:!0},JR={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},ZR={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new N("internal-error")}},eP={endpoint:"resetPassword",A:fv,Z:"email",B:!0},tP={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},iI={endpoint:"setAccountInfo",O:["idToken"],A:tI,V:!0},oI={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(tI(r),!r.password)throw new N("weak-password")},G:Qt,V:!0},nP={endpoint:"signupNewUser",G:Qt,V:!0,B:!0},rP={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new N("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new N("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new N("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new N("internal-error")},B:!0,Na:!0},iP={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new N("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new N("internal-error")},B:!0,Na:!0},oP={endpoint:"verifyAssertion",A:sv,Za:uv,G:rI,V:!0,B:!0},sP={endpoint:"verifyAssertion",A:sv,Za:uv,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new N("user-not-found");if(r.errorMessage)throw uI(r.errorMessage);Qt(r)},V:!0,B:!0},uP={endpoint:"verifyAssertion",A:function(r){if(sv(r),!r.idToken)throw new N("internal-error")},Za:uv,G:rI,V:!0},aP={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new N("invalid-custom-token")},G:Qt,V:!0,B:!0},sI={endpoint:"verifyPassword",A:function(r){if(oo(r),!r.password)throw new N("wrong-password")},G:Qt,V:!0,B:!0},lP={endpoint:"verifyPhoneNumber",A:ov,G:Qt,B:!0},cP={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new N("internal-error");ov(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",kc(r);Qt(r)}},fP={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ov,G:Qt,B:!0},hP={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[$n]^!!r.refreshToken)throw new N("internal-error")},B:!0,Na:!0};function he(r,s,l){if(!VD(l,s.O))return Ae(new N("internal-error"));var h=!!s.Na,p=s.Vb||"POST",g;return Z(l).then(s.A).then(function(){return s.V&&(l.returnSecureToken=!0),s.B&&r.b&&typeof l.tenantId>"u"&&(l.tenantId=r.b),h?eI(r,r.i,s.endpoint,p,l,s.Ib,s.mb||!1):eI(r,r.h,s.endpoint,p,l,s.Ib,s.mb||!1)}).then(function(w){return g=w,s.Za?s.Za(l,g):g}).then(s.G).then(function(){if(!s.Z)return g;if(!(s.Z in g))throw new N("internal-error");return g[s.Z]})}function uI(r){return hv({error:{errors:[{message:r}],code:400,message:r}})}function hv(r,s){var l=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(l=h[l]?new N(h[l]):null)return l;l=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Kt(h,s||{}),s=(s=l.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var p in h)if(l.indexOf(p)===0)return new N(h[p],s);return!s&&r&&(s=Ku(r)),new N("internal-error",s)}function dP(r){this.b=r,this.a=null,this.sb=pP(this)}function pP(r){return EP().then(function(){return new ce(function(s,l){De("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:De("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function p(){clearTimeout(g),s()}r.a=h,r.a.restyle({setHideOnLeave:!1});var g=setTimeout(function(){l(Error("Network Error"))},wP.get());h.ping(p).then(p,function(){l(Error("Network Error"))})})})})}function vP(r,s){return r.sb.then(function(){return new ce(function(l){r.a.send(s.type,s,l,De("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function mP(r,s){r.sb.then(function(){r.a.register("authEvent",s,De("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var gP=new nr(nc,"https://apis.google.com/js/api.js?onload=%{onload}"),yP=new Xr(3e4,6e4),wP=new Xr(5e3,15e3),Uc=null;function EP(){return Uc||(Uc=new ce(function(r,s){function l(){tE(),De("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){tE(),s(Error("Network Error"))},timeout:yP.get()})}if(De("gapi.iframes.Iframe"))r();else if(De("gapi.load"))l();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){De("gapi.load")?l():s(Error("Network Error"))},h=Wd(gP,{onload:h}),Z(tv(h)).o(function(){s(Error("Network Error"))})}}).o(function(r){throw Uc=null,r}))}function aI(r,s,l,h){this.l=r,this.h=s,this.i=l,this.g=h,this.f=null,this.g?(r=Gt(this.g.url),r=pc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=pc("https",this.l,null,"/__/auth/iframe"),this.a=r,Ke(this.a,"apiKey",this.h),Ke(this.a,"appName",this.i),this.b=null,this.c=[]}aI.prototype.toString=function(){return this.f?Ke(this.a,"v",this.f):rr(this.a.b,"v"),this.b?Ke(this.a,"eid",this.b):rr(this.a.b,"eid"),this.c.length?Ke(this.a,"fw",this.c.join(",")):rr(this.a.b,"fw"),this.a.toString()};function dv(r,s,l,h,p,g){this.u=r,this.s=s,this.c=l,this.m=h,this.v=g,this.i=this.g=this.l=null,this.a=p,this.h=this.f=null}dv.prototype.zb=function(r){return this.h=r,this},dv.prototype.toString=function(){if(this.v){var r=Gt(this.v.url);r=pc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=pc("https",this.u,null,"/__/auth/handler");if(Ke(r,"apiKey",this.s),Ke(r,"appName",this.c),Ke(r,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var l=re.app(this.c).auth().la()}catch{l=null}s.pb=l,Ke(r,"providerId",this.a.providerId),l=this.a,s=Z1(l.Jb);for(var h in s)s[h]=s[h].toString();h=l.Qc,s=Hr(s);for(var p=0;p<h.length;p++){var g=h[p];g in s&&delete s[g]}l.qb&&l.pb&&!s[l.qb]&&(s[l.qb]=l.pb),qi(s)||Ke(r,"customParameters",Ku(s))}if(typeof this.a.Rb=="function"&&(l=this.a.Rb(),l.length&&Ke(r,"scopes",l.join(","))),this.l?Ke(r,"redirectUrl",this.l):rr(r.b,"redirectUrl"),this.g?Ke(r,"eventId",this.g):rr(r.b,"eventId"),this.i?Ke(r,"v",this.i):rr(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!kn(r,w)&&Ke(r,w,this.b[w]);return this.h?Ke(r,"tid",this.h):rr(r.b,"tid"),this.f?Ke(r,"eid",this.f):rr(r.b,"eid"),w=pv(this.c),w.length&&Ke(r,"fw",w.join(",")),r.toString()};function pv(r){try{return re.app(r).auth().Ga()}catch{return[]}}function lI(r,s,l,h,p,g){this.s=r,this.g=s,this.b=l,this.f=g,this.c=h||null,this.i=p||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function cI(r){var s=zu();return DR(r).then(function(l){e:{var h=Gt(s),p=h.c;h=h.a;for(var g=0;g<l.length;g++){var w=l[g],b=h,O=p;if(w.indexOf("chrome-extension://")==0?b=Gt(w).a==b&&O=="chrome-extension":O!="http"&&O!="https"?b=!1:RD.test(w)?b=b==w:(w=w.split(".").join("\\."),b=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(b)),b){l=!0;break e}}l=!1}if(!l)throw new Kp(zu())})}function fI(r){return r.m||(r.m=vc().then(function(){if(!r.u){var s=r.c,l=r.i,h=pv(r.b),p=new aI(r.s,r.g,r.b,r.f);p.f=s,p.b=l,p.c=zi(h||[]),r.u=p.toString()}r.v=new dP(r.u),IP(r)})),r.m}e=lI.prototype,e.Pb=function(r,s,l){var h=new N("popup-closed-by-user"),p=new N("web-storage-unsupported"),g=this,w=!1;return this.ma().then(function(){SP(g).then(function(b){b||(r&&Xi(r),s(p),w=!0)})}).o(function(){}).then(function(){if(!w)return DD(r)}).then(function(){if(!w)return rs(l).then(function(){s(h)})})},e.Yb=function(){var r=vt();return!qu(r)&&!eE(r)},e.Ub=function(){return!1},e.Nb=function(r,s,l,h,p,g,w,b){if(!r)return Ae(new N("popup-blocked"));if(w&&!qu())return this.ma().o(function(j){Xi(r),p(j)}),h(),Z();this.a||(this.a=cI(hI(this)));var O=this;return this.a.then(function(){var j=O.ma().o(function(ie){throw Xi(r),p(ie),ie});return h(),j}).then(function(){if(zp(l),!w){var j=ua(O.s,O.g,O.b,s,l,null,g,O.c,void 0,O.i,b,O.f);H1(j,r)}}).o(function(j){throw j.code=="auth/network-request-failed"&&(O.a=null),j})};function hI(r){return r.l||(r.C=r.c?us(r.c,pv(r.b)):null,r.l=new Vn(r.g,Vi(r.i),r.C),r.f&&Fc(r.l,r.f)),r.l}e.Ob=function(r,s,l,h){this.a||(this.a=cI(hI(this)));var p=this;return this.a.then(function(){zp(s);var g=ua(p.s,p.g,p.b,r,s,zu(),l,p.c,void 0,p.i,h,p.f);H1(g)}).o(function(g){throw g.code=="auth/network-request-failed"&&(p.a=null),g})},e.ma=function(){var r=this;return fI(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new N("network-request-failed")})},e.ac=function(){return!0};function ua(r,s,l,h,p,g,w,b,O,j,ie,Ee){return r=new dv(r,s,l,h,p,Ee),r.l=g,r.g=w,r.i=b,r.b=Hr(O||null),r.f=j,r.zb(ie).toString()}function IP(r){if(!r.v)throw Error("IfcHandler must be initialized!");mP(r.v,function(s){var l={};if(s&&s.authEvent){var h=!1;for(s=LE(s.authEvent),l=0;l<r.h.length;l++)h=r.h[l](s)||h;return l={},l.status=h?"ACK":"ERROR",Z(l)}return l.status="ERROR",Z(l)})}function SP(r){var s={type:"webStorageSupport"};return fI(r).then(function(){return vP(r.v,s)}).then(function(l){if(l&&l.length&&typeof l[0].webStorageSupport<"u")return l[0].webStorageSupport;throw Error()})}e.Ea=function(r){this.h.push(r)},e.Ta=function(r){Mn(this.h,function(s){return s==r})};function dI(r){if(this.a=r||re.INTERNAL.reactNative&&re.INTERNAL.reactNative.AsyncStorage,!this.a)throw new N("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=dI.prototype,e.get=function(r){return Z(this.a.getItem(r)).then(function(s){return s&&ls(s)})},e.set=function(r,s){return Z(this.a.setItem(r,Ku(s)))},e.U=function(r){return Z(this.a.removeItem(r))},e.ca=function(){},e.ia=function(){};function pI(r){this.b=r,this.a={},this.f=R(this.c,this)}var vI=[];function TP(){var r=Fn()?self:null;if(Oe(vI,function(l){l.b==r&&(s=l)}),!s){var s=new pI(r);vI.push(s)}return s}pI.prototype.c=function(r){var s=r.data.eventType,l=r.data.eventId,h=this.a[s];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:l,eventType:s,response:null});var p=[];Oe(h,function(g){p.push(Z().then(function(){return g(r.origin,r.data.data)}))}),w1(p).then(function(g){var w=[];Oe(g,function(b){w.push({fulfilled:b.Qb,value:b.value,reason:b.reason?b.reason.message:void 0})}),Oe(w,function(b){for(var O in b)typeof b[O]>"u"&&delete b[O]}),r.ports[0].postMessage({status:"done",eventId:l,eventType:s,response:w})})}};function mI(r,s,l){qi(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]>"u"&&(r.a[s]=[]),r.a[s].push(l)}function gI(r){this.a=r}gI.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function yI(r){this.c=r,this.b=!1,this.a=[]}function wI(r,s,l,h){var p,g=l||{},w,b,O,j=null;if(r.b)return Ae(Error("connection_unavailable"));var ie=h?800:50,Ee=typeof MessageChannel<"u"?new MessageChannel:null;return new ce(function(me,lt){Ee?(p=Math.floor(Math.random()*Math.pow(10,20)).toString(),Ee.port1.start(),b=setTimeout(function(){lt(Error("unsupported_event"))},ie),w=function(br){br.data.eventId===p&&(br.data.status==="ack"?(clearTimeout(b),O=setTimeout(function(){lt(Error("timeout"))},3e3)):br.data.status==="done"?(clearTimeout(O),typeof br.data.response<"u"?me(br.data.response):lt(Error("unknown_error"))):(clearTimeout(b),clearTimeout(O),lt(Error("invalid_response"))))},j={messageChannel:Ee,onMessage:w},r.a.push(j),Ee.port1.addEventListener("message",w),r.c.postMessage({eventType:s,eventId:p,data:g},[Ee.port2])):lt(Error("connection_unavailable"))}).then(function(me){return vv(r,j),me}).o(function(me){throw vv(r,j),me})}function vv(r,s){if(s){var l=s.messageChannel,h=s.onMessage;l&&(l.port1.removeEventListener("message",h),l.port1.close()),Mn(r.a,function(p){return p==s})}}yI.prototype.close=function(){for(;0<this.a.length;)vv(this,this.a[0]);this.b=!0};function EI(){if(!yv())throw new N("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;Fn()&&self?(this.v=TP(),mI(this.v,"keyChanged",function(s,l){return TI(r).then(function(h){return 0<h.length&&Oe(r.a,function(p){p(h)}),{keyProcessed:Ir(h,l.key)}})}),mI(this.v,"ping",function(){return Z(["keyChanged"])})):FD().then(function(s){(r.h=s)&&(r.g=new yI(new gI(s)),wI(r.g,"ping",null,!0).then(function(l){l[0].fulfilled&&Ir(l[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var mv;function _P(r){return new ce(function(s,l){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){s()},h.onerror=function(p){l(Error(p.target.error))}})}function II(r){return new ce(function(s,l){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(p){try{p.preventDefault()}catch{}l(Error(p.target.error))},h.onupgradeneeded=function(p){p=p.target.result;try{p.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(g){l(g)}},h.onsuccess=function(p){p=p.target.result,p.objectStoreNames.contains("firebaseLocalStorage")?s(p):_P(r).then(function(){return II(r)}).then(function(g){s(g)}).o(function(g){l(g)})}})}function gv(r){return r.i||(r.i=II(r)),r.i}function Vc(r,s){function l(p,g){gv(r).then(s).then(p).o(function(w){if(3<++h)g(w);else return gv(r).then(function(b){return b.close(),r.i=void 0,l(p,g)}).o(function(b){g(b)})})}var h=0;return new ce(l)}function yv(){try{return!!f.indexedDB}catch{return!1}}function aa(r){return r.objectStore("firebaseLocalStorage")}function la(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function ds(r){return new ce(function(s,l){r.onsuccess=function(h){h&&h.target?s(h.target.result):s()},r.onerror=function(h){l(h.target.error)}})}e=EI.prototype,e.set=function(r,s){var l=this,h=!1;return Vc(this,function(p){return p=aa(la(p,!0)),ds(p.get(r))}).then(function(p){return Vc(l,function(g){if(g=aa(la(g,!0)),p)return p.value=s,ds(g.put(p));l.b++,h=!0;var w={};return w.fbase_key=r,w.value=s,ds(g.add(w))})}).then(function(){return l.c[r]=s,SI(l,r)}).oa(function(){h&&l.b--})};function SI(r,s){return r.g&&r.h&&jD()===r.h?wI(r.g,"keyChanged",{key:s},r.s).then(function(){}).o(function(){}):Z()}e.get=function(r){return Vc(this,function(s){return ds(aa(la(s,!1)).get(r))}).then(function(s){return s&&s.value})},e.U=function(r){var s=this,l=!1;return Vc(this,function(h){return l=!0,s.b++,ds(aa(la(h,!0)).delete(r))}).then(function(){return delete s.c[r],SI(s,r)}).oa(function(){l&&s.b--})};function TI(r){return gv(r).then(function(s){var l=aa(la(s,!1));return l.getAll?ds(l.getAll()):new ce(function(h,p){var g=[],w=l.openCursor();w.onsuccess=function(b){(b=b.target.result)?(g.push(b.value),b.continue()):h(g)},w.onerror=function(b){p(b.target.error)}})}).then(function(s){var l={},h=[];if(r.b==0){for(h=0;h<s.length;h++)l[s[h].fbase_key]=s[h].value;h=W1(r.c,l),r.c=l}return h})}e.ca=function(r){this.a.length==0&&kP(this),this.a.push(r)},e.ia=function(r){Mn(this.a,function(s){return s==r}),this.a.length==0&&_I(this)};function kP(r){function s(){r.f=setTimeout(function(){r.l=TI(r).then(function(l){0<l.length&&Oe(r.a,function(h){h(l)})}).then(function(){s()}).o(function(l){l.message!="STOP_EVENT"&&s()})},800)}_I(r),s()}function _I(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function kI(r){var s=this,l=null;this.a=[],this.type="indexedDB",this.c=r,this.b=Z().then(function(){if(yv()){var h=Ji(),p="__sak"+h;return mv||(mv=new EI),l=mv,l.set(p,h).then(function(){return l.get(p)}).then(function(g){if(g!==h)throw Error("indexedDB not supported!");return l.U(p)}).then(function(){return l}).o(function(){return s.c})}return s.c}).then(function(h){return s.type=h.type,h.ca(function(p){Oe(s.a,function(g){g(p)})}),h})}e=kI.prototype,e.get=function(r){return this.b.then(function(s){return s.get(r)})},e.set=function(r,s){return this.b.then(function(l){return l.set(r,s)})},e.U=function(r){return this.b.then(function(s){return s.U(r)})},e.ca=function(r){this.a.push(r)},e.ia=function(r){Mn(this.a,function(s){return s==r})};function ca(){this.a={},this.type="inMemory"}e=ca.prototype,e.get=function(r){return Z(this.a[r])},e.set=function(r,s){return this.a[r]=s,Z()},e.U=function(r){return delete this.a[r],Z()},e.ca=function(){},e.ia=function(){};function $c(){if(!bP())throw ir()=="Node"?new N("internal-error","The LocalStorage compatibility library was not found."):new N("web-storage-unsupported");this.a=bI()||re.INTERNAL.node.localStorage,this.type="localStorage"}function bI(){try{var r=f.localStorage,s=Ji();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function bP(){var r=ir()=="Node";if(r=bI()||r&&re.INTERNAL.node&&re.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=$c.prototype,e.get=function(r){var s=this;return Z().then(function(){var l=s.a.getItem(r);return ls(l)})},e.set=function(r,s){var l=this;return Z().then(function(){var h=Ku(s);h===null?l.U(r):l.a.setItem(r,h)})},e.U=function(r){var s=this;return Z().then(function(){s.a.removeItem(r)})},e.ca=function(r){f.window&&_n(f.window,"storage",r)},e.ia=function(r){f.window&&un(f.window,"storage",r)};function wv(){this.type="nullStorage"}e=wv.prototype,e.get=function(){return Z(null)},e.set=function(){return Z()},e.U=function(){return Z()},e.ca=function(){},e.ia=function(){};function Ev(){if(!NP())throw ir()=="Node"?new N("internal-error","The SessionStorage compatibility library was not found."):new N("web-storage-unsupported");this.a=NI()||re.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function NI(){try{var r=f.sessionStorage,s=Ji();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function NP(){var r=ir()=="Node";if(r=NI()||r&&re.INTERNAL.node&&re.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=Ev.prototype,e.get=function(r){var s=this;return Z().then(function(){var l=s.a.getItem(r);return ls(l)})},e.set=function(r,s){var l=this;return Z().then(function(){var h=Ku(s);h===null?l.U(r):l.a.setItem(r,h)})},e.U=function(r){var s=this;return Z().then(function(){s.a.removeItem(r)})},e.ca=function(){},e.ia=function(){};function CP(){var r={};r.Browser=xP,r.Node=AP,r.ReactNative=DP,r.Worker=RP,this.a=r[ir()]}var Iv,xP={F:$c,cb:Ev},AP={F:$c,cb:Ev},DP={F:dI,cb:wv},RP={F:$c,cb:wv},ps={rd:"local",NONE:"none",td:"session"};function PP(r){var s=new N("invalid-persistence-type"),l=new N("unsupported-persistence-type");e:{for(h in ps)if(ps[h]==r){var h=!0;break e}h=!1}if(!h||typeof r!="string")throw s;switch(ir()){case"ReactNative":if(r==="session")throw l;break;case"Node":if(r!=="none")throw l;break;case"Worker":if(r==="session"||!yv()&&r!=="none")throw l;break;default:if(!Ip()&&r!=="none")throw l}}function CI(){var r=!!(!eE(vt())&&wp()),s=qu(),l=Ip();this.m=r,this.h=s,this.l=l,this.a={},Iv||(Iv=new CP),r=Iv;try{this.g=!gp()&&nE()||!f.indexedDB?new r.a.F:new kI(Fn()?new ca:new r.a.F)}catch{this.g=new ca,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new ca}this.v=new ca,this.f=R(this.Zb,this),this.b={}}var Sv;function fa(){return Sv||(Sv=new CI),Sv}function so(r,s){switch(s){case"session":return r.i;case"none":return r.v;default:return r.g}}function vs(r,s){return"firebase:"+r.name+(s?":"+s:"")}function OP(r,s,l){var h=vs(s,l),p=so(r,s.F);return r.get(s,l).then(function(g){var w=null;try{w=ls(f.localStorage.getItem(h))}catch{}if(w&&!g)return f.localStorage.removeItem(h),r.set(s,w,l);w&&g&&p.type!="localStorage"&&f.localStorage.removeItem(h)})}e=CI.prototype,e.get=function(r,s){return so(this,r.F).get(vs(r,s))};function ms(r,s,l){return l=vs(s,l),s.F=="local"&&(r.b[l]=null),so(r,s.F).U(l)}e.set=function(r,s,l){var h=vs(r,l),p=this,g=so(this,r.F);return g.set(h,s).then(function(){return g.get(h)}).then(function(w){r.F=="local"&&(p.b[h]=w)})},e.addListener=function(r,s,l){r=vs(r,s),this.l&&(this.b[r]=f.localStorage.getItem(r)),qi(this.a)&&(so(this,"local").ca(this.f),this.h||(gp()||!nE())&&f.indexedDB||!this.l||LP(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(l)},e.removeListener=function(r,s,l){r=vs(r,s),this.a[r]&&(Mn(this.a[r],function(h){return h==l}),this.a[r].length==0&&delete this.a[r]),qi(this.a)&&(so(this,"local").ia(this.f),Tv(this))};function LP(r){Tv(r),r.c=setInterval(function(){for(var s in r.a){var l=f.localStorage.getItem(s),h=r.b[s];l!=h&&(r.b[s]=l,l=new Wi({type:"storage",key:s,target:window,oldValue:h,newValue:l,a:!0}),r.Zb(l))}},1e3)}function Tv(r){r.c&&(clearInterval(r.c),r.c=null)}e.Zb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var l in this.a){var h=this.b[l];typeof h>"u"&&(h=null);var p=f.localStorage.getItem(l);p!==h&&(this.b[l]=p,this.nb(l))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a<"u"?so(this,"local").ia(this.f):Tv(this),this.m){if(l=f.localStorage.getItem(s),h=r.a.newValue,h!==l)h!==null?f.localStorage.setItem(s,h):f.localStorage.removeItem(s);else if(this.b[s]===h&&typeof r.a.a>"u")return}var g=this;l=function(){(typeof r.a.a<"u"||g.b[s]!==f.localStorage.getItem(s))&&(g.b[s]=f.localStorage.getItem(s),g.nb(s))},jn&&Wr&&Wr==10&&f.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(l,10):l()}}else Oe(r,R(this.nb,this))},e.nb=function(r){this.a[r]&&Oe(this.a[r],function(s){s()})};function MP(r){this.a=r,this.b=fa()}var _v={name:"authEvent",F:"local"};function jP(r){return r.b.get(_v,r.a).then(function(s){return LE(s)})}function FP(){this.a=fa()}function UP(){this.b=-1}function Bc(r,s){this.b=xI,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=f.Int32Array?new Int32Array(64):Array(64),zc===void 0&&(f.Int32Array?zc=new Int32Array(RI):zc=RI),this.reset()}var zc;P(Bc,UP);for(var xI=64,VP=xI-1,AI=[],kv=0;kv<VP;kv++)AI[kv]=0;var DI=qd(128,AI);Bc.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):zi(this.h)};function bv(r){for(var s=r.f,l=r.l,h=0,p=0;p<s.length;)l[h++]=s[p]<<24|s[p+1]<<16|s[p+2]<<8|s[p+3],p=4*h;for(s=16;64>s;s++){p=l[s-15]|0,h=l[s-2]|0;var g=(l[s-16]|0)+((p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3)|0,w=(l[s-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;l[s]=g+w|0}h=r.a[0]|0,p=r.a[1]|0;var b=r.a[2]|0,O=r.a[3]|0,j=r.a[4]|0,ie=r.a[5]|0,Ee=r.a[6]|0;for(g=r.a[7]|0,s=0;64>s;s++){var me=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&p^h&b^p&b)|0;w=j&ie^~j&Ee,g=g+((j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7))|0,w=w+(zc[s]|0)|0,w=g+(w+(l[s]|0)|0)|0,g=Ee,Ee=ie,ie=j,j=O+w|0,O=b,b=p,p=h,h=w+me|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+p|0,r.a[2]=r.a[2]+b|0,r.a[3]=r.a[3]+O|0,r.a[4]=r.a[4]+j|0,r.a[5]=r.a[5]+ie|0,r.a[6]=r.a[6]+Ee|0,r.a[7]=r.a[7]+g|0}function Nv(r,s,l){l===void 0&&(l=s.length);var h=0,p=r.c;if(typeof s=="string")for(;h<l;)r.f[p++]=s.charCodeAt(h++),p==r.b&&(bv(r),p=0);else if(T(s))for(;h<l;){var g=s[h++];if(!(typeof g=="number"&&0<=g&&255>=g&&g==(g|0)))throw Error("message must be a byte array");r.f[p++]=g,p==r.b&&(bv(r),p=0)}else throw Error("message must be string or array");r.c=p,r.g+=l}var RI=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function PI(){Bc.call(this,8,$P)}P(PI,Bc);var $P=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function OI(r,s,l,h,p,g){this.v=r,this.i=s,this.l=l,this.m=h||null,this.u=p||null,this.s=g,this.h=s+":"+l,this.C=new FP,this.g=new MP(this.h),this.f=null,this.b=[],this.a=this.c=null}function qc(r){return new N("invalid-cordova-configuration",r)}e=OI.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=OD().then(function(){if(typeof De("universalLinks.subscribe",f)!="function")throw qc("cordova-universal-links-plugin-fix is not installed");if(typeof De("BuildInfo.packageName",f)>"u")throw qc("cordova-plugin-buildinfo is not installed");if(typeof De("cordova.plugins.browsertab.openUrl",f)!="function")throw qc("cordova-plugin-browsertab is not installed");if(typeof De("cordova.InAppBrowser.open",f)!="function")throw qc("cordova-plugin-inappbrowser is not installed")},function(){throw new N("cordova-not-ready")})};function BP(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function zP(r){var s=new PI;Nv(s,r),r=[];var l=8*s.g;56>s.c?Nv(s,DI,56-s.c):Nv(s,DI,s.b-(s.c-56));for(var h=63;56<=h;h--)s.f[h]=l&255,l/=256;for(bv(s),h=l=0;h<s.i;h++)for(var p=24;0<=p;p-=8)r[l++]=s.a[h]>>p&255;return eR(r)}e.Pb=function(r,s){return s(new N("operation-not-supported-in-this-environment")),Z()},e.Nb=function(){return Ae(new N("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(r,s,l,h){if(this.c)return Ae(new N("redirect-operation-pending"));var p=this,g=f.document,w=null,b=null,O=null,j=null;return this.c=Z().then(function(){return zp(s),MI(p)}).then(function(){return qP(p,r,s,l,h)}).then(function(){return new ce(function(ie,Ee){b=function(){var me=De("cordova.plugins.browsertab.close",f);return ie(),typeof me=="function"&&me(),p.a&&typeof p.a.close=="function"&&(p.a.close(),p.a=null),!1},p.Ea(b),O=function(){w||(w=rs(2e3).then(function(){Ee(new N("redirect-cancelled-by-user"))}))},j=function(){Sp()&&O()},g.addEventListener("resume",O,!1),vt().toLowerCase().match(/android/)||g.addEventListener("visibilitychange",j,!1)}).o(function(ie){return Cv(p).then(function(){throw ie})})}).oa(function(){O&&g.removeEventListener("resume",O,!1),j&&g.removeEventListener("visibilitychange",j,!1),w&&w.cancel(),b&&p.Ta(b),p.c=null})};function qP(r,s,l,h,p){var g=BP(),w=new Un(s,h,null,g,new N("no-auth-event"),null,p),b=De("BuildInfo.packageName",f);if(typeof b!="string")throw new N("invalid-cordova-configuration");var O=De("BuildInfo.displayName",f),j={};if(vt().toLowerCase().match(/iphone|ipad|ipod/))j.ibi=b;else if(vt().toLowerCase().match(/android/))j.apn=b;else return Ae(new N("operation-not-supported-in-this-environment"));O&&(j.appDisplayName=O),g=zP(g),j.sessionId=g;var ie=ua(r.v,r.i,r.l,s,l,null,h,r.m,j,r.u,p,r.s);return r.ma().then(function(){var Ee=r.h;return r.C.a.set(_v,w.w(),Ee)}).then(function(){var Ee=De("cordova.plugins.browsertab.isAvailable",f);if(typeof Ee!="function")throw new N("invalid-cordova-configuration");var me=null;Ee(function(lt){if(lt){if(me=De("cordova.plugins.browsertab.openUrl",f),typeof me!="function")throw new N("invalid-cordova-configuration");me(ie)}else{if(me=De("cordova.InAppBrowser.open",f),typeof me!="function")throw new N("invalid-cordova-configuration");lt=vt(),r.a=me(ie,lt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||lt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function LI(r,s){for(var l=0;l<r.b.length;l++)try{r.b[l](s)}catch{}}function MI(r){return r.f||(r.f=r.ma().then(function(){return new ce(function(s){function l(h){return s(h),r.Ta(l),!1}r.Ea(l),KP(r)})})),r.f}function Cv(r){var s=null;return jP(r.g).then(function(l){return s=l,l=r.g,ms(l.b,_v,l.a)}).then(function(){return s})}function KP(r){function s(w){h=!0,p&&p.cancel(),Cv(r).then(function(b){var O=l;if(b&&w&&w.url){var j=null;O=NE(w.url),O.indexOf("/__/auth/callback")!=-1&&(j=Gt(O),j=ls(kn(j,"firebaseError")||null),j=(j=typeof j=="object"?pt(j):null)?new Un(b.c,b.b,null,null,j,null,b.T()):new Un(b.c,b.b,O,b.f,null,null,b.T())),O=j||l}LI(r,O)})}var l=new Un("unknown",null,null,null,new N("no-auth-event")),h=!1,p=rs(500).then(function(){return Cv(r).then(function(){h||LI(r,l)})}),g=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(De("BuildInfo.packageName",f).toLowerCase()+"://")==0&&s({url:w}),typeof g=="function")try{g(w)}catch(b){console.error(b)}},qp||(qp=new aR),lR(s)}e.Ea=function(r){this.b.push(r),MI(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new Un("unknown",null,null,null,new N("no-auth-event")),r(s))})},e.Ta=function(r){Mn(this.b,function(s){return s==r})};function HP(r){this.a=r,this.b=fa()}var xv={name:"pendingRedirect",F:"session"};function WP(r){return r.b.set(xv,"pending",r.a)}function Av(r){return ms(r.b,xv,r.a)}function GP(r){return r.b.get(xv,r.a).then(function(s){return s=="pending"})}function Kc(r,s,l,h){this.i={},this.u=0,this.D=r,this.v=s,this.m=l,this.J=h,this.h=[],this.f=!1,this.l=R(this.s,this),this.b=new Wc,this.C=new HI,this.g=new HP(zI(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=jI(this.D,this.v,this.m,Er,this.J)}function jI(r,s,l,h,p){var g=re.SDK_VERSION||null;return yp()?new OI(r,s,l,g,h,p):new lI(r,s,l,g,h,p)}Kc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=jI(this.D,this.v,this.m,null,this.J),this.i={}};function FI(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.ma().o(function(l){throw r.a==s&&r.reset(),l})}function UI(r){r.a.Yb()&&FI(r).o(function(s){var l=new Un("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));Rv(s)&&r.s(l)}),r.a.Ub()||qI(r.b)}function Hc(r,s){Ir(r.h,s)||r.h.push(s),r.f||GP(r.g).then(function(l){l?Av(r.g).then(function(){FI(r).o(function(h){var p=new Un("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));Rv(h)&&r.s(p)})}):UI(r)}).o(function(){UI(r)})}function Dv(r,s){Mn(r.h,function(l){return l==s})}Kc.prototype.s=function(r){if(!r)throw new N("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,l=0;l<this.h.length;l++){var h=this.h[l];if(h.Gb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),s=!0;break}}return qI(this.b),s};var QP=new Xr(2e3,1e4),XP=new Xr(3e4,6e4);Kc.prototype.ra=function(){return this.b.ra()};function VI(r,s,l,h,p,g,w){return r.a.Nb(s,l,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},p,g,w)}function Rv(r){return!!(r&&r.code=="auth/cordova-not-ready")}function $I(r,s,l,h,p){var g;return WP(r.g).then(function(){return r.a.Ob(s,l,h,p).o(function(w){if(Rv(w))throw new N("operation-not-supported-in-this-environment");return g=w,Av(r.g).then(function(){throw g})}).then(function(){return r.a.ac()?new ce(function(){}):Av(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function BI(r,s,l,h,p){return r.a.Pb(h,function(g){s.na(l,null,g,p)},QP.get())}var Pv={};function zI(r,s,l){return r=r+":"+s,l&&(r=r+":"+l.url),r}function Ov(r,s,l,h){var p=zI(s,l,h);return Pv[p]||(Pv[p]=new Kc(r,s,l,h)),Pv[p]}function Wc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Wc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Wc.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var l=r.c,h=r.b,p=r.a&&r.a.code=="auth/web-storage-unsupported",g=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!p&&!g),l!="unknown"||p||g?r.a?(uo(this,!0,null,r.a),Z()):s.Fa(l,h)?YP(this,r,s):Ae(new N("invalid-auth-event")):(uo(this,!1,null,null),Z())}else Ae(new N("invalid-auth-event"))};function qI(r){r.g||(r.g=!0,uo(r,!1,null,null))}function Gc(r){r.g&&!r.i&&uo(r,!1,null,null)}function YP(r,s,l){l=l.Fa(s.c,s.b);var h=s.g,p=s.f,g=s.i,w=s.T(),b=!!s.c.match(/Redirect$/);l(h,p,w,g).then(function(O){uo(r,b,O,null)}).o(function(O){uo(r,b,null,O)})}function JP(r,s){if(r.b=function(){return Ae(s)},r.c.length)for(var l=0;l<r.c.length;l++)r.c[l](s)}function KI(r,s){if(r.b=function(){return Z(s)},r.f.length)for(var l=0;l<r.f.length;l++)r.f[l](s)}function uo(r,s,l,h){s?h?JP(r,h):KI(r,l):KI(r,{user:null}),r.f=[],r.c=[]}Wc.prototype.ra=function(){var r=this;return new ce(function(s,l){r.b?r.b().then(s,l):(r.f.push(s),r.c.push(l),ZP(r))})};function ZP(r){var s=new N("timeout");r.a&&r.a.cancel(),r.a=rs(XP.get()).then(function(){r.b||(r.g=!0,uo(r,!0,null,s))})}function HI(){}HI.prototype.h=function(r,s){if(r){var l=r.c,h=r.b;r.a?(s.na(r.c,null,r.a,r.b),Z()):s.Fa(l,h)?eO(r,s):Ae(new N("invalid-auth-event"))}else Ae(new N("invalid-auth-event"))};function eO(r,s){var l=r.b,h=r.c;s.Fa(h,l)(r.g,r.f,r.T(),r.i).then(function(p){s.na(h,p,null,l)}).o(function(p){s.na(h,null,p,l)})}function WI(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function Lv(r,s){this.a=s,X(this,"verificationId",r)}Lv.prototype.confirm=function(r){return r=OE(this.verificationId,r),this.a(r)};function Mv(r,s,l,h){return new _r(r).gb(s,l).then(function(p){return new Lv(p,h)})}function tO(r){var s=wE(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new N("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Lt(this,{token:r,expirationTime:Hu(1e3*s.exp),authTime:Hu(1e3*s.auth_time),issuedAtTime:Hu(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function jv(r,s,l){var h=s&&s[QI];if(!h)throw new N("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=Hr(s),this.g=l,this.c=new Tc(null,h),this.b=[];var p=this;Oe(s[GI]||[],function(g){(g=Cp(g))&&p.b.push(g)}),X(this,"auth",this.a),X(this,"session",this.c),X(this,"hints",this.b)}var GI="mfaInfo",QI="mfaPendingCredential";jv.prototype.Rc=function(r){var s=this;return r.tb(this.a.a,this.c).then(function(l){var h=Hr(s.f);return delete h[GI],delete h[QI],Kt(h,l),s.g(h)})};function Fv(r,s,l,h){N.call(this,"multi-factor-auth-required",h,s),this.b=new jv(r,s,l),X(this,"resolver",this.b)}P(Fv,N);function XI(r,s,l){if(r&&x(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new Fv(s,r.serverResponse,l,r.message)}catch{}return null}function YI(){}YI.prototype.tb=function(r,s,l){return s.type==Xu?nO(this,r,s,l):rO(this,r,s)};function nO(r,s,l,h){return l.Ha().then(function(p){return p={idToken:p},typeof h<"u"&&(p.displayName=h),Kt(p,{phoneVerificationInfo:Yu(r.a)}),he(s,KR,p)})}function rO(r,s,l){return l.Ha().then(function(h){return h={mfaPendingCredential:h},Kt(h,{phoneVerificationInfo:Yu(r.a)}),he(s,HR,h)})}function Uv(r){X(this,"factorId",r.fa),this.a=r}P(Uv,YI);function JI(r){if(Uv.call(this,r),this.a.fa!=_r.PROVIDER_ID)throw new N("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}P(JI,Uv);function gs(r,s){Wt.call(this,r);for(var l in s)this[l]=s[l]}P(gs,Wt);function Vv(r,s){this.a=r,this.b=[],this.c=R(this.yc,this),_n(this.a,"userReloaded",this.c);var l=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&Oe(s.multiFactor.enrolledFactors,function(h){var p=null,g={};if(h){h.uid&&(g[Ap]=h.uid),h.displayName&&(g[iE]=h.displayName),h.enrollmentTime&&(g[xp]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(g[Dp]=h.phoneNumber);try{p=new Wu(g)}catch{}h=p}else h=null;h&&l.push(h)}),Qc(this,l)}function iO(r){var s=[];return Oe(r.mfaInfo||[],function(l){(l=Cp(l))&&s.push(l)}),s}e=Vv.prototype,e.yc=function(r){Qc(this,iO(r.hd))};function Qc(r,s){r.b=s,X(r,"enrolledFactors",s)}e.Sb=function(){return this.a.I().then(function(r){return new Tc(r,null)})},e.fc=function(r,s){var l=this,h=this.a.a;return this.Sb().then(function(p){return r.tb(h,p,s)}).then(function(p){return ur(l.a,p),l.a.reload()})},e.bd=function(r){var s=this,l=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(p){return he(h,hP,{idToken:p,mfaEnrollmentId:l})}).then(function(p){var g=LA(s.b,function(w){return w.uid!=l});return Qc(s,g),ur(s.a,p),s.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:ec(this.b,function(r){return r.w()})}}};function $v(r,s,l){if(this.h=r,this.i=s,this.g=l,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}$v.prototype.start=function(){this.a=this.c,Bv(this,!0)};function oO(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function Bv(r,s){r.stop(),r.b=rs(oO(r,s)).then(function(){return MD()}).then(function(){return r.h()}).then(function(){Bv(r,!0)}).o(function(l){r.i(l)&&Bv(r,!1)})}$v.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function zv(r){this.f=r,this.b=this.a=null,this.c=Date.now()}zv.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function ZI(r,s){typeof s>"u"&&(r.b?(s=r.b,s=s.a-s.g):s=0),r.c=Date.now()+1e3*s}function eS(r,s){r.b=Ic(s[$n]||""),r.a=s.refreshToken,s=s.expiresIn,ZI(r,typeof s<"u"?Number(s):void 0)}function sO(r,s){r.b=s.b,r.a=s.a,r.c=s.c}function uO(r,s){return xR(r.f,s).then(function(l){return r.b=Ic(l.access_token),r.a=l.refresh_token,ZI(r,l.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(l){throw l.code=="auth/user-token-expired"&&(r.a=null),l})}zv.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?Ae(new N("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?uO(this,{grant_type:"refresh_token",refresh_token:this.a}):Z(null):Z({accessToken:this.b.toString(),refreshToken:this.a})};function Xc(r,s){this.a=r||null,this.b=s||null,Lt(this,{lastSignInTime:Hu(s||null),creationTime:Hu(r||null)})}function aO(r){return new Xc(r.a,r.b)}Xc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function lO(r,s,l,h,p,g){Lt(this,{uid:r,displayName:h||null,photoURL:p||null,email:l||null,phoneNumber:g||null,providerId:s})}function ln(r,s,l){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=re.SDK_VERSION?us(re.SDK_VERSION):null;this.a=new Vn(this.l,Vi(Er),h),(this.u=r.emulatorConfig||null)&&Fc(this.a,this.u),this.h=new zv(this.a),Xv(this,s[$n]),eS(this.h,s),X(this,"refreshToken",this.h.a),nS(this,l||{}),Ot.call(this),this.P=!1,this.s&&Yi()&&(this.b=Ov(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=cO(this),this.ba=R(this.ib,this);var p=this;this.za=null,this.Pa=function(g){p.xa(g.h)},this.qa=null,this.Ba=function(g){qv(p,g.c)},this.$=null,this.aa=[],this.Oa=function(g){ha(p,g.f)},this.ja=null,this.S=new Vv(this,l),X(this,"multiFactor",this.S)}P(ln,Ot),ln.prototype.xa=function(r){this.za=r,XE(this.a,r)};function qv(r,s){r.u=s,Fc(r.a,s),r.b&&(s=r.b,r.b=Ov(r.s,r.l,r.m,r.u),r.P&&(Dv(s,r),Hc(r.b,r)))}ln.prototype.la=function(){return this.za};function Kv(r,s){r.qa&&un(r.qa,"languageCodeChanged",r.Pa),(r.qa=s)&&_n(s,"languageCodeChanged",r.Pa)}function Hv(r,s){r.$&&un(r.$,"emulatorConfigChanged",r.Ba),(r.$=s)&&_n(s,"emulatorConfigChanged",r.Ba)}function ha(r,s){r.aa=s,YE(r.a,re.SDK_VERSION?us(re.SDK_VERSION,r.aa):null)}ln.prototype.Ga=function(){return zi(this.aa)};function Wv(r,s){r.ja&&un(r.ja,"frameworkChanged",r.Oa),(r.ja=s)&&_n(s,"frameworkChanged",r.Oa)}ln.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Gv(r){try{return re.app(r.m).auth()}catch{throw new N("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function cO(r){return new $v(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=r.h.c-Date.now()-3e5;return 0<s?s:0})}function tS(r){r.J||r.D.b||(r.D.start(),un(r,"tokenChanged",r.ba),_n(r,"tokenChanged",r.ba))}function Qv(r){un(r,"tokenChanged",r.ba),r.D.stop()}function Xv(r,s){r.Aa=s,X(r,"_lat",s)}function fO(r,s){Mn(r.W,function(l){return l==s})}function ao(r){for(var s=[],l=0;l<r.W.length;l++)s.push(r.W[l](r));return w1(s).then(function(){return r})}function da(r){r.b&&!r.P&&(r.P=!0,Hc(r.b,r))}function nS(r,s){Lt(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new Xc(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}X(ln.prototype,"providerId","firebase");function rS(){}function Yv(r){return Z().then(function(){if(r.J)throw new N("app-deleted")})}function Jv(r){return ec(r.providerData,function(s){return s.providerId})}function Zv(r,s){s&&(iS(r,s.providerId),r.providerData.push(s))}function iS(r,s){Mn(r.providerData,function(l){return l.providerId==s})}function Zr(r,s,l){(s!="uid"||l)&&r.hasOwnProperty(s)&&X(r,s,l)}function Yc(r,s){r!=s&&(Lt(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?X(r,"metadata",aO(s.metadata)):X(r,"metadata",new Xc),Oe(s.providerData,function(l){Zv(r,l)}),sO(r.h,s.h),X(r,"refreshToken",r.h.a),Qc(r.S,s.S.b))}e=ln.prototype,e.reload=function(){var r=this;return it(this,Yv(this).then(function(){return em(r).then(function(){return ao(r)}).then(rS)}))};function em(r){return r.I().then(function(s){var l=r.isAnonymous;return hO(r,s).then(function(){return l||Zr(r,"isAnonymous",!1),s})})}e.oc=function(r){return this.I(r).then(function(s){return new tO(s)})},e.I=function(r){var s=this;return it(this,Yv(this).then(function(){return s.h.getToken(r)}).then(function(l){if(!l)throw new N("internal-error");return l.accessToken!=s.Aa&&(Xv(s,l.accessToken),s.dispatchEvent(new gs("tokenChanged"))),Zr(s,"refreshToken",l.refreshToken),l.accessToken}))};function ur(r,s){s[$n]&&r.Aa!=s[$n]&&(eS(r.h,s),r.dispatchEvent(new gs("tokenChanged")),Xv(r,s[$n]),Zr(r,"refreshToken",r.h.a))}function hO(r,s){return he(r.a,WR,{idToken:s}).then(R(r.Kc,r))}e.Kc=function(r){if(r=r.users,!r||!r.length)throw new N("internal-error");r=r[0],nS(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=dO(r),l=0;l<s.length;l++)Zv(this,s[l]);Zr(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new gs("userReloaded",{hd:r}))};function dO(r){return(r=r.providerUserInfo)&&r.length?ec(r,function(s){return new lO(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}e.Lc=function(r){return Tp("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},e.ub=function(r){var s=this,l=null;return it(this,r.c(this.a,this.uid).then(function(h){return ur(s,h),l=pa(s,h,"reauthenticate"),s.i=null,s.reload()}).then(function(){return l}),!0)};function Jc(r,s){return em(r).then(function(){if(Ir(Jv(r),s))return ao(r).then(function(){throw new N("provider-already-linked")})})}e.Cc=function(r){return Tp("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},e.rb=function(r){var s=this,l=null;return it(this,Jc(this,r.providerId).then(function(){return s.I()}).then(function(h){return r.b(s.a,h)}).then(function(h){return l=pa(s,h,"link"),oS(s,h)}).then(function(){return l}))},e.Dc=function(r,s){var l=this;return it(this,Jc(this,"phone").then(function(){return Mv(Gv(l),r,s,R(l.rb,l))}))},e.Mc=function(r,s){var l=this;return it(this,Z().then(function(){return Mv(Gv(l),r,s,R(l.ub,l))}),!0)};function pa(r,s,l){var h=Bp(s);return s=IE(s),or({user:r,credential:h,additionalUserInfo:s,operationType:l})}function oS(r,s){return ur(r,s),r.reload().then(function(){return r})}e.Cb=function(r){var s=this;return it(this,this.I().then(function(l){return s.a.Cb(l,r)}).then(function(l){return ur(s,l),s.reload()}))},e.ed=function(r){var s=this;return it(this,this.I().then(function(l){return r.b(s.a,l)}).then(function(l){return ur(s,l),s.reload()}))},e.Db=function(r){var s=this;return it(this,this.I().then(function(l){return s.a.Db(l,r)}).then(function(l){return ur(s,l),s.reload()}))},e.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return Yv(this);var s=this;return it(this,this.I().then(function(l){return s.a.Eb(l,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(l){return ur(s,l),Zr(s,"displayName",l.displayName||null),Zr(s,"photoURL",l.photoUrl||null),Oe(s.providerData,function(h){h.providerId==="password"&&(X(h,"displayName",s.displayName),X(h,"photoURL",s.photoURL))}),ao(s)}).then(rS))},e.cd=function(r){var s=this;return it(this,em(this).then(function(l){return Ir(Jv(s),r)?MR(s.a,l,[r]).then(function(h){var p={};return Oe(h.providerUserInfo||[],function(g){p[g.providerId]=!0}),Oe(Jv(s),function(g){p[g]||iS(s,g)}),p[_r.PROVIDER_ID]||X(s,"phoneNumber",null),ao(s)}):ao(s).then(function(){throw new N("no-such-provider")})}))},e.delete=function(){var r=this;return it(this,this.I().then(function(s){return he(r.a,$R,{idToken:s})}).then(function(){r.dispatchEvent(new gs("userDeleted"))})).then(function(){for(var s=0;s<r.N.length;s++)r.N[s].cancel("app-deleted");Kv(r,null),Hv(r,null),Wv(r,null),r.N=[],r.J=!0,Qv(r),X(r,"refreshToken",null),r.b&&Dv(r.b,r)})},e.Gb=function(r,s){return!!(r=="linkViaPopup"&&(this.g||null)==s&&this.f||r=="reauthViaPopup"&&(this.g||null)==s&&this.f||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},e.na=function(r,s,l,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(l&&this.C?this.C(l):s&&!l&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.g||null)?R(this.Lb,this):r=="reauthViaPopup"&&s==(this.g||null)?R(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==s?R(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?R(this.Mb,this):null},e.Ec=function(r){var s=this;return sS(this,"linkViaPopup",r,function(){return Jc(s,r.providerId).then(function(){return ao(s)})},!1)},e.Nc=function(r){return sS(this,"reauthViaPopup",r,function(){return Z()},!0)};function sS(r,s,l,h,p){if(!Yi())return Ae(new N("operation-not-supported-in-this-environment"));if(r.i&&!p)return Ae(r.i);var g=Mp(l.providerId),w=Ji(r.uid+":::"),b=null;(!qu()||wp())&&r.s&&l.isOAuthProvider&&(b=ua(r.s,r.l,r.m,s,l,null,w,re.SDK_VERSION||null,null,null,r.tenantId,r.u));var O=Q1(b,g&&g.va,g&&g.ua);return h=h().then(function(){if(aS(r),!p)return r.I().then(function(){})}).then(function(){return VI(r.b,O,s,l,w,!!b,r.tenantId)}).then(function(){return new ce(function(j,ie){r.na(s,null,new N("cancelled-popup-request"),r.g||null),r.f=j,r.C=ie,r.g=w,r.c=BI(r.b,r,s,O,w)})}).then(function(j){return O&&Xi(O),j?or(j):null}).o(function(j){throw O&&Xi(O),j}),it(r,h,p)}e.Fc=function(r){var s=this;return uS(this,"linkViaRedirect",r,function(){return Jc(s,r.providerId)},!1)},e.Oc=function(r){return uS(this,"reauthViaRedirect",r,function(){return Z()},!0)};function uS(r,s,l,h,p){if(!Yi())return Ae(new N("operation-not-supported-in-this-environment"));if(r.i&&!p)return Ae(r.i);var g=null,w=Ji(r.uid+":::");return h=h().then(function(){if(aS(r),!p)return r.I().then(function(){})}).then(function(){return r.ga=w,ao(r)}).then(function(b){return r.ha&&(b=r.ha,b=b.b.set(tm,r.w(),b.a)),b}).then(function(){return $I(r.b,s,l,w,r.tenantId)}).o(function(b){if(g=b,r.ha)return cS(r.ha);throw g}).then(function(){if(g)throw g}),it(r,h,p)}function aS(r){if(!r.b||!r.P)throw r.b&&!r.P?new N("internal-error"):new N("auth-domain-config-required")}e.Lb=function(r,s,l,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var g=null;return l=this.I().then(function(w){return lv(p.a,{requestUri:r,postBody:h,sessionId:s,idToken:w})}).then(function(w){return g=pa(p,w,"link"),oS(p,w)}).then(function(){return g}),it(this,l)},e.Mb=function(r,s,l,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var g=null,w=Z().then(function(){return fs(cv(p.a,{requestUri:r,sessionId:s,postBody:h,tenantId:l}),p.uid)}).then(function(b){return g=pa(p,b,"reauthenticate"),ur(p,b),p.i=null,p.reload()}).then(function(){return g});return it(this,w,!0)},e.vb=function(r){var s=this,l=null;return it(this,this.I().then(function(h){return l=h,typeof r>"u"||qi(r)?{}:wc(new yc(r))}).then(function(h){return s.a.vb(l,h)}).then(function(h){if(s.email!=h)return s.reload()}).then(function(){}))},e.Fb=function(r,s){var l=this,h=null;return it(this,this.I().then(function(p){return h=p,typeof s>"u"||qi(s)?{}:wc(new yc(s))}).then(function(p){return l.a.Fb(h,r,p)}).then(function(p){if(l.email!=p)return l.reload()}).then(function(){}))};function it(r,s,l){var h=pO(r,s,l);return r.N.push(h),h.oa(function(){tc(r.N,h)}),h.o(function(p){var g=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(g=XI(p.w(),Gv(r),R(r.jc,r))),g||p})}e.jc=function(r){var s=null,l=this;return r=fs(Z(r),l.uid).then(function(h){return s=pa(l,h,"reauthenticate"),ur(l,h),l.i=null,l.reload()}).then(function(){return s}),it(this,r,!0)};function pO(r,s,l){return r.i&&!l?(s.cancel(),Ae(r.i)):s.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new gs("userInvalidated")),r.i=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Kt(r,this.metadata.w()),Oe(this.providerData,function(s){r.providerData.push(UD(s))}),Kt(r,this.S.w()),r};function lS(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},l={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){l[$n]=r.stsTokenManager.accessToken,l.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(l.expiresIn=(h-Date.now())/1e3)}else return null;var p=new ln(s,l,r);return r.providerData&&Oe(r.providerData,function(g){g&&Zv(p,or(g))}),r.redirectEventId&&(p.ga=r.redirectEventId),p}function vO(r,s,l,h){var p=new ln(r,s);return l&&(p.ha=l),h&&ha(p,h),p.reload().then(function(){return p})}function mO(r,s,l,h){var p=r.h,g={};return g[$n]=p.b&&p.b.toString(),g.refreshToken=p.a,s=new ln(s||{apiKey:r.l,authDomain:r.s,appName:r.m},g),l&&(s.ha=l),h&&ha(s,h),Yc(s,r),s}function gO(r){this.a=r,this.b=fa()}var tm={name:"redirectUser",F:"session"};function cS(r){return ms(r.b,tm,r.a)}function yO(r,s){return r.b.get(tm,r.a).then(function(l){return l&&s&&(l.authDomain=s),lS(l||{})})}function nm(r){this.a=r,this.b=fa(),this.c=null,this.f=wO(this),this.b.addListener(ar("local"),this.a,R(this.g,this))}nm.prototype.g=function(){var r=this,s=ar("local");ys(this,function(){return Z().then(function(){return r.c&&r.c.F!="local"?r.b.get(s,r.a):null}).then(function(l){if(l)return rm(r,"local").then(function(){r.c=s})})})};function rm(r,s){var l=[],h;for(h in ps)ps[h]!==s&&l.push(ms(r.b,ar(ps[h]),r.a));return l.push(ms(r.b,im,r.a)),aD(l)}function wO(r){var s=ar("local"),l=ar("session"),h=ar("none");return OP(r.b,s,r.a).then(function(){return r.b.get(l,r.a)}).then(function(p){return p?l:r.b.get(h,r.a).then(function(g){return g?h:r.b.get(s,r.a).then(function(w){return w?s:r.b.get(im,r.a).then(function(b){return b?ar(b):s})})})}).then(function(p){return r.c=p,rm(r,p.F)}).o(function(){r.c||(r.c=s)})}var im={name:"persistence",F:"session"};function ar(r){return{name:"authUser",F:r}}nm.prototype.yb=function(r){var s=null,l=this;return PP(r),ys(this,function(){return r!=l.c.F?l.b.get(l.c,l.a).then(function(h){return s=h,rm(l,r)}).then(function(){if(l.c=ar(r),s)return l.b.set(l.c,s,l.a)}):Z()})};function EO(r){return ys(r,function(){return r.b.set(im,r.c.F,r.a)})}function fS(r,s){return ys(r,function(){return r.b.set(r.c,s.w(),r.a)})}function hS(r){return ys(r,function(){return ms(r.b,r.c,r.a)})}function dS(r,s,l){return ys(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&s&&(h.authDomain=s),h&&l&&(h.emulatorConfig=l),lS(h||{})})})}function ys(r,s){return r.f=r.f.then(s,s),r.f}function Bn(r){if(this.l=!1,X(this,"settings",new WI),X(this,"app",r),Se(this).options&&Se(this).options.apiKey)r=re.SDK_VERSION?us(re.SDK_VERSION):null,this.a=new Vn(Se(this).options&&Se(this).options.apiKey,Vi(Er),r);else throw new N("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=re.INTERNAL.createSubscribe(R(this.zc,this)),this.W=void 0,this.ib=re.INTERNAL.createSubscribe(R(this.Ac,this)),ws(this,null),this.i=new nm(Se(this).options.apiKey+":"+Se(this).name),this.D=new gO(Se(this).options.apiKey+":"+Se(this).name),this.$=Ve(this,bO(this)),this.h=Ve(this,NO(this)),this.ba=!1,this.ja=R(this.Zc,this),this.Ba=R(this.da,this),this.qa=R(this.mc,this),this.za=R(this.wc,this),this.Aa=R(this.xc,this),this.b=null,TO(this),this.INTERNAL={},this.INTERNAL.delete=R(this.delete,this),this.INTERNAL.logFramework=R(this.Gc,this),this.u=0,Ot.call(this),SO(this),this.J=[],this.R=null}P(Bn,Ot);function pS(r){Wt.call(this,"languageCodeChanged"),this.h=r}P(pS,Wt);function vS(r){Wt.call(this,"emulatorConfigChanged"),this.c=r}P(vS,Wt);function mS(r){Wt.call(this,"frameworkChanged"),this.f=r}P(mS,Wt),e=Bn.prototype,e.yb=function(r){return r=this.i.yb(r),Ve(this,r)},e.xa=function(r){this.aa===r||this.l||(this.aa=r,XE(this.a,this.aa),this.dispatchEvent(new pS(this.la())))},e.la=function(){return this.aa},e.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},e.gd=function(r,s){if(!this.R){if(!/^https?:\/\//.test(r))throw new N("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,IO(s),this.R={url:r,ec:s},this.settings.jb=!0,Fc(this.a,this.R),this.dispatchEvent(new vS(this.R))}};function IO(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&vc().then(function(){var s=f.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),f.document.body.appendChild(s)})}e.Gc=function(r){this.J.push(r),YE(this.a,re.SDK_VERSION?us(re.SDK_VERSION,this.J):null),this.dispatchEvent(new mS(this.J))},e.Ga=function(){return zi(this.J)},e.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},e.T=function(){return this.S};function SO(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var s=Gt(this.R.url);s=or({protocol:s.c,host:s.a,port:s.g,options:or({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}e.toJSON=function(){return{apiKey:Se(this).options.apiKey,authDomain:Se(this).options.authDomain,appName:Se(this).name,currentUser:ae(this)&&ae(this).w()}};function om(r){return r.Oa||Ae(new N("auth-domain-config-required"))}function TO(r){var s=Se(r).options.authDomain,l=Se(r).options.apiKey;s&&Yi()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Ov(s,l,Se(r).name,r.R),Hc(r.b,r),ae(r)&&da(ae(r)),r.m){da(r.m);var h=r.m;h.xa(r.la()),Kv(h,r),h=r.m,ha(h,r.J),Wv(h,r),h=r.m,qv(h,r.R),Hv(h,r),r.m=null}return r.b}}))}e.Gb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},e.na=function(r,s,l,h){r=="signInViaPopup"&&this.g==h&&(l&&this.C?this.C(l):s&&!l&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==s&&this.f?R(this.ic,this):null},e.ic=function(r,s,l,h){var p=this,g={requestUri:r,postBody:h,sessionId:s,tenantId:l};return this.c&&(this.c.cancel(),this.c=null),p.$.then(function(){return lo(p,av(p.a,g))})},e.Xc=function(r){if(!Yi())return Ae(new N("operation-not-supported-in-this-environment"));var s=this,l=Mp(r.providerId),h=Ji(),p=null;(!qu()||wp())&&Se(this).options.authDomain&&r.isOAuthProvider&&(p=ua(Se(this).options.authDomain,Se(this).options.apiKey,Se(this).name,"signInViaPopup",r,null,h,re.SDK_VERSION||null,null,null,this.T(),this.R));var g=Q1(p,l&&l.va,l&&l.ua);return l=om(this).then(function(w){return VI(w,g,"signInViaPopup",r,h,!!p,s.T())}).then(function(){return new ce(function(w,b){s.na("signInViaPopup",null,new N("cancelled-popup-request"),s.g),s.f=w,s.C=b,s.g=h,s.c=BI(s.b,s,"signInViaPopup",g,h)})}).then(function(w){return g&&Xi(g),w?or(w):null}).o(function(w){throw g&&Xi(g),w}),Ve(this,l)},e.Yc=function(r){if(!Yi())return Ae(new N("operation-not-supported-in-this-environment"));var s=this,l=om(this).then(function(){return EO(s.i)}).then(function(){return $I(s.b,"signInViaRedirect",r,void 0,s.T())});return Ve(this,l)};function gS(r){if(!Yi())return Ae(new N("operation-not-supported-in-this-environment"));var s=om(r).then(function(){return r.b.ra()}).then(function(l){return l?or(l):null});return Ve(r,s)}e.ra=function(){var r=this;return gS(this).then(function(s){return r.b&&Gc(r.b.b),s}).o(function(s){throw r.b&&Gc(r.b.b),s})},e.dd=function(r){if(!r)return Ae(new N("null-user"));if(this.S!=r.tenantId)return Ae(new N("tenant-id-mismatch"));var s=this,l={};l.apiKey=Se(this).options.apiKey,l.authDomain=Se(this).options.authDomain,l.appName=Se(this).name;var h=mO(r,l,s.D,s.Ga());return Ve(this,this.h.then(function(){if(Se(s).options.apiKey!=r.l)return h.reload()}).then(function(){return ae(s)&&r.uid==ae(s).uid?(Yc(ae(s),r),s.da(r)):(ws(s,h),da(h),s.da(h))}).then(function(){va(s)}))};function _O(r,s){var l={};return l.apiKey=Se(r).options.apiKey,l.authDomain=Se(r).options.authDomain,l.appName=Se(r).name,r.R&&(l.emulatorConfig=r.R),r.$.then(function(){return vO(l,s,r.D,r.Ga())}).then(function(h){return ae(r)&&h.uid==ae(r).uid?(Yc(ae(r),h),r.da(h)):(ws(r,h),da(h),r.da(h))}).then(function(){va(r)})}function ws(r,s){ae(r)&&(fO(ae(r),r.Ba),un(ae(r),"tokenChanged",r.qa),un(ae(r),"userDeleted",r.za),un(ae(r),"userInvalidated",r.Aa),Qv(ae(r))),s&&(s.W.push(r.Ba),_n(s,"tokenChanged",r.qa),_n(s,"userDeleted",r.za),_n(s,"userInvalidated",r.Aa),0<r.u&&tS(s)),X(r,"currentUser",s),s&&(s.xa(r.la()),Kv(s,r),ha(s,r.J),Wv(s,r),qv(s,r.R),Hv(s,r))}e.Bb=function(){var r=this,s=this.h.then(function(){return r.b&&Gc(r.b.b),ae(r)?(ws(r,null),hS(r.i).then(function(){va(r)})):Z()});return Ve(this,s)};function kO(r){var s=yO(r.D,Se(r).options.authDomain).then(function(l){return(r.m=l)&&(l.ha=r.D),cS(r.D)});return Ve(r,s)}function bO(r){var s=Se(r).options.authDomain,l=kO(r).then(function(){return dS(r.i,s,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return fS(r.i,h).then(function(){return h})}).o(function(p){return p.code=="auth/network-request-failed"?h:hS(r.i)})):null}).then(function(h){ws(r,h||null)});return Ve(r,l)}function NO(r){return r.$.then(function(){return gS(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var s=r.i;s.b.addListener(ar("local"),s.a,r.ja)}})}e.Zc=function(){var r=this;return dS(this.i,Se(this).options.authDomain).then(function(s){if(!r.l){var l;if(l=ae(r)&&s){l=ae(r).uid;var h=s.uid;l=l==null||l===""||h===void 0||h===null||h===""?!1:l==h}if(l)return Yc(ae(r),s),ae(r).I();(ae(r)||s)&&(ws(r,s),s&&(da(s),s.ha=r.D),r.b&&Hc(r.b,r),va(r))}})},e.da=function(r){return fS(this.i,r)},e.mc=function(){va(this),this.da(ae(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function lo(r,s){var l=null,h=null;return Ve(r,s.then(function(p){return l=Bp(p),h=IE(p),_O(r,p)},function(p){var g=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(g=XI(p.w(),r,R(r.kc,r))),g||p}).then(function(){return or({user:ae(r),credential:l,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(r){var s=this;return this.h.then(function(){return lo(s,Z(r))})},e.zc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(ae(s))})},e.Ac=function(r){var s=this;CO(this,function(){r.next(ae(s))})},e.Ic=function(r,s,l){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(ae(h)):typeof r.next=="function"&&r.next(ae(h))}),this.Pa(r,s,l)},e.Hc=function(r,s,l){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(ae(h)):typeof r.next=="function"&&r.next(ae(h))}),this.ib(r,s,l)},e.nc=function(r){var s=this,l=this.h.then(function(){return ae(s)?ae(s).I(r).then(function(h){return{accessToken:h}}):null});return Ve(this,l)},e.Tc=function(r){var s=this;return this.h.then(function(){return lo(s,he(s.a,aP,{token:r}))}).then(function(l){var h=l.user;return Zr(h,"isAnonymous",!1),s.da(h),l})},e.Uc=function(r,s){var l=this;return this.h.then(function(){return lo(l,he(l.a,sI,{email:r,password:s}))})},e.dc=function(r,s){var l=this;return this.h.then(function(){return lo(l,he(l.a,UR,{email:r,password:s}))})},e.ab=function(r){var s=this;return this.h.then(function(){return lo(s,r.ka(s.a))})},e.Sc=function(r){return Tp("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},e.Ab=function(){var r=this;return this.h.then(function(){var s=ae(r);if(s&&s.isAnonymous){var l=or({providerId:null,isNewUser:!1});return or({user:s,credential:null,additionalUserInfo:l,operationType:"signIn"})}return lo(r,r.a.Ab()).then(function(h){var p=h.user;return Zr(p,"isAnonymous",!0),r.da(p),h})})};function Se(r){return r.app}function ae(r){return r.currentUser}e.getUid=function(){return ae(this)&&ae(this).uid||null};function Zc(r){return ae(r)&&ae(r)._lat||null}function va(r){if(r.ba){for(var s=0;s<r.s.length;s++)r.s[s]&&r.s[s](Zc(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),s=0;s<r.N.length;s++)r.N[s]&&r.N[s](Zc(r))}}e.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&ae(this)&&tS(ae(this))},e.Pc=function(r){var s=this;Oe(this.s,function(l){l==r&&s.u--}),0>this.u&&(this.u=0),this.u==0&&ae(this)&&Qv(ae(this)),this.removeAuthTokenListener(r)},e.addAuthTokenListener=function(r){var s=this;this.s.push(r),Ve(this,this.h.then(function(){s.l||Ir(s.s,r)&&r(Zc(s))}))},e.removeAuthTokenListener=function(r){Mn(this.s,function(s){return s==r})};function CO(r,s){r.N.push(s),Ve(r,r.h.then(function(){!r.l&&Ir(r.N,s)&&r.W!==r.getUid()&&(r.W=r.getUid(),s(Zc(r)))}))}e.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(ar("local"),r.a,this.ja)),this.b&&(Dv(this.b,this),Gc(this.b.b)),Promise.resolve()};function Ve(r,s){return r.P.push(s),s.oa(function(){tc(r.P,s)}),s}e.hc=function(r){return Ve(this,AR(this.a,r))},e.Bc=function(r){return!!$p(r)},e.xb=function(r,s){var l=this;return Ve(this,Z().then(function(){var h=new yc(s);if(!h.c)throw new N("argument-error",Op+" must be true when sending sign in link to email");return wc(h)}).then(function(h){return l.a.xb(r,h)}).then(function(){}))},e.jd=function(r){return this.Sa(r).then(function(s){return s.data.email})},e.ob=function(r,s){return Ve(this,this.a.ob(r,s).then(function(){}))},e.Sa=function(r){return Ve(this,this.a.Sa(r).then(function(s){return new $D(s)}))},e.kb=function(r){return Ve(this,this.a.kb(r).then(function(){}))},e.wb=function(r,s){var l=this;return Ve(this,Z().then(function(){return typeof s>"u"||qi(s)?{}:wc(new yc(s))}).then(function(h){return l.a.wb(r,h)}).then(function(){}))},e.Wc=function(r,s){return Ve(this,Mv(this,r,s,R(this.ab,this)))},e.Vc=function(r,s){var l=this;return Ve(this,Z().then(function(){var h=s||zu(),p=PE(r,h);if(h=$p(h),!h)throw new N("argument-error","Invalid email link!");if(h.tenantId!==l.T())throw new N("tenant-id-mismatch");return l.ab(p)}))};function ma(){}ma.prototype.render=function(){},ma.prototype.reset=function(){},ma.prototype.getResponse=function(){},ma.prototype.execute=function(){};function Es(){this.a={},this.b=1e12}var sm=null;Es.prototype.render=function(r,s){return this.a[this.b.toString()]=new ef(r,s),this.b++},Es.prototype.reset=function(r){var s=um(this,r);r=yS(r),s&&r&&(s.delete(),delete this.a[r])},Es.prototype.getResponse=function(r){return(r=um(this,r))?r.getResponse():null},Es.prototype.execute=function(r){(r=um(this,r))&&r.execute()};function um(r,s){return(s=yS(s))&&r.a[s]||null}function yS(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function ef(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Mu(r);var l=this;this.i=function(){l.execute()},this.h?this.execute():_n(this.f,"click",this.i)}ef.prototype.getResponse=function(){return am(this),this.b},ef.prototype.execute=function(){am(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=LD();var s=r.c.callback,l=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,l)try{l()}catch{}r.h&&r.execute()},6e4)},500))},ef.prototype.delete=function(){am(this),this.g=!0,clearTimeout(this.a),this.a=null,un(this.f,"click",this.i)};function am(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function lm(){}X(lm,"FACTOR_ID","phone");function cm(){}cm.prototype.g=function(){return sm||(sm=new Es),Z(sm)},cm.prototype.c=function(){};var fm=null;function hm(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var xO=new nr(nc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),AO=new Xr(3e4,6e4);hm.prototype.g=function(r){var s=this;return new ce(function(l,h){var p=setTimeout(function(){h(new N("network-request-failed"))},AO.get());if(!f.grecaptcha||r!==s.f&&!s.b){f[s.a]=function(){if(f.grecaptcha){s.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(b,O){return b=w(b,O),s.b++,b},clearTimeout(p),l(f.grecaptcha)}else clearTimeout(p),h(new N("internal-error"));delete f[s.a]};var g=Wd(xO,{onload:s.a,hl:r||""});Z(tv(g)).o(function(){clearTimeout(p),h(new N("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(p),l(f.grecaptcha)})},hm.prototype.c=function(){this.b--};var dm=null;function pm(r,s,l,h,p,g,w){if(X(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,w?(fm||(fm=new cm),w=fm):(dm||(dm=new hm),w=dm),this.m=w,this.a=l||{theme:"light",type:"image"},this.h=[],this.a[IS])throw new N("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[DO]==="invisible",!f.document)throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Mu(s)||!this.i&&Mu(s).hasChildNodes())throw new N("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Vn(r,g||null,p||null),this.u=h||function(){return null};var b=this;this.l=[];var O=this.a[wS];this.a[wS]=function(ie){if(SS(b,ie),typeof O=="function")O(ie);else if(typeof O=="string"){var Ee=De(O,f);typeof Ee=="function"&&Ee(ie)}};var j=this.a[ES];this.a[ES]=function(){if(SS(b,null),typeof j=="function")j();else if(typeof j=="string"){var ie=De(j,f);typeof ie=="function"&&ie()}}}var wS="callback",ES="expired-callback",IS="sitekey",DO="size";function SS(r,s){for(var l=0;l<r.l.length;l++)try{r.l[l](s)}catch{}}function RO(r,s){Mn(r.l,function(l){return l==s})}function vm(r,s){return r.h.push(s),s.oa(function(){tc(r.h,s)}),s}e=pm.prototype,e.Ia=function(){var r=this;return this.f?this.f:this.f=vm(this,Z().then(function(){if(mc()&&!Fn())return vc();throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(s){return r.g=s,he(r.s,ZR,{})}).then(function(s){r.a[IS]=s.recaptchaSiteKey}).o(function(s){throw r.f=null,s}))},e.render=function(){tf(this);var r=this;return vm(this,this.Ia().then(function(){if(r.c===null){var s=r.v;if(!r.i){var l=Mu(s);s=iD("DIV"),l.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},e.verify=function(){tf(this);var r=this;return vm(this,this.render().then(function(s){return new ce(function(l){var h=r.g.getResponse(s);if(h)l(h);else{var p=function(g){g&&(RO(r,p),l(g))};r.l.push(p),r.i&&r.g.execute(r.c)}})}))},e.reset=function(){tf(this),this.c!==null&&this.g.reset(this.c)};function tf(r){if(r.J)throw new N("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){tf(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=Mu(this.v);for(var s;s=r.firstChild;)r.removeChild(s)}};function mm(r,s,l){var h=!1;try{this.b=l||re.app()}catch{throw new N("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)l=this.b.options.apiKey;else throw new N("invalid-api-key");var p=this,g=null;try{g=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}g=re.SDK_VERSION?us(re.SDK_VERSION,g):null,pm.call(this,l,r,s,function(){try{var w=p.b.auth().la()}catch{w=null}return w},g,Vi(Er),h)}P(mm,pm);function TS(r,s,l,h){e:{l=Array.prototype.slice.call(l);for(var p=0,g=!1,w=0;w<s.length;w++)if(s[w].optional)g=!0;else{if(g)throw new N("internal-error","Argument validator encountered a required argument after an optional argument.");p++}if(g=s.length,l.length<p||g<l.length)h="Expected "+(p==g?p==1?"1 argument":p+" arguments":p+"-"+g+" arguments")+" but got "+l.length+".";else{for(p=0;p<l.length;p++)if(g=s[p].optional&&l[p]===void 0,!s[p].M(l[p])&&!g){if(s=s[p],0>p||p>=_S.length)throw new N("internal-error","Argument validator received an unsupported number of arguments.");l=_S[p],h=(h?"":l+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break e}h=null}}if(h)throw new N("argument-error",r+" failed: "+h)}var _S="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Q(r,s){return{name:r||"",K:"a valid string",optional:!!s,M:function(l){return typeof l=="string"}}}function gm(r,s){return{name:r||"",K:"a boolean",optional:!!s,M:function(l){return typeof l=="boolean"}}}function Qe(r,s){return{name:r||"",K:"a valid object",optional:!!s,M:x}}function Is(r,s){return{name:r||"",K:"a function",optional:!!s,M:function(l){return typeof l=="function"}}}function lr(r,s){return{name:r||"",K:"null",optional:!!s,M:function(l){return l===null}}}function PO(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function OO(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof Bn)}}}function LO(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof re.app.App)}}}function ei(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var l=!r||s.providerId===r;return!(!s.ka||!l)}}}function kS(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function Ss(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function ym(r,s){return x(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function bS(r){return x(r)&&typeof r.uid=="string"}function nf(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function He(r,s,l,h){return{name:l||"",K:r.K+" or "+s.K,optional:!!h,M:function(p){return r.M(p)||s.M(p)}}}function Le(r,s){for(var l in s){var h=s[l].name;r[h]=CS(h,r[l],s[l].j)}}function NS(r,s){for(var l in s){var h=s[l].name;h!==l&&Object.defineProperty(r,h,{get:q(function(p){return this[p]},l),set:q(function(p,g,w,b){TS(p,[w],[b],!0),this[g]=b},h,l,s[l].lb),enumerable:!0})}}function We(r,s,l,h){r[s]=CS(s,l,h)}function CS(r,s,l){function h(){var w=Array.prototype.slice.call(arguments);return TS(p,l,w),s.apply(this,w)}if(!l)return s;var p=MO(r),g;for(g in s)h[g]=s[g];for(g in s.prototype)h.prototype[g]=s.prototype[g];return h}function MO(r){return r=r.split("."),r[r.length-1]}Le(Bn.prototype,{kb:{name:"applyActionCode",j:[Q("code")]},Sa:{name:"checkActionCode",j:[Q("code")]},ob:{name:"confirmPasswordReset",j:[Q("code"),Q("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Q("email"),Q("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Q("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Q("emailLink")]},Hc:{name:"onAuthStateChanged",j:[He(Qe(),Is(),"nextOrObserver"),Is("opt_error",!0),Is("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[He(Qe(),Is(),"nextOrObserver"),Is("opt_error",!0),Is("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Q("email"),He(Qe("opt_actionCodeSettings",!0),lr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Q("email"),Qe("actionCodeSettings")]},yb:{name:"setPersistence",j:[Q("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ei()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ei()]},Tc:{name:"signInWithCustomToken",j:[Q("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Q("email"),Q("password")]},Vc:{name:"signInWithEmailLink",j:[Q("email"),Q("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Q("phoneNumber"),nf()]},Xc:{name:"signInWithPopup",j:[Ss()]},Yc:{name:"signInWithRedirect",j:[Ss()]},dd:{name:"updateCurrentUser",j:[He(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(s){return!!(s&&s instanceof ln)}}}(),lr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Q(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Q("url"),Qe("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Q("code")]}}),NS(Bn.prototype,{lc:{name:"languageCode",lb:He(Q(),lr(),"languageCode")},ti:{name:"tenantId",lb:He(Q(),lr(),"tenantId")}}),Bn.Persistence=ps,Bn.Persistence.LOCAL="local",Bn.Persistence.SESSION="session",Bn.Persistence.NONE="none",Le(ln.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[gm("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[gm("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ei()]},rb:{name:"linkWithCredential",j:[ei()]},Dc:{name:"linkWithPhoneNumber",j:[Q("phoneNumber"),nf()]},Ec:{name:"linkWithPopup",j:[Ss()]},Fc:{name:"linkWithRedirect",j:[Ss()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ei()]},ub:{name:"reauthenticateWithCredential",j:[ei()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Q("phoneNumber"),nf()]},Nc:{name:"reauthenticateWithPopup",j:[Ss()]},Oc:{name:"reauthenticateWithRedirect",j:[Ss()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[He(Qe("opt_actionCodeSettings",!0),lr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Q(null,!0)]},cd:{name:"unlink",j:[Q("provider")]},Cb:{name:"updateEmail",j:[Q("email")]},Db:{name:"updatePassword",j:[Q("password")]},ed:{name:"updatePhoneNumber",j:[ei("phone")]},Eb:{name:"updateProfile",j:[Qe("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Q("email"),He(Qe("opt_actionCodeSettings",!0),lr(null,!0),"opt_actionCodeSettings",!0)]}}),Le(Es.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Le(ma.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Le(ce.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),NS(WI.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:gm("appVerificationDisabledForTesting")}}),Le(Lv.prototype,{confirm:{name:"confirm",j:[Q("verificationCode")]}}),We(cs,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,l=[oR,sR,uR,iR],h=0;h<l.length;h++)if(s=l[h](r))return s;return null},[He(Q(),Qe(),"json")]),We(bn,"credential",function(r,s){return new Yr(r,s)},[Q("email"),Q("password")]),Le(Yr.prototype,{w:{name:"toJSON",j:[Q(null,!0)]}}),Le(to.prototype,{Ca:{name:"addScope",j:[Q("scope")]},Ka:{name:"setCustomParameters",j:[Qe("customOAuthParameters")]}}),We(to,"credential",xE,[He(Q(),Qe(),"token")]),We(bn,"credentialWithLink",PE,[Q("email"),Q("emailLink")]),Le(no.prototype,{Ca:{name:"addScope",j:[Q("scope")]},Ka:{name:"setCustomParameters",j:[Qe("customOAuthParameters")]}}),We(no,"credential",AE,[He(Q(),Qe(),"token")]),Le(ro.prototype,{Ca:{name:"addScope",j:[Q("scope")]},Ka:{name:"setCustomParameters",j:[Qe("customOAuthParameters")]}}),We(ro,"credential",DE,[He(Q(),He(Qe(),lr()),"idToken"),He(Q(),lr(),"accessToken",!0)]),Le(hs.prototype,{Ka:{name:"setCustomParameters",j:[Qe("customOAuthParameters")]}}),We(hs,"credential",RE,[He(Q(),Qe(),"token"),Q("secret",!0)]),Le(an.prototype,{Ca:{name:"addScope",j:[Q("scope")]},credential:{name:"credential",j:[He(Q(),He(Qe(),lr()),"optionsOrIdToken"),He(Q(),lr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Qe("customOAuthParameters")]}}),Le(Tr.prototype,{w:{name:"toJSON",j:[Q(null,!0)]}}),Le(Zi.prototype,{w:{name:"toJSON",j:[Q(null,!0)]}}),We(_r,"credential",OE,[Q("verificationId"),Q("verificationCode")]),Le(_r.prototype,{gb:{name:"verifyPhoneNumber",j:[He(Q(),function(r,s){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(l){return l?l.session&&l.phoneNumber?ym(l.session,Xu)&&typeof l.phoneNumber=="string":l.session&&l.multiFactorHint?ym(l.session,_c)&&bS(l.multiFactorHint):l.session&&l.multiFactorUid?ym(l.session,_c)&&typeof l.multiFactorUid=="string":l.phoneNumber?typeof l.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),nf()]}}),Le(Jr.prototype,{w:{name:"toJSON",j:[Q(null,!0)]}}),Le(N.prototype,{toJSON:{name:"toJSON",j:[Q(null,!0)]}}),Le(Ju.prototype,{toJSON:{name:"toJSON",j:[Q(null,!0)]}}),Le(Kp.prototype,{toJSON:{name:"toJSON",j:[Q(null,!0)]}}),Le(Fv.prototype,{toJSON:{name:"toJSON",j:[Q(null,!0)]}}),Le(jv.prototype,{Rc:{name:"resolveSignIn",j:[kS()]}}),Le(Vv.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[kS(),Q("displayName",!0)]},bd:{name:"unenroll",j:[He({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:bS},Q(),"multiFactorInfoIdentifier")]}}),Le(mm.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),We(Pp,"parseLink",fE,[Q("link")]),We(lm,"assertion",function(r){return new JI(r)},[ei("phone")]),function(){if(typeof re<"u"&&re.INTERNAL&&re.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:gc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Rp,VERIFY_AND_CHANGE_EMAIL:Gu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Bn,AuthCredential:cs,Error:N};We(r,"EmailAuthProvider",bn,[]),We(r,"FacebookAuthProvider",to,[]),We(r,"GithubAuthProvider",no,[]),We(r,"GoogleAuthProvider",ro,[]),We(r,"TwitterAuthProvider",hs,[]),We(r,"OAuthProvider",an,[Q("providerId")]),We(r,"SAMLAuthProvider",CE,[Q("providerId")]),We(r,"PhoneAuthProvider",_r,[OO()]),We(r,"RecaptchaVerifier",mm,[He(Q(),PO(),"recaptchaContainer"),Qe("recaptchaParameters",!0),LO()]),We(r,"ActionCodeURL",Pp,[]),We(r,"PhoneMultiFactorGenerator",lm,[]),re.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new Bn(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),re.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:R(s.getUid,s),getToken:R(s.nc,s),addAuthTokenListener:R(s.cc,s),removeAuthTokenListener:R(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),re.registerVersion("@firebase/auth","0.16.8"),re.INTERNAL.extendNamespace({User:ln})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});const i8={apiKey:"AIzaSyB97d44iR5CG-CEdZ7R4KfaGRA5PpI9R4s",authDomain:"web1c3-rubrica.firebaseapp.com",projectId:"web1c3-rubrica",storageBucket:"web1c3-rubrica.appspot.com",messagingSenderId:"749792882811",appId:"1:749792882811:web:3c3fa02ca7f2abddf472de",measurementId:"G-PY62CRBJXG"};re.initializeApp(i8);const ug=re.firestore(),ag=re.auth();/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Al.apply(this,arguments)}var mi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(mi||(mi={}));const ak="popstate";function o8(e){e===void 0&&(e={});function t(i,o){let{pathname:u,search:a,hash:c}=i.location;return Ry("",{pathname:u,search:a,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Hh(o)}return u8(t,n,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function SA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function s8(){return Math.random().toString(36).substr(2,8)}function lk(e,t){return{usr:e.state,key:e.key,idx:t}}function Ry(e,t,n,i){return n===void 0&&(n=null),Al({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pu(t):t,{state:n,key:t&&t.key||i||s8()})}function Hh(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Pu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function u8(e,t,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:u=!1}=i,a=o.history,c=mi.Pop,f=null,d=v();d==null&&(d=0,a.replaceState(Al({},a.state,{idx:d}),""));function v(){return(a.state||{idx:null}).idx}function m(){c=mi.Pop;let x=v(),S=x==null?null:x-d;d=x,f&&f({action:c,location:k.location,delta:S})}function y(x,S){c=mi.Push;let I=Ry(k.location,x,S);d=v()+1;let _=lk(I,d),A=k.createHref(I);try{a.pushState(_,"",A)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(A)}u&&f&&f({action:c,location:k.location,delta:1})}function E(x,S){c=mi.Replace;let I=Ry(k.location,x,S);d=v();let _=lk(I,d),A=k.createHref(I);a.replaceState(_,"",A),u&&f&&f({action:c,location:k.location,delta:0})}function T(x){let S=o.location.origin!=="null"?o.location.origin:o.location.href,I=typeof x=="string"?x:Hh(x);return I=I.replace(/ $/,"%20"),et(S,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,S)}let k={get action(){return c},get location(){return e(o,a)},listen(x){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(ak,m),f=x,()=>{o.removeEventListener(ak,m),f=null}},createHref(x){return t(o,x)},createURL:T,encodeLocation(x){let S=T(x);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:E,go(x){return a.go(x)}};return k}var ck;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ck||(ck={}));function a8(e,t,n){n===void 0&&(n="/");let i=typeof t=="string"?Pu(t):t,o=$w(i.pathname||"/",n);if(o==null)return null;let u=TA(e);l8(u);let a=null;for(let c=0;a==null&&c<u.length;++c){let f=I8(o);a=y8(u[c],f)}return a}function TA(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(u,a,c)=>{let f={relativePath:c===void 0?u.path||"":c,caseSensitive:u.caseSensitive===!0,childrenIndex:a,route:u};f.relativePath.startsWith("/")&&(et(f.relativePath.startsWith(i),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(i.length));let d=Ni([i,f.relativePath]),v=n.concat(f);u.children&&u.children.length>0&&(et(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),TA(u.children,t,v,d)),!(u.path==null&&!u.index)&&t.push({path:d,score:m8(d,u.index),routesMeta:v})};return e.forEach((u,a)=>{var c;if(u.path===""||!((c=u.path)!=null&&c.includes("?")))o(u,a);else for(let f of _A(u.path))o(u,a,f)}),t}function _A(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let a=_A(i.join("/")),c=[];return c.push(...a.map(f=>f===""?u:[u,f].join("/"))),o&&c.push(...a),c.map(f=>e.startsWith("/")&&f===""?"/":f)}function l8(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:g8(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const c8=/^:[\w-]+$/,f8=3,h8=2,d8=1,p8=10,v8=-2,fk=e=>e==="*";function m8(e,t){let n=e.split("/"),i=n.length;return n.some(fk)&&(i+=v8),t&&(i+=h8),n.filter(o=>!fk(o)).reduce((o,u)=>o+(c8.test(u)?f8:u===""?d8:p8),i)}function g8(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function y8(e,t){let{routesMeta:n}=e,i={},o="/",u=[];for(let a=0;a<n.length;++a){let c=n[a],f=a===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",v=w8({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},d);if(!v)return null;Object.assign(i,v.params);let m=c.route;u.push({params:i,pathname:Ni([o,v.pathname]),pathnameBase:k8(Ni([o,v.pathnameBase])),route:m}),v.pathnameBase!=="/"&&(o=Ni([o,v.pathnameBase]))}return u}function w8(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=E8(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let u=o[0],a=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce((d,v,m)=>{let{paramName:y,isOptional:E}=v;if(y==="*"){let k=c[m]||"";a=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const T=c[m];return E&&!T?d[y]=void 0:d[y]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:u,pathnameBase:a,pattern:e}}function E8(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),SA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,f)=>(i.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function I8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return SA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $w(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function S8(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:o=""}=typeof e=="string"?Pu(e):e;return{pathname:n?n.startsWith("/")?n:T8(n,t):t,search:b8(i),hash:N8(o)}}function T8(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function lg(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _8(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function kA(e,t){let n=_8(e);return t?n.map((i,o)=>o===e.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function bA(e,t,n,i){i===void 0&&(i=!1);let o;typeof e=="string"?o=Pu(e):(o=Al({},e),et(!o.pathname||!o.pathname.includes("?"),lg("?","pathname","search",o)),et(!o.pathname||!o.pathname.includes("#"),lg("#","pathname","hash",o)),et(!o.search||!o.search.includes("#"),lg("#","search","hash",o)));let u=e===""||o.pathname==="",a=u?"/":o.pathname,c;if(a==null)c=n;else{let m=t.length-1;if(!i&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),m-=1;o.pathname=y.join("/")}c=m>=0?t[m]:"/"}let f=S8(o,c),d=a&&a!=="/"&&a.endsWith("/"),v=(u||a===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||v)&&(f.pathname+="/"),f}const Ni=e=>e.join("/").replace(/\/\/+/g,"/"),k8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),b8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,N8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function C8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const NA=["post","put","patch","delete"];new Set(NA);const x8=["get",...NA];new Set(x8);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Dl.apply(this,arguments)}const Bw=B.createContext(null),A8=B.createContext(null),Qo=B.createContext(null),Bd=B.createContext(null),Xo=B.createContext({outlet:null,matches:[],isDataRoute:!1}),CA=B.createContext(null);function D8(e,t){let{relative:n}=t===void 0?{}:t;Zl()||et(!1);let{basename:i,navigator:o}=B.useContext(Qo),{hash:u,pathname:a,search:c}=DA(e,{relative:n}),f=a;return i!=="/"&&(f=a==="/"?i:Ni([i,a])),o.createHref({pathname:f,search:c,hash:u})}function Zl(){return B.useContext(Bd)!=null}function zd(){return Zl()||et(!1),B.useContext(Bd).location}function xA(e){B.useContext(Qo).static||B.useLayoutEffect(e)}function AA(){let{isDataRoute:e}=B.useContext(Xo);return e?q8():R8()}function R8(){Zl()||et(!1);let e=B.useContext(Bw),{basename:t,future:n,navigator:i}=B.useContext(Qo),{matches:o}=B.useContext(Xo),{pathname:u}=zd(),a=JSON.stringify(kA(o,n.v7_relativeSplatPath)),c=B.useRef(!1);return xA(()=>{c.current=!0}),B.useCallback(function(d,v){if(v===void 0&&(v={}),!c.current)return;if(typeof d=="number"){i.go(d);return}let m=bA(d,JSON.parse(a),u,v.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ni([t,m.pathname])),(v.replace?i.replace:i.push)(m,v.state,v)},[t,i,a,u,e])}function DA(e,t){let{relative:n}=t===void 0?{}:t,{future:i}=B.useContext(Qo),{matches:o}=B.useContext(Xo),{pathname:u}=zd(),a=JSON.stringify(kA(o,i.v7_relativeSplatPath));return B.useMemo(()=>bA(e,JSON.parse(a),u,n==="path"),[e,a,u,n])}function P8(e,t){return O8(e,t)}function O8(e,t,n,i){Zl()||et(!1);let{navigator:o}=B.useContext(Qo),{matches:u}=B.useContext(Xo),a=u[u.length-1],c=a?a.params:{};a&&a.pathname;let f=a?a.pathnameBase:"/";a&&a.route;let d=zd(),v;if(t){var m;let x=typeof t=="string"?Pu(t):t;f==="/"||(m=x.pathname)!=null&&m.startsWith(f)||et(!1),v=x}else v=d;let y=v.pathname||"/",E=y;if(f!=="/"){let x=f.replace(/^\//,"").split("/");E="/"+y.replace(/^\//,"").split("/").slice(x.length).join("/")}let T=a8(e,{pathname:E}),k=U8(T&&T.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:Ni([f,o.encodeLocation?o.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?f:Ni([f,o.encodeLocation?o.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),u,n,i);return t&&k?B.createElement(Bd.Provider,{value:{location:Dl({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:mi.Pop}},k):k}function L8(){let e=z8(),t=C8(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:o},n):null,null)}const M8=B.createElement(L8,null);class j8 extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?B.createElement(Xo.Provider,{value:this.props.routeContext},B.createElement(CA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function F8(e){let{routeContext:t,match:n,children:i}=e,o=B.useContext(Bw);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(Xo.Provider,{value:t},i)}function U8(e,t,n,i){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var u;if((u=n)!=null&&u.errors)e=n.matches;else return null}let a=e,c=(o=n)==null?void 0:o.errors;if(c!=null){let v=a.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);v>=0||et(!1),a=a.slice(0,Math.min(a.length,v+1))}let f=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let v=0;v<a.length;v++){let m=a[v];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=v),m.route.id){let{loaderData:y,errors:E}=n,T=m.route.loader&&y[m.route.id]===void 0&&(!E||E[m.route.id]===void 0);if(m.route.lazy||T){f=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((v,m,y)=>{let E,T=!1,k=null,x=null;n&&(E=c&&m.route.id?c[m.route.id]:void 0,k=m.route.errorElement||M8,f&&(d<0&&y===0?(T=!0,x=null):d===y&&(T=!0,x=m.route.hydrateFallbackElement||null)));let S=t.concat(a.slice(0,y+1)),I=()=>{let _;return E?_=k:T?_=x:m.route.Component?_=B.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=v,B.createElement(F8,{match:m,routeContext:{outlet:v,matches:S,isDataRoute:n!=null},children:_})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?B.createElement(j8,{location:n.location,revalidation:n.revalidation,component:k,error:E,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):I()},null)}var RA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(RA||{}),Wh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wh||{});function V8(e){let t=B.useContext(Bw);return t||et(!1),t}function $8(e){let t=B.useContext(A8);return t||et(!1),t}function B8(e){let t=B.useContext(Xo);return t||et(!1),t}function PA(e){let t=B8(),n=t.matches[t.matches.length-1];return n.route.id||et(!1),n.route.id}function z8(){var e;let t=B.useContext(CA),n=$8(Wh.UseRouteError),i=PA(Wh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[i]}function q8(){let{router:e}=V8(RA.UseNavigateStable),t=PA(Wh.UseNavigateStable),n=B.useRef(!1);return xA(()=>{n.current=!0}),B.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Dl({fromRouteId:t},u)))},[e,t])}function Pa(e){et(!1)}function K8(e){let{basename:t="/",children:n=null,location:i,navigationType:o=mi.Pop,navigator:u,static:a=!1,future:c}=e;Zl()&&et(!1);let f=t.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:f,navigator:u,static:a,future:Dl({v7_relativeSplatPath:!1},c)}),[f,c,u,a]);typeof i=="string"&&(i=Pu(i));let{pathname:v="/",search:m="",hash:y="",state:E=null,key:T="default"}=i,k=B.useMemo(()=>{let x=$w(v,f);return x==null?null:{location:{pathname:x,search:m,hash:y,state:E,key:T},navigationType:o}},[f,v,m,y,E,T,o]);return k==null?null:B.createElement(Qo.Provider,{value:d},B.createElement(Bd.Provider,{children:n,value:k}))}function H8(e){let{children:t,location:n}=e;return P8(Py(t),n)}new Promise(()=>{});function Py(e,t){t===void 0&&(t=[]);let n=[];return B.Children.forEach(e,(i,o)=>{if(!B.isValidElement(i))return;let u=[...t,o];if(i.type===B.Fragment){n.push.apply(n,Py(i.props.children,u));return}i.type!==Pa&&et(!1),!i.props.index||!i.props.children||et(!1);let a={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Py(i.props.children,u)),n.push(a)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Oy.apply(this,arguments)}function W8(e,t){if(e==null)return{};var n={},i=Object.keys(e),o,u;for(u=0;u<i.length;u++)o=i[u],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function G8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Q8(e,t){return e.button===0&&(!t||t==="_self")&&!G8(e)}const X8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Y8="6";try{window.__reactRouterVersion=Y8}catch{}const J8="startTransition",hk=eL[J8];function Z8(e){let{basename:t,children:n,future:i,window:o}=e,u=B.useRef();u.current==null&&(u.current=o8({window:o,v5Compat:!0}));let a=u.current,[c,f]=B.useState({action:a.action,location:a.location}),{v7_startTransition:d}=i||{},v=B.useCallback(m=>{d&&hk?hk(()=>f(m)):f(m)},[f,d]);return B.useLayoutEffect(()=>a.listen(v),[a,v]),B.createElement(K8,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:a,future:i})}const e3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xr=B.forwardRef(function(t,n){let{onClick:i,relative:o,reloadDocument:u,replace:a,state:c,target:f,to:d,preventScrollReset:v,unstable_viewTransition:m}=t,y=W8(t,X8),{basename:E}=B.useContext(Qo),T,k=!1;if(typeof d=="string"&&t3.test(d)&&(T=d,e3))try{let _=new URL(window.location.href),A=d.startsWith("//")?new URL(_.protocol+d):new URL(d),L=$w(A.pathname,E);A.origin===_.origin&&L!=null?d=L+A.search+A.hash:k=!0}catch{}let x=D8(d,{relative:o}),S=n3(d,{replace:a,state:c,target:f,preventScrollReset:v,relative:o,unstable_viewTransition:m});function I(_){i&&i(_),_.defaultPrevented||S(_)}return B.createElement("a",Oy({},y,{href:T||x,onClick:k||u?i:I,ref:n,target:f}))});var dk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(dk||(dk={}));var pk;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pk||(pk={}));function n3(e,t){let{target:n,replace:i,state:o,preventScrollReset:u,relative:a,unstable_viewTransition:c}=t===void 0?{}:t,f=AA(),d=zd(),v=DA(e,{relative:a});return B.useCallback(m=>{if(Q8(m,n)){m.preventDefault();let y=i!==void 0?i:Hh(d)===Hh(v);f(e,{replace:y,state:o,preventScrollReset:u,relative:a,unstable_viewTransition:c})}},[d,f,v,i,o,n,e,u,a,c])}function r3({db:e}){const[t,n]=B.useState([]),[i,o]=B.useState(!1),[u,a]=B.useState(null),[c,f]=B.useState(""),[d,v]=B.useState(""),[m,y]=B.useState(""),[E,T]=B.useState(""),[k,x]=B.useState(!1);function S(){return d?m?E?!0:a("Falta el capacidad"):a("Falta el description"):a("Falta el Nombre")}function I(){v(""),y(""),T(""),x(!1)}function _(P){o(!0),f(P.id),v(P.name),y(P.description),T(P.capacity),x(P.available)}async function A(P){if(P.preventDefault(),S())try{const te={name:d,description:m,capacity:E,available:k,reservedBy:""},N=await e.collection("rooms").add(te);n([...t,{id:N.id,...te}]),I(),a(null)}catch(te){console.log(te)}}async function L(){try{const P=await e.collection("rooms").get();n(P.docs.map(te=>({id:te.id,...te.data()})))}catch(P){console.log(P)}}async function R(P){if(P.preventDefault(),S())try{await e.collection("rooms").doc(c).update({name:d,description:m,capacity:E,available:k});const te=t.map(N=>N.id===c?{id:c,name:d,description:m,capacity:E,available:k}:N);n(te),o(!1),I(),f(""),a(null)}catch(te){console.log(te)}}async function q(P){try{await e.collection("rooms").doc(P).delete();const te=t.filter(N=>N.id!==P);n(te)}catch(te){console.log(te)}}return B.useEffect(()=>{L()},[]),C.jsxs("main",{className:"container col-lg-8 min-vh-100",children:[C.jsxs("form",{className:"row mt-3 mb-5 pb-5 g-3",onSubmit:i?R:A,children:[u&&C.jsx("div",{className:"alert alert-danger",children:u}),C.jsx("label",{className:"text-warning text-opacity-75 fw-bold",children:"Room Information"}),C.jsx("div",{className:"col-md-6",children:C.jsxs("div",{className:"input-group",children:[C.jsx("span",{className:"input-group-text",children:C.jsxs("svg",{fill:"currentColor",height:"16px",width:"16px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",xmlSpace:"preserve",children:[C.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),C.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),C.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",C.jsxs("g",{children:[" ",C.jsxs("g",{children:[" ",C.jsx("path",{d:"M256,0C114.842,0,0,114.842,0,256s114.842,256,256,256s256-114.842,256-256S397.158,0,256,0z M243.2,485.752 c-65.843-3.627-124.339-34.645-164.036-82.15c39.671-47.778,98.005-79.155,164.036-82.816V485.752z M243.2,295.177 c-71.62,3.601-135.305,36.651-179.593,87.433c-21.751-32.99-35.055-71.91-37.359-113.809H243.2V295.177z M243.2,243.2H26.249 c2.313-41.899,15.607-80.819,37.359-113.809c44.288,50.782,107.972,83.831,179.593,87.433V243.2z M243.2,191.206 c-66.031-3.661-124.425-34.961-164.105-82.731c39.697-47.548,98.227-78.601,164.105-82.227V191.206z M268.8,26.249 c65.852,3.627,124.365,34.654,164.062,82.176c-39.671,47.778-98.039,79.121-164.062,82.782V26.249z M268.8,216.815 c71.612-3.593,135.347-36.591,179.635-87.364c21.726,32.973,35.012,71.876,37.325,113.749H268.8V216.815z M268.8,485.751V320.777 c66.022,3.669,124.331,35.081,164.002,82.859C393.105,451.123,334.626,482.125,268.8,485.751z M448.358,382.66 c-44.288-50.782-107.93-83.9-179.558-87.492V268.8h216.951C483.439,310.716,470.135,349.662,448.358,382.66z"})," "]})," "]})," "]})]})}),C.jsx("input",{type:"text",placeholder:"Ingresa el nombre de la sala",className:"form-control",value:d,onChange:P=>v(P.target.value)})]})}),C.jsx("div",{className:"col-md-6",children:C.jsxs("div",{className:"input-group",children:[C.jsx("span",{className:"input-group-text",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-person-fill",viewBox:"0 0 16 16",children:C.jsx("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"})})}),C.jsx("input",{type:"number",placeholder:"Ingresa la capacidad de la sala",className:"form-control",value:E,onChange:P=>T(P.target.value)})]})}),C.jsx("div",{className:"col-md-6",children:C.jsxs("div",{className:"input-group",children:[C.jsx("span",{className:"input-group-text",children:C.jsxs("svg",{width:"16",height:"16",fill:"currentColor",className:"bi bi-layout-text-sidebar-reverse",viewBox:"0 0 16 16",children:[C.jsx("path",{d:"M12.5 3a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zm0 3a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zm.5 3.5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 .5-.5m-.5 2.5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1z"}),C.jsx("path",{d:"M16 2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2zM4 1v14H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zm1 0h9a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5z"})]})}),C.jsx("input",{type:"text",placeholder:"Ingresa la descripción de la sala",className:"form-control",value:m,onChange:P=>y(P.target.value)})]})}),C.jsxs("div",{className:"form-check form-switch col-md-5 col-lg-4 d-flex justify-content-center pt-2 px-2",children:[C.jsx("input",{className:"form-check-input me-2",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",checked:k,onChange:P=>x(P.target.checked)}),C.jsx("label",{className:"form-check-label",htmlFor:"flexSwitchCheckChecked",children:"Disponible"})]}),C.jsx("div",{className:"d-grid gap-2",children:C.jsx("button",{className:"btn btn-dark fw-semibold",type:"submit",children:i?"Actualizar":"Crear Sala"})})]}),C.jsx("hr",{}),C.jsxs("div",{className:"container-fluid my-4 px-5 overflow-auto",children:[C.jsx("h2",{className:"text-center text-warning text-opacity-75 fw-semibold",children:"Rooms"}),C.jsxs("table",{className:"table table-striped table-hover",style:{minWidth:"780px"},children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{scope:"col",className:"text-body",children:"Name"}),C.jsx("th",{scope:"col",className:"text-body",children:"Description"}),C.jsx("th",{scope:"col",className:"text-body",children:"Capacity"}),C.jsx("th",{scope:"col",className:"text-body",children:"Available"}),C.jsx("th",{scope:"col",className:"text-body"})]})}),C.jsx("tbody",{children:t.map((P,te)=>C.jsxs("tr",{children:[C.jsx("td",{children:P.name}),C.jsx("td",{children:P.description}),C.jsx("td",{children:P.capacity}),C.jsx("td",{children:P.available?"Yes":"No"}),C.jsxs("td",{className:"d-flex gap-2",children:[C.jsx("button",{className:"btn",onClick:()=>_(P),children:C.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[C.jsx("path",{d:"M21.7312 2.26884C20.706 1.24372 19.044 1.24372 18.0188 2.26884L16.8617 3.42599L20.574 7.1383L21.7312 5.98116C22.7563 4.95603 22.7563 3.29397 21.7312 2.26884Z",fill:"#525252"}),C.jsx("path",{d:"M19.5133 8.19896L15.801 4.48665L7.40019 12.8875C6.78341 13.5043 6.33002 14.265 6.081 15.101L5.28122 17.7859C5.2026 18.0498 5.27494 18.3356 5.46967 18.5303C5.6644 18.725 5.95019 18.7974 6.21412 18.7188L8.89901 17.919C9.73498 17.67 10.4957 17.2166 11.1125 16.5998L19.5133 8.19896Z",fill:"#525252"}),C.jsx("path",{d:"M5.25 5.24999C3.59315 5.24999 2.25 6.59314 2.25 8.24999V18.75C2.25 20.4068 3.59315 21.75 5.25 21.75H15.75C17.4069 21.75 18.75 20.4068 18.75 18.75V13.5C18.75 13.0858 18.4142 12.75 18 12.75C17.5858 12.75 17.25 13.0858 17.25 13.5V18.75C17.25 19.5784 16.5784 20.25 15.75 20.25H5.25C4.42157 20.25 3.75 19.5784 3.75 18.75V8.24999C3.75 7.42156 4.42157 6.74999 5.25 6.74999H10.5C10.9142 6.74999 11.25 6.41421 11.25 5.99999C11.25 5.58578 10.9142 5.24999 10.5 5.24999H5.25Z",fill:"#525252"})]})}),C.jsx("button",{className:"btn",onClick:()=>q(P.id),children:C.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.5001 4.47819V4.70498C17.4548 4.79237 18.4017 4.90731 19.3398 5.04898C19.6871 5.10143 20.0332 5.15755 20.3781 5.2173C20.7863 5.28799 21.0598 5.67617 20.9891 6.0843C20.9184 6.49244 20.5302 6.76598 20.1221 6.69529C20.0525 6.68323 19.9829 6.67132 19.9131 6.65957L18.9077 19.7301C18.7875 21.2931 17.4842 22.5 15.9166 22.5H8.08369C6.51608 22.5 5.21276 21.2931 5.09253 19.7301L4.0871 6.65957C4.0174 6.67132 3.94774 6.68323 3.87813 6.69529C3.47 6.76598 3.08183 6.49244 3.01113 6.0843C2.94043 5.67617 3.21398 5.28799 3.62211 5.2173C3.96701 5.15755 4.31315 5.10143 4.66048 5.04898C5.59858 4.90731 6.5454 4.79237 7.50012 4.70498V4.47819C7.50012 2.91371 8.71265 1.57818 10.3156 1.52691C10.8749 1.50901 11.4365 1.5 12.0001 1.5C12.5638 1.5 13.1253 1.50901 13.6847 1.52691C15.2876 1.57818 16.5001 2.91371 16.5001 4.47819ZM10.3635 3.02614C10.9069 3.00876 11.4525 3 12.0001 3C12.5478 3 13.0934 3.00876 13.6367 3.02614C14.3913 3.05028 15.0001 3.68393 15.0001 4.47819V4.59082C14.0078 4.53056 13.0075 4.5 12.0001 4.5C10.9928 4.5 9.99249 4.53056 9.00012 4.59082V4.47819C9.00012 3.68393 9.6089 3.05028 10.3635 3.02614ZM10.0087 8.97118C9.9928 8.55727 9.64436 8.23463 9.23045 8.25055C8.81654 8.26647 8.49391 8.61492 8.50983 9.02882L8.85599 18.0288C8.8719 18.4427 9.22035 18.7654 9.63426 18.7494C10.0482 18.7335 10.3708 18.3851 10.3549 17.9712L10.0087 8.97118ZM15.4895 9.02882C15.5054 8.61492 15.1828 8.26647 14.7689 8.25055C14.355 8.23463 14.0065 8.55727 13.9906 8.97118L13.6444 17.9712C13.6285 18.3851 13.9512 18.7335 14.3651 18.7494C14.779 18.7654 15.1274 18.4427 15.1433 18.0288L15.4895 9.02882Z",fill:"#525252"})})})]})]},te))})]})]})]})}function i3({firebaseUser:e}){return C.jsx("main",{style:{minHeight:"64vh"},children:C.jsxs("div",{className:"d-flex justify-content-center align-items-center flex-wrap mx-3",children:[C.jsxs("div",{className:"d-inline col-10 col-sm-5 col-md-4 col-xl-3 mt-4 mx-4",children:[C.jsxs("h1",{className:"text-warning",children:["Sé fuerte, sé ",C.jsx("span",{className:"text-warning fw-bold fst-italic",children:"MEJOR"})]}),C.jsx("h6",{children:"Practicar un deporte puede ayudarte a mejorar tu memoria, atención, concentración y capacidad de resolver problemas. 🧠"}),C.jsx("h4",{className:"mb-0",children:"¡Incorpora Athlete Arena en tu rutina diaria y alcanza tus metas!💪🏼"}),C.jsx("div",{className:"d-flex justify-content-center mt-2",children:e?C.jsx(xr,{to:"/reservation",role:"button",className:"btn btn-dark",children:"Reservar"}):C.jsx(xr,{to:"/login",role:"button",className:"btn btn-dark",children:"Iniciar Sesión"})})]}),C.jsx("div",{className:"d-inline col-sm-5 col-md-4",children:C.jsx("img",{src:"https://www.shutterstock.com/image-vector/silhouettes-athletes-different-sports-600nw-2388423531.jpg",className:"img-fluid small-image",alt:"Imagen de Home"})})]})})}function o3({auth:e,db:t}){const[n,i]=B.useState(""),[o,u]=B.useState(""),[a,c]=B.useState(""),[f,d]=B.useState(""),[v,m]=B.useState(null),[y,E]=B.useState(!1),T=AA(),k=B.useCallback(async()=>{try{const I=await e.createUserWithEmailAndPassword(a,f);console.log(I);const _=await I.user;await t.collection("users").doc(_.email).set({id:_.uid,name:n,lastName:o,email:_.email}),i(""),u(""),c(""),d(""),m(null),T("/")}catch(I){console.error(I.code),I.code==="auth/invalid-email"&&m("Email no válido!"),I.code==="auth/email-already-in-use"&&m("Este email ya existe!")}},[n,o,a,f]),x=B.useCallback(async()=>{try{const I=await e.signInWithEmailAndPassword(a,f);console.log(I),c(""),d(""),m(null),T("/")}catch(I){I.code==="auth/invalid-email"&&m("Email no válido!"),I.code==="auth/user-not-found"&&m("Email no registrado!"),I.code==="auth/wrong-password"&&m("Contraseña errada!"),I.code==="auth/internal-error"&&m("Credenciales no válidas!")}},[a,f,T]);function S(I){if(I.preventDefault(),!a)return m("Ingrese un email válido");if(f.length<6)return m("La contraseña debe ser mínimo de 6 caracteres!");m(null),y?k():x()}return C.jsxs("main",{className:"container col-lg-8 min-vh-100",children:[v&&C.jsx("div",{className:"alert alert-danger",children:v}),C.jsxs("form",{className:"row mt-3 mb-5 g-3",onSubmit:S,children:[C.jsx("h3",{className:"text-warning text-center text-opacity-75 fw-bold",children:y?"Sign Up":"Login"}),y?C.jsxs("div",{className:"row g-3",children:[C.jsx("div",{className:"col-md-6",children:C.jsxs("div",{className:"input-group",children:[C.jsx("span",{className:"input-group-text",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-person-fill",viewBox:"0 0 16 16",children:C.jsx("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"})})}),C.jsx("input",{type:"text",placeholder:"Ingresa tu Nombre",className:"form-control",value:n,onChange:I=>i(I.target.value),required:!0})]})}),C.jsx("div",{className:"col-md-6",children:C.jsxs("div",{className:"input-group",children:[C.jsx("span",{className:"input-group-text",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-person-fill",viewBox:"0 0 16 16",children:C.jsx("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"})})}),C.jsx("input",{type:"text",placeholder:"Ingresa tu Apellido",className:"form-control",value:o,onChange:I=>u(I.target.value),required:!0})]})})]}):null,C.jsxs("div",{className:"row g-3",children:[C.jsx("div",{className:"col-md-6",children:C.jsxs("div",{className:"input-group",children:[C.jsx("span",{className:"input-group-text",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-envelope-fill",viewBox:"0 0 16 16",children:C.jsx("path",{d:"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414zM0 4.697v7.104l5.803-3.558zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586zm3.436-.586L16 11.801V4.697z"})})}),C.jsx("input",{type:"email",placeholder:"Ingresa tu email",className:"form-control",value:a,onChange:I=>c(I.target.value)})]})}),C.jsx("div",{className:"col-md-6",children:C.jsxs("div",{className:"input-group",children:[C.jsx("span",{className:"input-group-text",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-key-fill",viewBox:"0 0 16 16",children:C.jsx("path",{d:"M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2M2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2"})})}),C.jsx("input",{type:"password",placeholder:"Ingresa tu Contraseña",className:"form-control",value:f,onChange:I=>d(I.target.value)})]})})]}),C.jsx("div",{className:"d-grid gap-2 col-10 mx-auto",children:C.jsx("button",{className:"btn btn-dark fw-semibold",type:"submit",children:y?"Sign Up":"Login"})}),C.jsx("a",{className:"text-center text-decoration-none",href:"#",type:"button",onClick:()=>E(!y),children:y?"¿Ya tienes una cuenta?😉":"¿No tienes cuenta?😢"})]})]})}function s3({firebaseUser:e,auth:t}){return C.jsx("nav",{className:"d-flex justify-content-center navbar navbar-expand-lg shadow mb-5 bg-body-tertiary",children:C.jsxs("div",{className:"container-fluid my-1 mx-3 mx-md-5",style:{maxWidth:"1440px"},children:[C.jsxs(xr,{className:"navbar-brand d-flex align-items-center fst-italic fw-bolder fs-3 text-warning text-opacity-75",to:"/",children:[C.jsxs("svg",{className:"me-1",fill:"currentcolor",height:"28px",width:"28px",version:"1.1",id:"Capa_1",viewBox:"0 0 58 58",xmlSpace:"preserve",children:[C.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),C.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),C.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",C.jsxs("g",{children:[" ",C.jsxs("g",{children:[" ",C.jsxs("g",{children:[" ",C.jsx("path",{d:"M41.115,2.668c-2.426-1.122-5.028-1.924-7.758-2.338C26.732,8.333,20.6,16.142,18.937,29.869 c3.317-0.233,6.444-0.775,9.137-1.633c1.334-11.806,6.42-17.794,11.81-24.111C40.291,3.65,40.704,3.153,41.115,2.668z"})," ",C.jsx("path",{d:"M47.355,51.423c-0.175-10.258-3.116-23.47-15.191-32.004c-1.007,2.652-1.748,5.682-2.136,9.303l0.273,0.365 c5.253,6.344,9.136,16.137,10.501,26.388C43.171,54.413,45.374,53.049,47.355,51.423z"})," ",C.jsx("path",{d:"M0.914,36.278c10.225,3.072,18.423,4.453,31.375-0.7c-1.096-1.948-2.287-3.72-3.557-5.254l-0.12-0.159 c-3.877,1.221-8.604,1.829-13.496,1.829c-5.142,0-10.442-0.673-15.103-1.973C0.089,32.173,0.392,34.268,0.914,36.278z"})," ",C.jsx("path",{d:"M36.237,44.614c-0.856-2.562-1.863-5.009-3-7.26c-6.586,2.648-11.994,3.7-17.009,3.7c-4.974,0-9.582-1.022-14.61-2.485 c1.038,2.959,2.541,5.698,4.424,8.133C15.537,48.832,24.63,49.078,36.237,44.614z"})," ",C.jsx("path",{d:"M41.406,5.423c-1.24,1.453-2.438,2.864-3.569,4.307c11.132,6.064,15.776,18.293,18.332,29.374 c1.174-3.148,1.819-6.552,1.819-10.105c0-10.931-6.081-20.466-15.036-25.407C42.435,4.207,41.916,4.826,41.406,5.423z"})," ",C.jsx("path",{d:"M9.922,29.768c2.335,0.208,4.689,0.278,6.988,0.204c1.597-13.919,7.516-21.939,14.064-29.896 C30.317,0.031,29.656,0,28.988,0c-1.594,0-3.156,0.135-4.68,0.383C17.434,8.641,11.506,15.873,9.922,29.768z"})," ",C.jsx("path",{d:"M36.617,11.339c-1.383,1.902-2.623,3.918-3.663,6.197c12.374,8.529,15.863,21.565,16.35,32.133 c2.209-2.171,4.068-4.694,5.496-7.474C52.313,30.178,48.09,17.403,36.617,11.339z"})," ",C.jsx("path",{d:"M36.84,46.523c-6.845,2.619-12.853,3.679-18.56,3.679c-3.422,0-6.74-0.377-10.075-1.006 C13.476,54.62,20.844,58,28.988,58c3.475,0,6.808-0.616,9.898-1.741C38.473,52.959,37.776,49.672,36.84,46.523z"})," ",C.jsx("path",{d:"M7.934,29.556c1.521-13.322,7.034-20.98,13.191-28.464C9.268,4.438,0.476,15.144,0.015,27.945 C2.497,28.676,5.179,29.214,7.934,29.556z"})," "]})," "]})," "]})," "]})]}),"AthleteArena"]}),C.jsx("button",{className:"navbar-toggler focus-ring focus-ring-warning",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:C.jsx("span",{className:"navbar-toggler-icon"})}),C.jsx("div",{className:"navbar-collapse",id:"navbarSupportedContent",children:C.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[C.jsx("li",{className:"nav-item",children:C.jsx(xr,{to:"/",className:"nav-link",children:"Inicio"})}),e?C.jsxs(C.Fragment,{children:[C.jsx("li",{className:"nav-item",children:C.jsx(xr,{to:"/reservation",className:"nav-link",children:"Reservar"})}),e.email==="admin@mail.com"?C.jsx("li",{className:"nav-item",children:C.jsx(xr,{to:"/admin",className:"nav-link",children:"Admin"})}):null,C.jsx("li",{className:"nav-item",children:C.jsx(xr,{to:"/",className:"btn btn-outline-warning",onClick:()=>t.signOut(),children:"Cerrar Sesión"})})]}):C.jsx("li",{className:"nav-item",children:C.jsx(xr,{to:"/login",className:"nav-link",children:"Iniciar Sesión"})})]})})]})})}function u3(){return C.jsx("footer",{className:"d-flex justify-content-center align-items-center py-3 px-4 mt-5 bg-warning bg-opacity-50",children:C.jsxs("div",{children:[C.jsx(xr,{to:"/",className:"col-12 col-md-4 d-flex align-items-center justify-content-center mb-3 mx-md-auto text-body-secondary",children:C.jsxs("svg",{fill:"currentcolor",height:"32px",width:"32px",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 58 58",xmlSpace:"preserve",children:[C.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),C.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),C.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",C.jsxs("g",{children:[" ",C.jsxs("g",{children:[" ",C.jsxs("g",{children:[" ",C.jsx("path",{d:"M41.115,2.668c-2.426-1.122-5.028-1.924-7.758-2.338C26.732,8.333,20.6,16.142,18.937,29.869 c3.317-0.233,6.444-0.775,9.137-1.633c1.334-11.806,6.42-17.794,11.81-24.111C40.291,3.65,40.704,3.153,41.115,2.668z"})," ",C.jsx("path",{d:"M47.355,51.423c-0.175-10.258-3.116-23.47-15.191-32.004c-1.007,2.652-1.748,5.682-2.136,9.303l0.273,0.365 c5.253,6.344,9.136,16.137,10.501,26.388C43.171,54.413,45.374,53.049,47.355,51.423z"})," ",C.jsx("path",{d:"M0.914,36.278c10.225,3.072,18.423,4.453,31.375-0.7c-1.096-1.948-2.287-3.72-3.557-5.254l-0.12-0.159 c-3.877,1.221-8.604,1.829-13.496,1.829c-5.142,0-10.442-0.673-15.103-1.973C0.089,32.173,0.392,34.268,0.914,36.278z"})," ",C.jsx("path",{d:"M36.237,44.614c-0.856-2.562-1.863-5.009-3-7.26c-6.586,2.648-11.994,3.7-17.009,3.7c-4.974,0-9.582-1.022-14.61-2.485 c1.038,2.959,2.541,5.698,4.424,8.133C15.537,48.832,24.63,49.078,36.237,44.614z"})," ",C.jsx("path",{d:"M41.406,5.423c-1.24,1.453-2.438,2.864-3.569,4.307c11.132,6.064,15.776,18.293,18.332,29.374 c1.174-3.148,1.819-6.552,1.819-10.105c0-10.931-6.081-20.466-15.036-25.407C42.435,4.207,41.916,4.826,41.406,5.423z"})," ",C.jsx("path",{d:"M9.922,29.768c2.335,0.208,4.689,0.278,6.988,0.204c1.597-13.919,7.516-21.939,14.064-29.896 C30.317,0.031,29.656,0,28.988,0c-1.594,0-3.156,0.135-4.68,0.383C17.434,8.641,11.506,15.873,9.922,29.768z"})," ",C.jsx("path",{d:"M36.617,11.339c-1.383,1.902-2.623,3.918-3.663,6.197c12.374,8.529,15.863,21.565,16.35,32.133 c2.209-2.171,4.068-4.694,5.496-7.474C52.313,30.178,48.09,17.403,36.617,11.339z"})," ",C.jsx("path",{d:"M36.84,46.523c-6.845,2.619-12.853,3.679-18.56,3.679c-3.422,0-6.74-0.377-10.075-1.006 C13.476,54.62,20.844,58,28.988,58c3.475,0,6.808-0.616,9.898-1.741C38.473,52.959,37.776,49.672,36.84,46.523z"})," ",C.jsx("path",{d:"M7.934,29.556c1.521-13.322,7.034-20.98,13.191-28.464C9.268,4.438,0.476,15.144,0.015,27.945 C2.497,28.676,5.179,29.214,7.934,29.556z"})," "]})," "]})," "]})," "]})]})}),C.jsx("p",{className:"col-12 mb-3 text-center text-body-secondary",children:"© 2024 AthleteArena"}),C.jsx("p",{className:"col-12 mb-3 text-center text-body-secondary",children:"Andriw Rollo & Melissa Villa"})]})})}function a3({room:e,userEmail:t,makeReservation:n,cancelReservation:i}){const o=e.reservedBy&&(e.reservedBy===t||t==="admin@mail.com");return C.jsx("div",{className:e.available?"card m-2 shadow":"card my-2 m-sm-2",style:{width:"264px"},children:C.jsxs("div",{className:"card-body",children:[C.jsx("h3",{className:"text-center",children:e.name}),C.jsx("h5",{className:"text-body-secondary",children:e.description}),C.jsxs("h5",{className:"text-body-secondary",children:["Capacidad: ",e.capacity]}),C.jsx("h5",{className:"text-body-secondary",children:e.available?"Disponible":"No disponible"}),C.jsx("div",{className:"d-flex justify-content-center flex-wrap",children:e.available?C.jsx("button",{type:"button",className:"btn btn-warning mt-2",onClick:()=>n(e),children:"Reservar"}):o?C.jsx("button",{type:"button",className:"btn btn-dark mt-2",onClick:()=>i(e),children:"Finalizar Reserva"}):C.jsx("button",{type:"button",className:"btn btn-warning mt-2",disabled:!0,children:"Reservar"})})]})})}function l3({db:e,firebaseUser:t}){const[n,i]=B.useState([]),[o,u]=B.useState("all"),[a,c]=B.useState("");function f(){switch(o){case"all":return n;case"available":return n.filter(E=>E.available);case"reserved":return n.filter(E=>E.reservedBy===t.email)}}function d(){return a?f().filter(E=>E.name.toLowerCase().includes(a.toLowerCase())):f()}async function v(){try{const E=await e.collection("rooms").get();i(E.docs.map(T=>({id:T.id,...T.data()})))}catch(E){console.log(E)}}async function m(E){const T=E.name,k=E.description,x=E.capacity,S=!1,I=t.email;try{await e.collection("rooms").doc(E.id).update({name:T,description:k,capacity:x,available:S,reservedBy:I}),v()}catch(_){console.log(_)}}async function y(E){const T=E.name,k=E.description,x=E.capacity,S=!0,I="";try{await e.collection("rooms").doc(E.id).update({name:T,description:k,capacity:x,available:S,reservedBy:I}),v()}catch(_){console.log(_)}}return B.useEffect(()=>{v()},[]),C.jsxs("main",{className:"d-flex justify-content-center flex-wrap my-5 px-xl-5 min-width-100",children:[C.jsxs("div",{className:"form-floating col-9",children:[C.jsx("input",{className:"form-control",type:"text",id:"searchInput",onChange:E=>c(E.target.value.trim())}),C.jsx("label",{htmlFor:"searchInput",children:"Buscar Salas"})]}),C.jsxs("div",{className:"form-floating col-6 col-md-4 mt-3",children:[C.jsxs("select",{className:"form-select",id:"floatingSelect",onChange:E=>u(E.target.value),defaultValue:"all",children:[C.jsx("option",{value:"all",children:"Todas"}),C.jsx("option",{value:"available",children:"Disponibles"}),C.jsx("option",{value:"reserved",children:"Mis Reservas"})]}),C.jsx("label",{htmlFor:"floatingSelect",children:"Filtrar Salas"})]}),C.jsx("div",{className:"d-flex justify-content-center flex-wrap col-10 mt-4 mb-5 px-xl-5",id:"cardsContainer",style:{maxWidth:"1200px"},children:d().map((E,T)=>C.jsx(a3,{room:E,userEmail:t.email,makeReservation:m,cancelReservation:y},T))})]})}function c3(){const[e,t]=B.useState(!1);return B.useEffect(()=>{ag.onAuthStateChanged(n=>{t(n||null)})},[]),C.jsxs(Z8,{children:[C.jsx("header",{children:C.jsx(s3,{firebaseUser:e,auth:ag})}),C.jsxs(H8,{children:[C.jsx(Pa,{path:"/",element:C.jsx(i3,{firebaseUser:e})}),C.jsx(Pa,{path:"login",element:C.jsx(o3,{auth:ag,db:ug})}),C.jsx(Pa,{path:"admin",element:C.jsx(r3,{db:ug})}),C.jsx(Pa,{path:"reservation",element:C.jsx(l3,{db:ug,firebaseUser:e})})]}),C.jsx(u3,{})]})}cg.createRoot(document.getElementById("root")).render(C.jsx(kk.StrictMode,{children:C.jsx(c3,{})}));
